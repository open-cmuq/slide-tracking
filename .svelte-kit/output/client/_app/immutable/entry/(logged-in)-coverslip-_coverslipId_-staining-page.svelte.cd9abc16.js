import{S as H,i as J,s as K,k as $,l as g,m as v,h as _,p as k,b as p,d,f as U,g as m,Y as L,w as j,z as E,A as I,B as S,C as y,M as G,r as w,u as D,a as V,c as B,I as h,U as C,v as Y}from"../chunks/index.79e82b19.js";import"../chunks/coverslipTable.svelte_svelte_type_style_lang.6429d3c8.js";import"../chunks/singletons.d744cbe5.js";import{s as q}from"../chunks/stainining_fields.257325a1.js";import{B as z}from"../chunks/button-item.6bf52554.js";import{D as N}from"../chunks/dropdown-item.72bb262e.js";import{E as O}from"../chunks/empty-list.ac357487.js";function A(o,e,n){const l=o.slice();return l[2]=e[n],l[4]=n,l}function F(o,e,n){const l=o.slice();return l[5]=e[n],l}function Q(o){let e,n;return e=new O({props:{$$slots:{default:[T]},$$scope:{ctx:o}}}),{c(){E(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,i){S(e,l,i),n=!0},p(l,i){const r={};i&256&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){n||(m(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){y(e,l)}}}function R(o){let e,n,l=o[0].stainings,i=[];for(let s=0;s<l.length;s+=1)i[s]=P(A(o,l,s));const r=s=>d(i[s],1,1,()=>{i[s]=null});return{c(){e=$("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var a=v(e);for(let t=0;t<i.length;t+=1)i[t].l(a);a.forEach(_),this.h()},h(){k(e,"class","double-column")},m(s,a){p(s,e,a);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(s,a){if(a&3){l=s[0].stainings;let t;for(t=0;t<l.length;t+=1){const c=A(s,l,t);i[t]?(i[t].p(c,a),m(i[t],1)):(i[t]=P(c),i[t].c(),m(i[t],1),i[t].m(e,null))}for(j(),t=l.length;t<i.length;t+=1)r(t);U()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)m(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)d(i[a]);n=!1},d(s){s&&_(e),G(i,s)}}}function T(o){let e;return{c(){e=w("Your stainings will appear here when you add them")},l(n){e=D(n,"Your stainings will appear here when you add them")},m(n,l){p(n,e,l)},d(n){n&&_(e)}}}function W(o){let e;return{c(){e=w("Edit staining")},l(n){e=D(n,"Edit staining")},m(n,l){p(n,e,l)},d(n){n&&_(e)}}}function X(o){let e;return{c(){e=w("Delete staining")},l(n){e=D(n,"Delete staining")},m(n,l){p(n,e,l)},d(n){n&&_(e)}}}function Z(o){let e,n,l,i;return e=new z({props:{$$slots:{default:[W]},$$scope:{ctx:o}}}),e.$on("click",function(){C(o[1].editStaining.bind(null,o[2]))&&o[1].editStaining.bind(null,o[2]).apply(this,arguments)}),l=new z({props:{$$slots:{default:[X]},$$scope:{ctx:o}}}),l.$on("click",function(){C(o[1].deleteStaining.bind(null,o[2]))&&o[1].deleteStaining.bind(null,o[2]).apply(this,arguments)}),{c(){E(e.$$.fragment),n=V(),E(l.$$.fragment)},l(r){I(e.$$.fragment,r),n=B(r),I(l.$$.fragment,r)},m(r,s){S(e,r,s),p(r,n,s),S(l,r,s),i=!0},p(r,s){o=r;const a={};s&256&&(a.$$scope={dirty:s,ctx:o}),e.$set(a);const t={};s&256&&(t.$$scope={dirty:s,ctx:o}),l.$set(t)},i(r){i||(m(e.$$.fragment,r),m(l.$$.fragment,r),i=!0)},o(r){d(e.$$.fragment,r),d(l.$$.fragment,r),i=!1},d(r){y(e,r),r&&_(n),y(l,r)}}}function M(o){let e,n,l=q[o[5].name]+"",i,r,s,a=o[5].value+"",t;return{c(){e=$("div"),n=$("div"),i=w(l),r=V(),s=$("div"),t=w(a),this.h()},l(c){e=g(c,"DIV",{class:!0});var u=v(e);n=g(u,"DIV",{class:!0});var f=v(n);i=D(f,l),f.forEach(_),r=B(u),s=g(u,"DIV",{class:!0});var b=v(s);t=D(b,a),b.forEach(_),u.forEach(_),this.h()},h(){k(n,"class","field svelte-1uuuo79"),k(s,"class","value svelte-1uuuo79"),k(e,"class","item")},m(c,u){p(c,e,u),h(e,n),h(n,i),h(e,r),h(e,s),h(s,t)},p(c,u){u&1&&l!==(l=q[c[5].name]+"")&&Y(i,l),u&1&&a!==(a=c[5].value+"")&&Y(t,a)},d(c){c&&_(e)}}}function P(o){let e,n,l,i,r;n=new N({props:{title:"Staining #"+(o[4]+1),$$slots:{default:[Z]},$$scope:{ctx:o}}});let s=o[2].fields,a=[];for(let t=0;t<s.length;t+=1)a[t]=M(F(o,s,t));return{c(){e=$("div"),E(n.$$.fragment),l=V();for(let t=0;t<a.length;t+=1)a[t].c();i=V()},l(t){e=g(t,"DIV",{});var c=v(e);I(n.$$.fragment,c),l=B(c);for(let u=0;u<a.length;u+=1)a[u].l(c);i=B(c),c.forEach(_)},m(t,c){p(t,e,c),S(n,e,null),h(e,l);for(let u=0;u<a.length;u+=1)a[u].m(e,null);h(e,i),r=!0},p(t,c){const u={};if(c&257&&(u.$$scope={dirty:c,ctx:t}),n.$set(u),c&1){s=t[2].fields;let f;for(f=0;f<s.length;f+=1){const b=F(t,s,f);a[f]?a[f].p(b,c):(a[f]=M(b),a[f].c(),a[f].m(e,i))}for(;f<a.length;f+=1)a[f].d(1);a.length=s.length}},i(t){r||(m(n.$$.fragment,t),r=!0)},o(t){d(n.$$.fragment,t),r=!1},d(t){t&&_(e),y(n),G(a,t)}}}function x(o){let e,n,l,i;const r=[R,Q],s=[];function a(t,c){return t[0].stainings.length?0:1}return n=a(o),l=s[n]=r[n](o),{c(){e=$("div"),l.c(),this.h()},l(t){e=g(t,"DIV",{class:!0});var c=v(e);l.l(c),c.forEach(_),this.h()},h(){k(e,"class","stainings svelte-1uuuo79")},m(t,c){p(t,e,c),s[n].m(e,null),i=!0},p(t,[c]){let u=n;n=a(t),n===u?s[n].p(t,c):(j(),d(s[u],1,1,()=>{s[u]=null}),U(),l=s[n],l?l.p(t,c):(l=s[n]=r[n](t),l.c()),m(l,1),l.m(e,null))},i(t){i||(m(l),i=!0)},o(t){d(l),i=!1},d(t){t&&_(e),s[n].d()}}}function ee(o,e,n){let{data:l}=e;const i=L("prompt");return o.$$set=r=>{"data"in r&&n(0,l=r.data)},[l,i]}class re extends H{constructor(e){super(),J(this,e,ee,x,K,{data:0})}}export{re as default};
