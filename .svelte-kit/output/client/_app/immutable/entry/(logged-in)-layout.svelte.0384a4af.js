import{S as K,i as x,s as J,x as G,K as W,k as E,z as S,l as T,m as q,A as M,q as se,b as g,B as y,L as Q,g as I,d as N,h as p,C as z,a as V,c as U,p as d,I as O,e as Y,w as ae,f as pe,n as ee,M as rt,r as F,u as H,N as ne,O as He,P as Et,Q as Tt,v as ce,D as De,R as Fe,T as ue,F as je,G as Ce,H as Oe,U as hn,V as ze,W as nn,J as Ze,X as gn,Y as ot,Z as Kt,_ as bt,$ as Zt,a0 as vn}from"../chunks/index.79e82b19.js";import{M as We,m as $n,a as bn,u as kt,b as kn,e as wn,c as In,d as En,f as Tn,g as Nn}from"../chunks/coverslipTable.svelte_svelte_type_style_lang.6429d3c8.js";import{c as ft,D as Dn,P as jn,A as Cn}from"../chunks/popup.dbbce627.js";import{w as on}from"../chunks/singletons.d744cbe5.js";import{S as rn,C as Nt}from"../chunks/slide.c2dc0211.js";import{s as wt}from"../chunks/stainining_fields.257325a1.js";import{f as Jt}from"../chunks/index.b48e78f2.js";import{B as Qt}from"../chunks/button-item.6bf52554.js";import{S as It,N as On}from"../chunks/navbar.c3c24b68.js";import{p as xt}from"../chunks/stores.2aba5b55.js";import{L as Pn}from"../chunks/link-item.06f44794.js";import{E as fn}from"../chunks/empty-list.ac357487.js";function sl(i,e,l){const t=i.slice();return t[10]=e[l],t[12]=l,t}function Vn(i){let e,l=i[12]+1+"",t;return{c(){e=F("#"),t=F(l)},l(n){e=H(n,"#"),t=H(n,l)},m(n,o){g(n,e,o),g(n,t,o)},p:ee,d(n){n&&p(e),n&&p(t)}}}function ul(i){let e,l;return e=new Nt({props:{coverslip:i[10],$$slots:{default:[Vn]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&32&&(o.coverslip=t[10]),n&8192&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function al(i){let e,l;return e=new Nt({props:{active:!0,draggable:!0,coverslip:{positionX:i[3],positionY:i[4],shape:i[2]},position:"auto"}}),e.$on("position",i[6]),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&28&&(o.coverslip={positionX:t[3],positionY:t[4],shape:t[2]}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Un(i){let e,l=i[5],t,n,o=i[5],f=[];for(let u=0;u<o.length;u+=1)f[u]=ul(sl(i,o,u));const r=u=>N(f[u],1,1,()=>{f[u]=null});let s=al(i);return{c(){for(let u=0;u<f.length;u+=1)f[u].c();e=V(),s.c(),t=Y()},l(u){for(let a=0;a<f.length;a+=1)f[a].l(u);e=U(u),s.l(u),t=Y()},m(u,a){for(let c=0;c<f.length;c+=1)f[c].m(u,a);g(u,e,a),s.m(u,a),g(u,t,a),n=!0},p(u,a){if(a&32){o=u[5];let c;for(c=0;c<o.length;c+=1){const h=sl(u,o,c);f[c]?(f[c].p(h,a),I(f[c],1)):(f[c]=ul(h),f[c].c(),I(f[c],1),f[c].m(e.parentNode,e))}for(ae(),c=o.length;c<f.length;c+=1)r(c);pe()}a&32&&J(l,l=u[5])?(ae(),N(s,1,1,ee),pe(),s=al(u),s.c(),I(s,1),s.m(t.parentNode,t)):s.p(u,a)},i(u){if(!n){for(let a=0;a<o.length;a+=1)I(f[a]);I(s),n=!0}},o(u){f=f.filter(Boolean);for(let a=0;a<f.length;a+=1)N(f[a]);N(s),n=!1},d(u){rt(f,u),u&&p(e),u&&p(t),s.d(u)}}}function qn(i){let e,l,t,n,o;return l=new Qe({props:{label:"Round",value:"round",checked:!0}}),n=new Qe({props:{label:"Square",value:"square"}}),{c(){e=E("div"),S(l.$$.fragment),t=V(),S(n.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var r=q(e);M(l.$$.fragment,r),t=U(r),M(n.$$.fragment,r),r.forEach(p),this.h()},h(){d(e,"class","double-column")},m(f,r){g(f,e,r),y(l,e,null),O(e,t),y(n,e,null),o=!0},p:ee,i(f){o||(I(l.$$.fragment,f),I(n.$$.fragment,f),o=!0)},o(f){N(l.$$.fragment,f),N(n.$$.fragment,f),o=!1},d(f){f&&p(e),z(l),z(n)}}}function Sn(i){let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b;return s=new rn({props:{slideId:i[1],$$slots:{default:[Un]},$$scope:{ctx:i}}}),h=new fe({props:{label:"Specimen",name:"specimen",placeholder:"Specimen",required:!0}}),$=new fe({props:{label:"Coating",name:"coating",placeholder:"Coating",required:!0}}),P=new el({props:{label:"Shape",name:"shape",$$slots:{default:[qn]},$$scope:{ctx:i}}}),P.$on("change",i[7]),{c(){e=E("input"),l=V(),t=E("input"),n=V(),o=E("input"),f=V(),r=E("div"),S(s.$$.fragment),u=V(),a=E("div"),c=E("div"),S(h.$$.fragment),_=V(),v=E("div"),S($.$$.fragment),C=V(),S(P.$$.fragment),this.h()},l(k){e=T(k,"INPUT",{type:!0,name:!0}),l=U(k),t=T(k,"INPUT",{type:!0,name:!0}),n=U(k),o=T(k,"INPUT",{type:!0,name:!0}),f=U(k),r=T(k,"DIV",{class:!0});var D=q(r);M(s.$$.fragment,D),u=U(D),a=T(D,"DIV",{});var w=q(a);c=T(w,"DIV",{class:!0});var j=q(c);M(h.$$.fragment,j),j.forEach(p),_=U(w),v=T(w,"DIV",{class:!0});var B=q(v);M($.$$.fragment,B),B.forEach(p),C=U(w),M(P.$$.fragment,w),w.forEach(p),D.forEach(p),this.h()},h(){d(e,"type","hidden"),d(e,"name","slideId"),e.value=i[1],d(t,"type","hidden"),d(t,"name","positionX"),t.value=i[3],d(o,"type","hidden"),d(o,"name","positionY"),o.value=i[4],d(c,"class","single-column"),d(v,"class","single-column"),d(r,"class","wrapper svelte-lz2vng")},m(k,D){g(k,e,D),g(k,l,D),g(k,t,D),g(k,n,D),g(k,o,D),g(k,f,D),g(k,r,D),y(s,r,null),O(r,u),O(r,a),O(a,c),y(h,c,null),O(a,_),O(a,v),y($,v,null),O(a,C),y(P,a,null),b=!0},p(k,D){(!b||D&2)&&(e.value=k[1]),(!b||D&8)&&(t.value=k[3]),(!b||D&16)&&(o.value=k[4]);const w={};D&2&&(w.slideId=k[1]),D&8252&&(w.$$scope={dirty:D,ctx:k}),s.$set(w);const j={};D&8192&&(j.$$scope={dirty:D,ctx:k}),P.$set(j)},i(k){b||(I(s.$$.fragment,k),I(h.$$.fragment,k),I($.$$.fragment,k),I(P.$$.fragment,k),b=!0)},o(k){N(s.$$.fragment,k),N(h.$$.fragment,k),N($.$$.fragment,k),N(P.$$.fragment,k),b=!1},d(k){k&&p(e),k&&p(l),k&&p(t),k&&p(n),k&&p(o),k&&p(f),k&&p(r),z(s),z(h),z($),z(P)}}}function Mn(i){let e,l,t,n;function o(r){i[8](r)}let f={header:"Create coverslip",action:"/coverslip/blah?/new",$$slots:{default:[Sn]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(r){l=T(r,"DIV",{style:!0});var s=q(l);M(e.$$.fragment,s),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(r,s){g(r,l,s),y(e,l,null),n=!0},p(r,[s]){const u={};s&8254&&(u.$$scope={dirty:s,ctx:r}),!t&&s&1&&(t=!0,u.open=r[0],Q(()=>t=!1)),e.$set(u)},i(r){n||(I(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&e&&p(l),z(e,r)}}}function yn(i,e,l){let{open:t}=e,{slideId:n}=e,o="round",f,r,s=[];async function u(){l(5,s=await fetch(`/api/v1/coverslips?slideId=${n}`).then(_=>_.json()).catch(_=>{console.error(_)}))}const a=_=>l(3,{positionX:f,positionY:r}=_.detail,f,l(4,r)),c=_=>l(2,o=_.detail);function h(_){t=_,l(0,t)}return i.$$set=_=>{"open"in _&&l(0,t=_.open),"slideId"in _&&l(1,n=_.slideId)},i.$$.update=()=>{i.$$.dirty&1&&t&&u()},[t,n,o,f,r,s,a,c,h]}class zn extends K{constructor(e){super(),x(this,e,yn,Mn,J,{open:0,slideId:1})}}function pl(i,e,l){const t=i.slice();return t[7]=e[l],t[9]=l,t}function cl(i,e,l){const t=i.slice();return t[10]=e[l][0],t[11]=e[l][1],t}function dl(i){let e,l=i[11]+"",t;return{c(){e=E("option"),t=F(l),this.h()},l(n){e=T(n,"OPTION",{});var o=q(e);t=H(o,l),o.forEach(p),this.h()},h(){e.__value=i[10],e.value=e.__value},m(n,o){g(n,e,o),O(e,t)},p:ee,d(n){n&&p(e)}}}function Bn(i){let e,l=Object.entries(wt),t=[];for(let n=0;n<l.length;n+=1)t[n]=dl(cl(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=Y()},l(n){for(let o=0;o<t.length;o+=1)t[o].l(n);e=Y()},m(n,o){for(let f=0;f<t.length;f+=1)t[f].m(n,o);g(n,e,o)},p(n,o){if(o&0){l=Object.entries(wt);let f;for(f=0;f<l.length;f+=1){const r=cl(n,l,f);t[f]?t[f].p(r,o):(t[f]=dl(r),t[f].c(),t[f].m(e.parentNode,e))}for(;f<t.length;f+=1)t[f].d(1);t.length=l.length}},d(n){rt(t,n),n&&p(e)}}}function ml(i){let e,l,t,n,o,f,r,s,u,a,c,h;t=new Dt({props:{label:"Field",name:`fields[${i[9]}][name]`,required:!0,$$slots:{default:[Bn]},$$scope:{ctx:i}}}),o=new fe({props:{label:"Value",name:`fields[${i[9]}][value]`,placeholder:"Value",required:!0}});function _(){return i[5](i[9])}return{c(){e=E("div"),l=E("div"),S(t.$$.fragment),n=V(),S(o.$$.fragment),f=V(),r=E("button"),s=F("Remove"),u=V(),this.h()},l(v){e=T(v,"DIV",{class:!0});var $=q(e);l=T($,"DIV",{class:!0});var C=q(l);M(t.$$.fragment,C),n=U(C),M(o.$$.fragment,C),C.forEach(p),f=U($),r=T($,"BUTTON",{class:!0,type:!0});var P=q(r);s=H(P,"Remove"),P.forEach(p),u=U($),$.forEach(p),this.h()},h(){d(l,"class","double-column"),d(r,"class","remove svelte-18ozl24"),d(r,"type","button"),d(e,"class","field svelte-18ozl24")},m(v,$){g(v,e,$),O(e,l),y(t,l,null),O(l,n),y(o,l,null),O(e,f),O(e,r),O(r,s),O(e,u),a=!0,c||(h=ne(r,"click",_),c=!0)},p(v,$){i=v;const C={};$&16384&&(C.$$scope={dirty:$,ctx:i}),t.$set(C)},i(v){a||(I(t.$$.fragment,v),I(o.$$.fragment,v),a=!0)},o(v){N(t.$$.fragment,v),N(o.$$.fragment,v),a=!1},d(v){v&&p(e),z(t),z(o),c=!1,h()}}}function Rn(i){let e,l,t,n,o,f,r,s,u,a=i[2],c=[];for(let _=0;_<a.length;_+=1)c[_]=ml(pl(i,a,_));const h=_=>N(c[_],1,1,()=>{c[_]=null});return{c(){e=E("input"),l=V(),t=E("button"),n=F("Add staining field"),o=V();for(let _=0;_<c.length;_+=1)c[_].c();f=Y(),this.h()},l(_){e=T(_,"INPUT",{type:!0,name:!0}),l=U(_),t=T(_,"BUTTON",{type:!0});var v=q(t);n=H(v,"Add staining field"),v.forEach(p),o=U(_);for(let $=0;$<c.length;$+=1)c[$].l(_);f=Y(),this.h()},h(){d(e,"type","hidden"),d(e,"name","coverslipId"),e.value=i[1],d(t,"type","button")},m(_,v){g(_,e,v),g(_,l,v),g(_,t,v),O(t,n),g(_,o,v);for(let $=0;$<c.length;$+=1)c[$].m(_,v);g(_,f,v),r=!0,s||(u=ne(t,"click",i[3]),s=!0)},p(_,v){if((!r||v&2)&&(e.value=_[1]),v&20){a=_[2];let $;for($=0;$<a.length;$+=1){const C=pl(_,a,$);c[$]?(c[$].p(C,v),I(c[$],1)):(c[$]=ml(C),c[$].c(),I(c[$],1),c[$].m(f.parentNode,f))}for(ae(),$=a.length;$<c.length;$+=1)h($);pe()}},i(_){if(!r){for(let v=0;v<a.length;v+=1)I(c[v]);r=!0}},o(_){c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)N(c[v]);r=!1},d(_){_&&p(e),_&&p(l),_&&p(t),_&&p(o),rt(c,_),_&&p(f),s=!1,u()}}}function An(i){let e,l,t,n;function o(r){i[6](r)}let f={header:"Create staining",action:"/coverslip/"+i[1]+"/staining?/new",$$slots:{default:[Rn]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(r){l=T(r,"DIV",{style:!0});var s=q(l);M(e.$$.fragment,s),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(r,s){g(r,l,s),y(e,l,null),n=!0},p(r,[s]){const u={};s&2&&(u.action="/coverslip/"+r[1]+"/staining?/new"),s&16390&&(u.$$scope={dirty:s,ctx:r}),!t&&s&1&&(t=!0,u.open=r[0],Q(()=>t=!1)),e.$set(u)},i(r){n||(I(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&e&&p(l),z(e,r)}}}function Fn(i,e,l){let{open:t}=e,{coverslipId:n}=e,o=[{field:"",value:""}];function f(){l(2,o=[...o,{field:"",value:""}])}function r(a){l(2,o=[...o.slice(0,a),...o.slice(a+1)])}const s=a=>r(a);function u(a){t=a,l(0,t)}return i.$$set=a=>{"open"in a&&l(0,t=a.open),"coverslipId"in a&&l(1,n=a.coverslipId)},[t,n,o,f,r,s,u]}class Hn extends K{constructor(e){super(),x(this,e,Fn,An,J,{open:0,coverslipId:1})}}function _l(i,e,l){const t=i.slice();return t[7]=e[l],t[9]=l,t}function Ln(i){let e,l;return e=new Nt({props:{coverslip:i[7],$$slots:{default:[Xn]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.coverslip=t[7]),n&1024&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Yn(i){let e,l;return e=new Nt({props:{coverslip:i[1],active:!0,draggable:!0,$$slots:{default:[Gn]},$$scope:{ctx:i}}}),e.$on("position",i[3]),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.coverslip=t[1]),n&1024&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Xn(i){let e,l=i[9]+1+"",t,n;return{c(){e=F("#"),t=F(l),n=V()},l(o){e=H(o,"#"),t=H(o,l),n=U(o)},m(o,f){g(o,e,f),g(o,t,f),g(o,n,f)},p:ee,d(o){o&&p(e),o&&p(t),o&&p(n)}}}function Gn(i){let e,l=i[9]+1+"",t,n;return{c(){e=F("#"),t=F(l),n=V()},l(o){e=H(o,"#"),t=H(o,l),n=U(o)},m(o,f){g(o,e,f),g(o,t,f),g(o,n,f)},p:ee,d(o){o&&p(e),o&&p(t),o&&p(n)}}}function hl(i){let e,l,t,n;const o=[Yn,Ln],f=[];function r(s,u){var a;return s[7].id===((a=s[1])==null?void 0:a.id)?0:1}return e=r(i),l=f[e]=o[e](i),{c(){l.c(),t=Y()},l(s){l.l(s),t=Y()},m(s,u){f[e].m(s,u),g(s,t,u),n=!0},p(s,u){let a=e;e=r(s),e===a?f[e].p(s,u):(ae(),N(f[a],1,1,()=>{f[a]=null}),pe(),l=f[e],l?l.p(s,u):(l=f[e]=o[e](s),l.c()),I(l,1),l.m(t.parentNode,t))},i(s){n||(I(l),n=!0)},o(s){N(l),n=!1},d(s){f[e].d(s),s&&p(t)}}}function Wn(i){let e,l,t=i[2],n=[];for(let f=0;f<t.length;f+=1)n[f]=hl(_l(i,t,f));const o=f=>N(n[f],1,1,()=>{n[f]=null});return{c(){for(let f=0;f<n.length;f+=1)n[f].c();e=Y()},l(f){for(let r=0;r<n.length;r+=1)n[r].l(f);e=Y()},m(f,r){for(let s=0;s<n.length;s+=1)n[s].m(f,r);g(f,e,r),l=!0},p(f,r){if(r&6){t=f[2];let s;for(s=0;s<t.length;s+=1){const u=_l(f,t,s);n[s]?(n[s].p(u,r),I(n[s],1)):(n[s]=hl(u),n[s].c(),I(n[s],1),n[s].m(e.parentNode,e))}for(ae(),s=t.length;s<n.length;s+=1)o(s);pe()}},i(f){if(!l){for(let r=0;r<t.length;r+=1)I(n[r]);l=!0}},o(f){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)N(n[r]);l=!1},d(f){rt(n,f),f&&p(e)}}}function Qn(i){var f,r;let e,l,t,n,o;return l=new Qe({props:{label:"Round",value:"round",checked:((f=i[1])==null?void 0:f.shape)==="round"}}),n=new Qe({props:{label:"Square",value:"square",checked:((r=i[1])==null?void 0:r.shape)==="square"}}),{c(){e=E("div"),S(l.$$.fragment),t=V(),S(n.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var u=q(e);M(l.$$.fragment,u),t=U(u),M(n.$$.fragment,u),u.forEach(p),this.h()},h(){d(e,"class","double-column")},m(s,u){g(s,e,u),y(l,e,null),O(e,t),y(n,e,null),o=!0},p(s,u){var h,_;const a={};u&2&&(a.checked=((h=s[1])==null?void 0:h.shape)==="round"),l.$set(a);const c={};u&2&&(c.checked=((_=s[1])==null?void 0:_.shape)==="square"),n.$set(c)},i(s){o||(I(l.$$.fragment,s),I(n.$$.fragment,s),o=!0)},o(s){N(l.$$.fragment,s),N(n.$$.fragment,s),o=!1},d(s){s&&p(e),z(l),z(n)}}}function Zn(i){var oe,ie,le;let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b,k,D,w,j,B,Z;return v=new rn({props:{slideId:(oe=i[1])==null?void 0:oe.slideId,$$slots:{default:[Wn]},$$scope:{ctx:i}}}),b=new fe({props:{label:"Specimen",name:"specimen",placeholder:"Specimen",value:(ie=i[1])==null?void 0:ie.specimen,required:!0}}),w=new fe({props:{label:"Coating",name:"coating",placeholder:"Coating",value:(le=i[1])==null?void 0:le.coating,required:!0}}),B=new el({props:{label:"Shape",name:"shape",$$slots:{default:[Qn]},$$scope:{ctx:i}}}),B.$on("change",i[4]),{c(){e=E("input"),t=V(),n=E("input"),f=V(),r=E("input"),u=V(),a=E("input"),h=V(),_=E("div"),S(v.$$.fragment),$=V(),C=E("div"),P=E("div"),S(b.$$.fragment),k=V(),D=E("div"),S(w.$$.fragment),j=V(),S(B.$$.fragment),this.h()},l(L){e=T(L,"INPUT",{type:!0,name:!0}),t=U(L),n=T(L,"INPUT",{type:!0,name:!0}),f=U(L),r=T(L,"INPUT",{type:!0,name:!0}),u=U(L),a=T(L,"INPUT",{type:!0,name:!0}),h=U(L),_=T(L,"DIV",{class:!0});var X=q(_);M(v.$$.fragment,X),$=U(X),C=T(X,"DIV",{});var te=q(C);P=T(te,"DIV",{class:!0});var me=q(P);M(b.$$.fragment,me),me.forEach(p),k=U(te),D=T(te,"DIV",{class:!0});var ve=q(D);M(w.$$.fragment,ve),ve.forEach(p),j=U(te),M(B.$$.fragment,te),te.forEach(p),X.forEach(p),this.h()},h(){var L,X,te,me;d(e,"type","hidden"),d(e,"name","id"),e.value=l=(L=i[1])==null?void 0:L.id,d(n,"type","hidden"),d(n,"name","slideId"),n.value=o=(X=i[1])==null?void 0:X.slideId,d(r,"type","hidden"),d(r,"name","positionX"),r.value=s=(te=i[1])==null?void 0:te.positionX,d(a,"type","hidden"),d(a,"name","positionY"),a.value=c=(me=i[1])==null?void 0:me.positionY,d(P,"class","single-column"),d(D,"class","single-column"),d(_,"class","wrapper svelte-lz2vng")},m(L,X){g(L,e,X),g(L,t,X),g(L,n,X),g(L,f,X),g(L,r,X),g(L,u,X),g(L,a,X),g(L,h,X),g(L,_,X),y(v,_,null),O(_,$),O(_,C),O(C,P),y(b,P,null),O(C,k),O(C,D),y(w,D,null),O(C,j),y(B,C,null),Z=!0},p(L,X){var Be,$e,_e,Re,be,he,Ae;(!Z||X&2&&l!==(l=(Be=L[1])==null?void 0:Be.id))&&(e.value=l),(!Z||X&2&&o!==(o=($e=L[1])==null?void 0:$e.slideId))&&(n.value=o),(!Z||X&2&&s!==(s=(_e=L[1])==null?void 0:_e.positionX))&&(r.value=s),(!Z||X&2&&c!==(c=(Re=L[1])==null?void 0:Re.positionY))&&(a.value=c);const te={};X&2&&(te.slideId=(be=L[1])==null?void 0:be.slideId),X&1030&&(te.$$scope={dirty:X,ctx:L}),v.$set(te);const me={};X&2&&(me.value=(he=L[1])==null?void 0:he.specimen),b.$set(me);const ve={};X&2&&(ve.value=(Ae=L[1])==null?void 0:Ae.coating),w.$set(ve);const re={};X&1026&&(re.$$scope={dirty:X,ctx:L}),B.$set(re)},i(L){Z||(I(v.$$.fragment,L),I(b.$$.fragment,L),I(w.$$.fragment,L),I(B.$$.fragment,L),Z=!0)},o(L){N(v.$$.fragment,L),N(b.$$.fragment,L),N(w.$$.fragment,L),N(B.$$.fragment,L),Z=!1},d(L){L&&p(e),L&&p(t),L&&p(n),L&&p(f),L&&p(r),L&&p(u),L&&p(a),L&&p(h),L&&p(_),z(v),z(b),z(w),z(B)}}}function Jn(i){var r;let e,l,t,n;function o(s){i[5](s)}let f={header:"Edit coverslip",action:"/coverslip/"+((r=i[1])==null?void 0:r.id)+"?/edit",$$slots:{default:[Zn]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(s){l=T(s,"DIV",{style:!0});var u=q(l);M(e.$$.fragment,u),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(s,u){g(s,l,u),y(e,l,null),n=!0},p(s,[u]){var c;const a={};u&2&&(a.action="/coverslip/"+((c=s[1])==null?void 0:c.id)+"?/edit"),u&1030&&(a.$$scope={dirty:u,ctx:s}),!t&&u&1&&(t=!0,a.open=s[0],Q(()=>t=!1)),e.$set(a)},i(s){n||(I(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){s&&e&&p(l),z(e,s)}}}function Kn(i,e,l){let{open:t}=e,{coverslip:n}=e,o=[];async function f(){l(2,o=await fetch(`/api/v1/coverslips?slideId=${n==null?void 0:n.slideId}`).then(a=>a.json()).catch(a=>{console.error(a)}))}const r=({detail:a})=>{n&&(l(1,n.positionX=a.positionX,n),l(1,n.positionY=a.positionY,n))},s=({detail:a})=>{n&&l(1,n.shape=a,n)};function u(a){t=a,l(0,t)}return i.$$set=a=>{"open"in a&&l(0,t=a.open),"coverslip"in a&&l(1,n=a.coverslip)},i.$$.update=()=>{i.$$.dirty&1&&t&&f()},[t,n,o,r,s,u]}class xn extends K{constructor(e){super(),x(this,e,Kn,Jn,J,{open:0,coverslip:1})}}function ei(i){var D,w;let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b,k;return $=new fe({props:{label:"Specimen",name:"specimen",placeholder:"Specimen",value:(D=i[1])==null?void 0:D.specimen,required:!0}}),b=new fe({props:{label:"Coating",name:"coating",placeholder:"Coating",value:(w=i[1])==null?void 0:w.coating,required:!0}}),{c(){e=E("input"),t=V(),n=E("input"),f=V(),r=E("input"),s=V(),u=E("input"),a=V(),c=E("input"),h=V(),_=E("div"),v=E("div"),S($.$$.fragment),C=V(),P=E("div"),S(b.$$.fragment),this.h()},l(j){e=T(j,"INPUT",{type:!0,name:!0}),t=U(j),n=T(j,"INPUT",{type:!0,name:!0}),f=U(j),r=T(j,"INPUT",{type:!0,name:!0}),s=U(j),u=T(j,"INPUT",{type:!0,name:!0}),a=U(j),c=T(j,"INPUT",{type:!0,name:!0}),h=U(j),_=T(j,"DIV",{class:!0});var B=q(_);v=T(B,"DIV",{class:!0});var Z=q(v);M($.$$.fragment,Z),Z.forEach(p),C=U(B),P=T(B,"DIV",{class:!0});var oe=q(P);M(b.$$.fragment,oe),oe.forEach(p),B.forEach(p),this.h()},h(){var j,B;d(e,"type","hidden"),d(e,"name","id"),e.value=l=(j=i[1])==null?void 0:j.id,d(n,"type","hidden"),d(n,"name","slideId"),n.value=o=(B=i[1])==null?void 0:B.slideId,d(r,"type","hidden"),d(r,"name","positionX"),r.value=0,d(u,"type","hidden"),d(u,"name","positionY"),u.value=0,d(c,"type","hidden"),d(c,"name","shape"),c.value="round",d(v,"class","single-column"),d(P,"class","single-column"),d(_,"class","wrapper svelte-lz2vng")},m(j,B){g(j,e,B),g(j,t,B),g(j,n,B),g(j,f,B),g(j,r,B),g(j,s,B),g(j,u,B),g(j,a,B),g(j,c,B),g(j,h,B),g(j,_,B),O(_,v),y($,v,null),O(_,C),O(_,P),y(b,P,null),k=!0},p(j,B){var ie,le,L,X;(!k||B&2&&l!==(l=(ie=j[1])==null?void 0:ie.id))&&(e.value=l),(!k||B&2&&o!==(o=(le=j[1])==null?void 0:le.slideId))&&(n.value=o);const Z={};B&2&&(Z.value=(L=j[1])==null?void 0:L.specimen),$.$set(Z);const oe={};B&2&&(oe.value=(X=j[1])==null?void 0:X.coating),b.$set(oe)},i(j){k||(I($.$$.fragment,j),I(b.$$.fragment,j),k=!0)},o(j){N($.$$.fragment,j),N(b.$$.fragment,j),k=!1},d(j){j&&p(e),j&&p(t),j&&p(n),j&&p(f),j&&p(r),j&&p(s),j&&p(u),j&&p(a),j&&p(c),j&&p(h),j&&p(_),z($),z(b)}}}function ti(i){var r;let e,l,t,n;function o(s){i[2](s)}let f={header:"Edit well",action:"/coverslip/"+((r=i[1])==null?void 0:r.id)+"?/edit",$$slots:{default:[ei]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(s){l=T(s,"DIV",{style:!0});var u=q(l);M(e.$$.fragment,u),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(s,u){g(s,l,u),y(e,l,null),n=!0},p(s,[u]){var c;const a={};u&2&&(a.action="/coverslip/"+((c=s[1])==null?void 0:c.id)+"?/edit"),u&34&&(a.$$scope={dirty:u,ctx:s}),!t&&u&1&&(t=!0,a.open=s[0],Q(()=>t=!1)),e.$set(a)},i(s){n||(I(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){s&&e&&p(l),z(e,s)}}}function li(i,e,l){let{open:t}=e,{coverslip:n}=e;async function o(){await fetch(`/api/v1/coverslips?slideId=${n==null?void 0:n.slideId}`).then(r=>r.json()).catch(r=>{console.error(r)})}function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"coverslip"in r&&l(1,n=r.coverslip)},i.$$.update=()=>{i.$$.dirty&1&&t&&o()},[t,n,f]}class ni extends K{constructor(e){super(),x(this,e,li,ti,J,{open:0,coverslip:1})}}function ii(i){let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P;return _=new fe({props:{label:"Specimen",name:"specimen",placeholder:"Specimen",value:"",required:!0}}),C=new fe({props:{label:"Coating",name:"coating",placeholder:"Coating",value:"",required:!0}}),{c(){e=E("input"),l=V(),t=E("input"),n=V(),o=E("input"),f=V(),r=E("input"),s=V(),u=E("input"),a=V(),c=E("div"),h=E("div"),S(_.$$.fragment),v=V(),$=E("div"),S(C.$$.fragment),this.h()},l(b){e=T(b,"INPUT",{type:!0,name:!0}),l=U(b),t=T(b,"INPUT",{type:!0,name:!0}),n=U(b),o=T(b,"INPUT",{type:!0,name:!0}),f=U(b),r=T(b,"INPUT",{type:!0,name:!0}),s=U(b),u=T(b,"INPUT",{type:!0,name:!0}),a=U(b),c=T(b,"DIV",{class:!0});var k=q(c);h=T(k,"DIV",{class:!0});var D=q(h);M(_.$$.fragment,D),D.forEach(p),v=U(k),$=T(k,"DIV",{class:!0});var w=q($);M(C.$$.fragment,w),w.forEach(p),k.forEach(p),this.h()},h(){d(e,"type","hidden"),d(e,"name","ids"),e.value=i[1],d(t,"type","hidden"),d(t,"name","slideId"),t.value=i[2],d(o,"type","hidden"),d(o,"name","positionX"),o.value=0,d(r,"type","hidden"),d(r,"name","positionY"),r.value=0,d(u,"type","hidden"),d(u,"name","shape"),u.value="round",d(h,"class","single-column"),d($,"class","single-column"),d(c,"class","wrapper svelte-lz2vng")},m(b,k){g(b,e,k),g(b,l,k),g(b,t,k),g(b,n,k),g(b,o,k),g(b,f,k),g(b,r,k),g(b,s,k),g(b,u,k),g(b,a,k),g(b,c,k),O(c,h),y(_,h,null),O(c,v),O(c,$),y(C,$,null),P=!0},p(b,k){(!P||k&2)&&(e.value=b[1]),(!P||k&4)&&(t.value=b[2])},i(b){P||(I(_.$$.fragment,b),I(C.$$.fragment,b),P=!0)},o(b){N(_.$$.fragment,b),N(C.$$.fragment,b),P=!1},d(b){b&&p(e),b&&p(l),b&&p(t),b&&p(n),b&&p(o),b&&p(f),b&&p(r),b&&p(s),b&&p(u),b&&p(a),b&&p(c),z(_),z(C)}}}function oi(i){var r;let e,l,t,n;function o(s){i[3](s)}let f={header:"Edit wells",action:"/coverslip/"+((r=i[1][0])==null?void 0:r.id)+"?/edits",$$slots:{default:[ii]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(s){l=T(s,"DIV",{style:!0});var u=q(l);M(e.$$.fragment,u),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(s,u){g(s,l,u),y(e,l,null),n=!0},p(s,[u]){var c;const a={};u&2&&(a.action="/coverslip/"+((c=s[1][0])==null?void 0:c.id)+"?/edits"),u&22&&(a.$$scope={dirty:u,ctx:s}),!t&&u&1&&(t=!0,a.open=s[0],Q(()=>t=!1)),e.$set(a)},i(s){n||(I(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){s&&e&&p(l),z(e,s)}}}function ri(i,e,l){let{open:t}=e,{coverslipids:n=[""]}=e,{slideid:o}=e;function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"coverslipids"in r&&l(1,n=r.coverslipids),"slideid"in r&&l(2,o=r.slideid)},[t,n,o,f]}class fi extends K{constructor(e){super(),x(this,e,ri,oi,J,{open:0,coverslipids:1,slideid:2})}}function gl(i,e,l){const t=i.slice();return t[10]=e[l],t[12]=l,t}function vl(i,e,l){const t=i.slice();return t[13]=e[l][0],t[14]=e[l][1],t}function $l(i,e,l){const t=i.slice();return t[10]=e[l],t[12]=l,t}function bl(i){let e,l,t,n,o,f;return{c(){e=E("input"),t=V(),n=E("input"),this.h()},l(r){e=T(r,"INPUT",{type:!0,name:!0}),t=U(r),n=T(r,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name",l="fields["+i[12]+"][op]"),e.value="delete",d(n,"type","hidden"),d(n,"name",o="fields["+i[12]+"][id]"),n.value=f=i[10].id},m(r,s){g(r,e,s),g(r,t,s),g(r,n,s)},p(r,s){s&4&&l!==(l="fields["+r[12]+"][op]")&&d(e,"name",l),s&4&&o!==(o="fields["+r[12]+"][id]")&&d(n,"name",o),s&4&&f!==(f=r[10].id)&&(n.value=f)},d(r){r&&p(e),r&&p(t),r&&p(n)}}}function kl(i,e){let l,t,n=e[10].op==="delete"&&bl(e);return{key:i,first:null,c(){l=Y(),n&&n.c(),t=Y(),this.h()},l(o){l=Y(),n&&n.l(o),t=Y(),this.h()},h(){this.first=l},m(o,f){g(o,l,f),n&&n.m(o,f),g(o,t,f)},p(o,f){e=o,e[10].op==="delete"?n?n.p(e,f):(n=bl(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(o){o&&p(l),n&&n.d(o),o&&p(t)}}}function wl(i){let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b=i[10].op==="edit"&&Il(i);s=new Dt({props:{label:"Field",name:"fields["+i[12]+"][name]",required:!0,$$slots:{default:[ai]},$$scope:{ctx:i}}}),a=new fe({props:{label:"Value",name:"fields["+i[12]+"][value]",placeholder:"Value",value:i[10].value,required:!0}});function k(){return i[7](i[12])}return{c(){e=E("div"),l=E("div"),b&&b.c(),t=V(),n=E("input"),r=V(),S(s.$$.fragment),u=V(),S(a.$$.fragment),c=V(),h=E("button"),_=F("Remove"),v=V(),this.h()},l(D){e=T(D,"DIV",{class:!0});var w=q(e);l=T(w,"DIV",{class:!0});var j=q(l);b&&b.l(j),t=U(j),n=T(j,"INPUT",{type:!0,name:!0}),r=U(j),M(s.$$.fragment,j),u=U(j),M(a.$$.fragment,j),j.forEach(p),c=U(w),h=T(w,"BUTTON",{class:!0,type:!0});var B=q(h);_=H(B,"Remove"),B.forEach(p),v=U(w),w.forEach(p),this.h()},h(){d(n,"type","hidden"),d(n,"name",o="fields["+i[12]+"][op]"),n.value=f=i[10].op,d(l,"class","double-column"),d(h,"class","remove svelte-18ozl24"),d(h,"type","button"),d(e,"class","field svelte-18ozl24")},m(D,w){g(D,e,w),O(e,l),b&&b.m(l,null),O(l,t),O(l,n),O(l,r),y(s,l,null),O(l,u),y(a,l,null),O(e,c),O(e,h),O(h,_),O(e,v),$=!0,C||(P=ne(h,"click",k),C=!0)},p(D,w){i=D,i[10].op==="edit"?b?b.p(i,w):(b=Il(i),b.c(),b.m(l,t)):b&&(b.d(1),b=null),(!$||w&4&&o!==(o="fields["+i[12]+"][op]"))&&d(n,"name",o),(!$||w&4&&f!==(f=i[10].op))&&(n.value=f);const j={};w&4&&(j.name="fields["+i[12]+"][name]"),w&262148&&(j.$$scope={dirty:w,ctx:i}),s.$set(j);const B={};w&4&&(B.name="fields["+i[12]+"][value]"),w&4&&(B.value=i[10].value),a.$set(B)},i(D){$||(I(s.$$.fragment,D),I(a.$$.fragment,D),$=!0)},o(D){N(s.$$.fragment,D),N(a.$$.fragment,D),$=!1},d(D){D&&p(e),b&&b.d(),z(s),z(a),C=!1,P()}}}function Il(i){let e,l,t;return{c(){e=E("input"),this.h()},l(n){e=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name",l="fields["+i[12]+"][id]"),e.value=t=i[10].id},m(n,o){g(n,e,o)},p(n,o){o&4&&l!==(l="fields["+n[12]+"][id]")&&d(e,"name",l),o&4&&t!==(t=n[10].id)&&(e.value=t)},d(n){n&&p(e)}}}function si(i){let e,l=i[14]+"",t;return{c(){e=E("option"),t=F(l),this.h()},l(n){e=T(n,"OPTION",{});var o=q(e);t=H(o,l),o.forEach(p),this.h()},h(){e.__value=i[13],e.value=e.__value},m(n,o){g(n,e,o),O(e,t)},p:ee,d(n){n&&p(e)}}}function ui(i){let e=console.log("selected",{name:i[14]})+"",l,t,n,o=i[14]+"",f;return{c(){l=F(e),t=V(),n=E("option"),f=F(o),this.h()},l(r){l=H(r,e),t=U(r),n=T(r,"OPTION",{});var s=q(n);f=H(s,o),s.forEach(p),this.h()},h(){n.__value=i[13],n.value=n.__value,n.selected=!0},m(r,s){g(r,l,s),g(r,t,s),g(r,n,s),O(n,f)},p:ee,d(r){r&&p(l),r&&p(t),r&&p(n)}}}function El(i,e){let l,t;function n(r,s){return r[10].name===r[13]?ui:si}let o=n(e),f=o(e);return{key:i,first:null,c(){l=Y(),f.c(),t=Y(),this.h()},l(r){l=Y(),f.l(r),t=Y(),this.h()},h(){this.first=l},m(r,s){g(r,l,s),f.m(r,s),g(r,t,s)},p(r,s){e=r,o===(o=n(e))&&f?f.p(e,s):(f.d(1),f=o(e),f&&(f.c(),f.m(t.parentNode,t)))},d(r){r&&p(l),f.d(r),r&&p(t)}}}function ai(i){let e=[],l=new Map,t,n=Object.entries(wt);const o=f=>f[13];for(let f=0;f<n.length;f+=1){let r=vl(i,n,f),s=o(r);l.set(s,e[f]=El(s,r))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=Y()},l(f){for(let r=0;r<e.length;r+=1)e[r].l(f);t=Y()},m(f,r){for(let s=0;s<e.length;s+=1)e[s].m(f,r);g(f,t,r)},p(f,r){r&4&&(n=Object.entries(wt),e=He(e,r,o,1,f,n,l,t.parentNode,Et,El,t,vl))},d(f){for(let r=0;r<e.length;r+=1)e[r].d(f);f&&p(t)}}}function Tl(i,e){let l,t,n,o=e[10].op!=="delete"&&wl(e);return{key:i,first:null,c(){l=Y(),o&&o.c(),t=Y(),this.h()},l(f){l=Y(),o&&o.l(f),t=Y(),this.h()},h(){this.first=l},m(f,r){g(f,l,r),o&&o.m(f,r),g(f,t,r),n=!0},p(f,r){e=f,e[10].op!=="delete"?o?(o.p(e,r),r&4&&I(o,1)):(o=wl(e),o.c(),I(o,1),o.m(t.parentNode,t)):o&&(ae(),N(o,1,1,()=>{o=null}),pe())},i(f){n||(I(o),n=!0)},o(f){N(o),n=!1},d(f){f&&p(l),o&&o.d(f),f&&p(t)}}}function pi(i){let e,l,t,n,o=[],f=new Map,r,s,u,a,c=[],h=new Map,_,v,$,C,P=i[2];const b=w=>w[10].id;for(let w=0;w<P.length;w+=1){let j=$l(i,P,w),B=b(j);f.set(B,o[w]=kl(B,j))}let k=i[2];const D=w=>w[10].id;for(let w=0;w<k.length;w+=1){let j=gl(i,k,w),B=D(j);h.set(B,c[w]=Tl(B,j))}return{c(){e=E("input"),l=V(),t=E("input"),n=V();for(let w=0;w<o.length;w+=1)o[w].c();r=V(),s=E("button"),u=F("Add staining field"),a=V();for(let w=0;w<c.length;w+=1)c[w].c();_=Y(),this.h()},l(w){e=T(w,"INPUT",{type:!0,name:!0}),l=U(w),t=T(w,"INPUT",{type:!0,name:!0}),n=U(w);for(let B=0;B<o.length;B+=1)o[B].l(w);r=U(w),s=T(w,"BUTTON",{type:!0});var j=q(s);u=H(j,"Add staining field"),j.forEach(p),a=U(w);for(let B=0;B<c.length;B+=1)c[B].l(w);_=Y(),this.h()},h(){d(e,"type","hidden"),d(e,"name","id"),e.value=i[3],d(t,"type","hidden"),d(t,"name","coverslipId"),t.value=i[1],d(s,"type","button")},m(w,j){g(w,e,j),g(w,l,j),g(w,t,j),g(w,n,j);for(let B=0;B<o.length;B+=1)o[B].m(w,j);g(w,r,j),g(w,s,j),O(s,u),g(w,a,j);for(let B=0;B<c.length;B+=1)c[B].m(w,j);g(w,_,j),v=!0,$||(C=ne(s,"click",i[4]),$=!0)},p(w,j){(!v||j&8)&&(e.value=w[3]),(!v||j&2)&&(t.value=w[1]),j&4&&(P=w[2],o=He(o,j,b,1,w,P,f,r.parentNode,Et,kl,r,$l)),j&36&&(k=w[2],ae(),c=He(c,j,D,1,w,k,h,_.parentNode,Tt,Tl,_,gl),pe())},i(w){if(!v){for(let j=0;j<k.length;j+=1)I(c[j]);v=!0}},o(w){for(let j=0;j<c.length;j+=1)N(c[j]);v=!1},d(w){w&&p(e),w&&p(l),w&&p(t),w&&p(n);for(let j=0;j<o.length;j+=1)o[j].d(w);w&&p(r),w&&p(s),w&&p(a);for(let j=0;j<c.length;j+=1)c[j].d(w);w&&p(_),$=!1,C()}}}function ci(i){let e,l,t,n;function o(r){i[8](r)}let f={header:"Edit staining",action:"/coverslip/"+i[1]+"/staining?/edit",$$slots:{default:[pi]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(r){l=T(r,"DIV",{style:!0});var s=q(l);M(e.$$.fragment,s),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(r,s){g(r,l,s),y(e,l,null),n=!0},p(r,[s]){const u={};s&2&&(u.action="/coverslip/"+r[1]+"/staining?/edit"),s&262158&&(u.$$scope={dirty:s,ctx:r}),!t&&s&1&&(t=!0,u.open=r[0],Q(()=>t=!1)),e.$set(u)},i(r){n||(I(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&e&&p(l),z(e,r)}}}function di(i,e,l){let{open:t}=e,{staining:n}=e,o,f,r;function s(_){l(3,{id:r,coverslipId:o}=_,r,l(1,o)),l(2,f=_.fields.map(v=>({...v,op:"edit"})))}function u(){l(2,f=[...f,{op:"create",id:String(Math.random()),name:"",value:""}])}function a(_){f[_].op==="create"?l(2,f=[...f.slice(0,_),...f.slice(_+1)]):l(2,f[_].op="delete",f)}const c=_=>a(_);function h(_){t=_,l(0,t)}return i.$$set=_=>{"open"in _&&l(0,t=_.open),"staining"in _&&l(6,n=_.staining)},i.$$.update=()=>{i.$$.dirty&64&&n&&s(n)},[t,o,f,r,u,a,n,c,h]}class mi extends K{constructor(e){super(),x(this,e,di,ci,J,{open:0,staining:6})}}function _i(i){let e,l,t;return{c(){e=F(`This will delete all nested coverslip stainings and files, and cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This will delete all nested coverslip stainings and files, and cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function hi(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[2]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function gi(i){var f;let e,l,t;function n(r){i[3](r)}let o={header:"Delete coverslip?",action:"/coverslip/"+((f=i[1])==null?void 0:f.id)+"?/delete",size:"narrow",$$slots:{footer:[hi],default:[_i]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){y(e,r,s),t=!0},p(r,[s]){var a;const u={};s&2&&(u.action="/coverslip/"+((a=r[1])==null?void 0:a.id)+"?/delete"),s&19&&(u.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,u.open=r[0],Q(()=>l=!1)),e.$set(u)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function vi(i,e,l){let{open:t=!1}=e,{coverslip:n}=e;const o=()=>l(0,t=!1);function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"coverslip"in r&&l(1,n=r.coverslip)},[t,n,o,f]}class $i extends K{constructor(e){super(),x(this,e,vi,gi,J,{open:0,coverslip:1})}}function bi(i){let e,l,t;return{c(){e=F(`This will delete all nested slides and coverslips, and cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This will delete all nested slides and coverslips, and cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function ki(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[2]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function wi(i){var f;let e,l,t;function n(r){i[3](r)}let o={header:"Delete '"+((f=i[1])==null?void 0:f.title)+"'?",action:"/experiments?/delete",size:"narrow",$$slots:{footer:[ki],default:[bi]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){y(e,r,s),t=!0},p(r,[s]){var a;const u={};s&2&&(u.header="Delete '"+((a=r[1])==null?void 0:a.title)+"'?"),s&19&&(u.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,u.open=r[0],Q(()=>l=!1)),e.$set(u)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ii(i,e,l){let{open:t=!1}=e,{experiment:n}=e;const o=()=>l(0,t=!1);function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"experiment"in r&&l(1,n=r.experiment)},[t,n,o,f]}class Ei extends K{constructor(e){super(),x(this,e,Ii,wi,J,{open:0,experiment:1})}}function Ti(i){let e,l,t;return{c(){e=F(`This action cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This action cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function Ni(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[2]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function Di(i){var f;let e,l,t;function n(r){i[3](r)}let o={header:"Delete file?",action:"/coverslip/"+((f=i[1])==null?void 0:f.coverslipId)+"/files?/delete",size:"narrow",$$slots:{footer:[Ni],default:[Ti]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){y(e,r,s),t=!0},p(r,[s]){var a;const u={};s&2&&(u.action="/coverslip/"+((a=r[1])==null?void 0:a.coverslipId)+"/files?/delete"),s&19&&(u.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,u.open=r[0],Q(()=>l=!1)),e.$set(u)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function ji(i,e,l){let{open:t=!1}=e,{file:n}=e;const o=()=>l(0,t=!1);function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"file"in r&&l(1,n=r.file)},[t,n,o,f]}class Ci extends K{constructor(e){super(),x(this,e,ji,Di,J,{open:0,file:1})}}function Oi(i){let e,l,t;return{c(){e=F(`This will delete all nested experiments and slides, and cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This will delete all nested experiments and slides, and cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function Pi(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[2]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function Vi(i){var f;let e,l,t;function n(r){i[3](r)}let o={header:"Delete '"+((f=i[1])==null?void 0:f.title)+"'?",action:"/projects?/delete",size:"narrow",$$slots:{footer:[Pi],default:[Oi]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){y(e,r,s),t=!0},p(r,[s]){var a;const u={};s&2&&(u.header="Delete '"+((a=r[1])==null?void 0:a.title)+"'?"),s&19&&(u.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,u.open=r[0],Q(()=>l=!1)),e.$set(u)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ui(i,e,l){let{open:t=!1}=e,{project:n}=e;const o=()=>l(0,t=!1);function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"project"in r&&l(1,n=r.project)},[t,n,o,f]}class qi extends K{constructor(e){super(),x(this,e,Ui,Vi,J,{open:0,project:1})}}function Si(i){let e,l,t;return{c(){e=F(`This will delete all nested coverslips and coverslip data, and cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This will delete all nested coverslips and coverslip data, and cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function Mi(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[3]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function yi(i){let e,l,t;function n(f){i[4](f)}let o={header:i[2],action:"/slides?/delete",size:"narrow",$$slots:{footer:[Mi],default:[Si]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(f){M(e.$$.fragment,f)},m(f,r){y(e,f,r),t=!0},p(f,[r]){const s={};r&4&&(s.header=f[2]),r&35&&(s.$$scope={dirty:r,ctx:f}),!l&&r&1&&(l=!0,s.open=f[0],Q(()=>l=!1)),e.$set(s)},i(f){t||(I(e.$$.fragment,f),t=!0)},o(f){N(e.$$.fragment,f),t=!1},d(f){z(e,f)}}}function zi(i,e,l){let t,{open:n=!1}=e,{slide:o}=e;const f=()=>l(0,n=!1);function r(s){n=s,l(0,n)}return i.$$set=s=>{"open"in s&&l(0,n=s.open),"slide"in s&&l(1,o=s.slide)},i.$$.update=()=>{i.$$.dirty&2&&l(2,t=o!=null&&o.title?`Delete '${o==null?void 0:o.title}'?`:(o==null?void 0:o.type)==="plate"?"Delete plate":"Delete slide")},[n,o,t,f,r]}class Bi extends K{constructor(e){super(),x(this,e,zi,yi,J,{open:0,slide:1})}}function Ri(i){let e,l,t;return{c(){e=F(`This action cannot be undone.
	`),l=E("input"),this.h()},l(n){e=H(n,`This action cannot be undone.
	`),l=T(n,"INPUT",{type:!0,name:!0}),this.h()},h(){var n;d(l,"type","hidden"),d(l,"name","id"),l.value=t=(n=i[1])==null?void 0:n.id},m(n,o){g(n,e,o),g(n,l,o)},p(n,o){var f;o&2&&t!==(t=(f=n[1])==null?void 0:f.id)&&(l.value=t)},d(n){n&&p(e),n&&p(l)}}}function Ai(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Delete"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0,slot:!0});var a=q(e);l=T(a,"BUTTON",{});var c=q(l);t=H(c,"Delete"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{class:!0,type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(o,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section"),d(e,"slot","footer")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[2]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function Fi(i){var f;let e,l,t;function n(r){i[3](r)}let o={header:"Delete staining?",action:"/coverslip/"+((f=i[1])==null?void 0:f.id)+"/staining?/delete",size:"narrow",$$slots:{footer:[Ai],default:[Ri]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){y(e,r,s),t=!0},p(r,[s]){var a;const u={};s&2&&(u.action="/coverslip/"+((a=r[1])==null?void 0:a.id)+"/staining?/delete"),s&19&&(u.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,u.open=r[0],Q(()=>l=!1)),e.$set(u)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Hi(i,e,l){let{open:t=!1}=e,{staining:n}=e;const o=()=>l(0,t=!1);function f(r){t=r,l(0,t)}return i.$$set=r=>{"open"in r&&l(0,t=r.open),"staining"in r&&l(1,n=r.staining)},[t,n,o,f]}class Li extends K{constructor(e){super(),x(this,e,Hi,Fi,J,{open:0,staining:1})}}function Nl(i,e,l){const t=i.slice();return t[7]=e[l].id,t[6]=e[l].title,t}function Dl(i){let e;return{c(){e=E("input"),this.h()},l(l){e=T(l,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name","id"),e.value=i[7]},m(l,t){g(l,e,t)},p(l,t){t&128&&(e.value=l[7])},d(l){l&&p(e)}}}function jl(i,e){let l,t=e[6]+"",n,o,f;return{key:i,first:null,c(){l=E("option"),n=F(t),this.h()},l(r){l=T(r,"OPTION",{});var s=q(l);n=H(s,t),s.forEach(p),this.h()},h(){l.__value=o=e[7],l.value=l.__value,l.selected=f=e[7]===e[3],this.first=l},m(r,s){g(r,l,s),O(l,n)},p(r,s){e=r,s&4&&t!==(t=e[6]+"")&&ce(n,t),s&4&&o!==(o=e[7])&&(l.__value=o,l.value=l.__value),s&12&&f!==(f=e[7]===e[3])&&(l.selected=f)},d(r){r&&p(l)}}}function Yi(i){let e=[],l=new Map,t,n=i[2];const o=f=>f[7];for(let f=0;f<n.length;f+=1){let r=Nl(i,n,f),s=o(r);l.set(s,e[f]=jl(s,r))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=Y()},l(f){for(let r=0;r<e.length;r+=1)e[r].l(f);t=Y()},m(f,r){for(let s=0;s<e.length;s+=1)e[s].m(f,r);g(f,t,r)},p(f,r){r&12&&(n=f[2],e=He(e,r,o,1,f,n,l,t.parentNode,Et,jl,t,Nl))},d(f){for(let r=0;r<e.length;r+=1)e[r].d(f);f&&p(t)}}}function Xi(i){let e,l,t,n,o,f=i[1]==="edit"&&Dl(i);return l=new Dt({props:{label:"Project",placeholder:"Select a project",required:!0,name:"projectId",$$slots:{default:[Yi]},$$scope:{ctx:i}}}),n=new fe({props:{label:"Experiment title",name:"title",placeholder:"Untitled experiment",value:i[6],required:!0}}),{c(){f&&f.c(),e=V(),S(l.$$.fragment),t=V(),S(n.$$.fragment)},l(r){f&&f.l(r),e=U(r),M(l.$$.fragment,r),t=U(r),M(n.$$.fragment,r)},m(r,s){f&&f.m(r,s),g(r,e,s),y(l,r,s),g(r,t,s),y(n,r,s),o=!0},p(r,s){r[1]==="edit"?f?f.p(r,s):(f=Dl(r),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const u={};s&4108&&(u.$$scope={dirty:s,ctx:r}),l.$set(u);const a={};s&64&&(a.value=r[6]),n.$set(a)},i(r){o||(I(l.$$.fragment,r),I(n.$$.fragment,r),o=!0)},o(r){N(l.$$.fragment,r),N(n.$$.fragment,r),o=!1},d(r){f&&f.d(r),r&&p(e),z(l,r),r&&p(t),z(n,r)}}}function Gi(i){let e,l,t;function n(f){i[9](f)}let o={header:i[4],action:i[5],$$slots:{default:[Xi]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(f){M(e.$$.fragment,f)},m(f,r){y(e,f,r),t=!0},p(f,[r]){const s={};r&16&&(s.header=f[4]),r&32&&(s.action=f[5]),r&4302&&(s.$$scope={dirty:r,ctx:f}),!l&&r&1&&(l=!0,s.open=f[0],Q(()=>l=!1)),e.$set(s)},i(f){t||(I(e.$$.fragment,f),t=!0)},o(f){N(e.$$.fragment,f),t=!1},d(f){z(e,f)}}}function Wi(i,e,l){let t,n,o,f,r,{op:s}=e,{open:u}=e,{experiment:a=void 0}=e,c=[];function h(_){u=_,l(0,u)}return i.$$set=_=>{"op"in _&&l(1,s=_.op),"open"in _&&l(0,u=_.open),"experiment"in _&&l(8,a=_.experiment)},i.$$.update=()=>{i.$$.dirty&2&&l(5,t=s==="edit"?"/experiments?/edit":"/experiments?/new"),i.$$.dirty&2&&l(4,n=s==="create"?"Edit project":"Create project"),i.$$.dirty&256&&l(7,o=(a==null?void 0:a.id)??""),i.$$.dirty&256&&l(3,f=(a==null?void 0:a.projectId)??""),i.$$.dirty&256&&l(6,r=(a==null?void 0:a.title)??""),i.$$.dirty&1&&u&&(l(2,c=[]),(async()=>l(2,c=await fetch("/api/v1/projects").then(_=>_.json()).catch(()=>[])))())},[u,s,c,f,n,t,r,o,a,h]}class Qi extends K{constructor(e){super(),x(this,e,Wi,Gi,J,{op:1,open:0,experiment:8})}}function Cl(i){let e;return{c(){e=E("input"),this.h()},l(l){e=T(l,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name","id"),e.value=i[3]},m(l,t){g(l,e,t)},p(l,t){t&8&&(e.value=l[3])},d(l){l&&p(e)}}}function Zi(i){let e,l,t,n=i[1]==="edit"&&Cl(i);return l=new fe({props:{label:"Project title",name:"title",placeholder:"Untitled project",value:i[2],required:!0}}),{c(){n&&n.c(),e=V(),S(l.$$.fragment)},l(o){n&&n.l(o),e=U(o),M(l.$$.fragment,o)},m(o,f){n&&n.m(o,f),g(o,e,f),y(l,o,f),t=!0},p(o,f){o[1]==="edit"?n?n.p(o,f):(n=Cl(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null);const r={};f&4&&(r.value=o[2]),l.$set(r)},i(o){t||(I(l.$$.fragment,o),t=!0)},o(o){N(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&p(e),z(l,o)}}}function Ji(i){let e,l,t;function n(f){i[7](f)}let o={header:i[4],action:i[5],$$slots:{default:[Zi]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(f){M(e.$$.fragment,f)},m(f,r){y(e,f,r),t=!0},p(f,[r]){const s={};r&16&&(s.header=f[4]),r&32&&(s.action=f[5]),r&270&&(s.$$scope={dirty:r,ctx:f}),!l&&r&1&&(l=!0,s.open=f[0],Q(()=>l=!1)),e.$set(s)},i(f){t||(I(e.$$.fragment,f),t=!0)},o(f){N(e.$$.fragment,f),t=!1},d(f){z(e,f)}}}function Ki(i,e,l){let t,n,o,f,{op:r}=e,{open:s}=e,{project:u=void 0}=e;function a(c){s=c,l(0,s)}return i.$$set=c=>{"op"in c&&l(1,r=c.op),"open"in c&&l(0,s=c.open),"project"in c&&l(6,u=c.project)},i.$$.update=()=>{i.$$.dirty&2&&l(5,t=r==="edit"?"/projects?/edit":"/projects?/new"),i.$$.dirty&2&&l(4,n=r==="edit"?"Edit project":"Create project"),i.$$.dirty&64&&l(3,o=(u==null?void 0:u.id)??""),i.$$.dirty&64&&l(2,f=(u==null?void 0:u.title)??"")},[s,r,f,o,n,t,u,a]}class xi extends K{constructor(e){super(),x(this,e,Ki,Ji,J,{op:1,open:0,project:6})}}function Ol(i,e,l){const t=i.slice();return t[12]=e[l].id,t[11]=e[l].title,t}function Pl(i){let e;return{c(){e=E("input"),this.h()},l(l){e=T(l,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name","id"),e.value=i[12]},m(l,t){g(l,e,t)},p(l,t){t&4096&&(e.value=l[12])},d(l){l&&p(e)}}}function Vl(i){let e,l;return e=new el({props:{label:"Choose the type",name:"type",$$slots:{default:[eo]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&262144&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function eo(i){let e,l,t,n,o;return l=new Qe({props:{label:"Slide",value:"slide",checked:!0}}),n=new Qe({props:{label:"Plate",value:"plate"}}),{c(){e=E("div"),S(l.$$.fragment),t=V(),S(n.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var r=q(e);M(l.$$.fragment,r),t=U(r),M(n.$$.fragment,r),r.forEach(p),this.h()},h(){d(e,"class","double-column centered svelte-y2lvci")},m(f,r){g(f,e,r),y(l,e,null),O(e,t),y(n,e,null),o=!0},p:ee,i(f){o||(I(l.$$.fragment,f),I(n.$$.fragment,f),o=!0)},o(f){N(l.$$.fragment,f),N(n.$$.fragment,f),o=!1},d(f){f&&p(e),z(l),z(n)}}}function Ul(i,e){let l,t=e[11]+"",n,o,f;return{key:i,first:null,c(){l=E("option"),n=F(t),this.h()},l(r){l=T(r,"OPTION",{});var s=q(l);n=H(s,t),s.forEach(p),this.h()},h(){l.__value=o=e[12],l.value=l.__value,l.selected=f=e[12]===e[6],this.first=l},m(r,s){g(r,l,s),O(l,n)},p(r,s){e=r,s&4&&t!==(t=e[11]+"")&&ce(n,t),s&4&&o!==(o=e[12])&&(l.__value=o,l.value=l.__value),s&68&&f!==(f=e[12]===e[6])&&(l.selected=f)},d(r){r&&p(l)}}}function to(i){let e=[],l=new Map,t,n=i[2];const o=f=>f[12];for(let f=0;f<n.length;f+=1){let r=Ol(i,n,f),s=o(r);l.set(s,e[f]=Ul(s,r))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=Y()},l(f){for(let r=0;r<e.length;r+=1)e[r].l(f);t=Y()},m(f,r){for(let s=0;s<e.length;s+=1)e[s].m(f,r);g(f,t,r)},p(f,r){r&68&&(n=f[2],e=He(e,r,o,1,f,n,l,t.parentNode,Et,Ul,t,Ol))},d(f){for(let r=0;r<e.length;r+=1)e[r].d(f);f&&p(t)}}}function lo(i){let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b=i[1]==="edit"&&Pl(i);t=new fe({props:{label:"Title",name:"title",placeholder:"Slide/Plate title",value:i[11],required:!0}});let k=i[1]!="edit"&&Vl(i);return r=new Dt({props:{label:"Experiment",placeholder:"Select an experiment",required:!0,name:"experimentId",$$slots:{default:[to]},$$scope:{ctx:i}}}),u=new fe({props:{label:"Observed date",name:"observedOn",value:Jt(new Date(i[4]),"yyyy-MM-dd"),required:!0,type:"date"}}),h=new fe({props:{label:"Box number",name:"boxNumber",placeholder:"5",min:1,value:i[9],type:"number"}}),v=new fe({props:{label:"Position",name:"boxPosition",placeholder:"21",min:1,value:i[8],type:"number"}}),C=new fe({props:{label:"Comments",name:"comments",placeholder:"Comments",value:i[7],type:"textarea"}}),{c(){b&&b.c(),e=V(),l=E("div"),S(t.$$.fragment),n=V(),k&&k.c(),o=V(),f=E("div"),S(r.$$.fragment),s=V(),S(u.$$.fragment),a=V(),c=E("div"),S(h.$$.fragment),_=V(),S(v.$$.fragment),$=V(),S(C.$$.fragment),this.h()},l(D){b&&b.l(D),e=U(D),l=T(D,"DIV",{class:!0});var w=q(l);M(t.$$.fragment,w),w.forEach(p),n=U(D),k&&k.l(D),o=U(D),f=T(D,"DIV",{class:!0});var j=q(f);M(r.$$.fragment,j),s=U(j),M(u.$$.fragment,j),j.forEach(p),a=U(D),c=T(D,"DIV",{class:!0});var B=q(c);M(h.$$.fragment,B),_=U(B),M(v.$$.fragment,B),B.forEach(p),$=U(D),M(C.$$.fragment,D),this.h()},h(){d(l,"class","single-column"),d(f,"class","double-column"),d(c,"class","double-column")},m(D,w){b&&b.m(D,w),g(D,e,w),g(D,l,w),y(t,l,null),g(D,n,w),k&&k.m(D,w),g(D,o,w),g(D,f,w),y(r,f,null),O(f,s),y(u,f,null),g(D,a,w),g(D,c,w),y(h,c,null),O(c,_),y(v,c,null),g(D,$,w),y(C,D,w),P=!0},p(D,w){D[1]==="edit"?b?b.p(D,w):(b=Pl(D),b.c(),b.m(e.parentNode,e)):b&&(b.d(1),b=null);const j={};w&2048&&(j.value=D[11]),t.$set(j),D[1]!="edit"?k?(k.p(D,w),w&2&&I(k,1)):(k=Vl(D),k.c(),I(k,1),k.m(o.parentNode,o)):k&&(ae(),N(k,1,1,()=>{k=null}),pe());const B={};w&262212&&(B.$$scope={dirty:w,ctx:D}),r.$set(B);const Z={};w&16&&(Z.value=Jt(new Date(D[4]),"yyyy-MM-dd")),u.$set(Z);const oe={};w&512&&(oe.value=D[9]),h.$set(oe);const ie={};w&256&&(ie.value=D[8]),v.$set(ie);const le={};w&128&&(le.value=D[7]),C.$set(le)},i(D){P||(I(t.$$.fragment,D),I(k),I(r.$$.fragment,D),I(u.$$.fragment,D),I(h.$$.fragment,D),I(v.$$.fragment,D),I(C.$$.fragment,D),P=!0)},o(D){N(t.$$.fragment,D),N(k),N(r.$$.fragment,D),N(u.$$.fragment,D),N(h.$$.fragment,D),N(v.$$.fragment,D),N(C.$$.fragment,D),P=!1},d(D){b&&b.d(D),D&&p(e),D&&p(l),z(t),D&&p(n),k&&k.d(D),D&&p(o),D&&p(f),z(r),z(u),D&&p(a),D&&p(c),z(h),z(v),D&&p($),z(C,D)}}}function no(i){let e,l,t;function n(f){i[15](f)}let o={header:i[5],action:i[10],$$slots:{default:[lo]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.open=i[0]),e=new de({props:o}),G.push(()=>W(e,"open",n)),{c(){S(e.$$.fragment)},l(f){M(e.$$.fragment,f)},m(f,r){y(e,f,r),t=!0},p(f,[r]){const s={};r&32&&(s.header=f[5]),r&1024&&(s.action=f[10]),r&269278&&(s.$$scope={dirty:r,ctx:f}),!l&&r&1&&(l=!0,s.open=f[0],Q(()=>l=!1)),e.$set(s)},i(f){t||(I(e.$$.fragment,f),t=!0)},o(f){N(e.$$.fragment,f),t=!1},d(f){z(e,f)}}}function io(i,e,l){let t,n,o,f,r,s,u,a,c,h,{op:_}=e,{open:v}=e,{slide:$=void 0}=e,C=[];const P=k=>l(3,h=k.detail);function b(k){v=k,l(0,v)}return i.$$set=k=>{"op"in k&&l(1,_=k.op),"open"in k&&l(0,v=k.open),"slide"in k&&l(13,$=k.slide)},i.$$.update=()=>{i.$$.dirty&2&&l(10,t=_==="edit"?"/slides?/edit":"/slides?/new"),i.$$.dirty&8192&&l(9,n=($==null?void 0:$.boxNumber)??void 0),i.$$.dirty&8192&&l(8,o=($==null?void 0:$.boxPosition)??void 0),i.$$.dirty&8192&&l(7,f=($==null?void 0:$.comments)??""),i.$$.dirty&8192&&l(6,r=($==null?void 0:$.experimentId)??""),i.$$.dirty&8194&&l(5,s=_==="edit"?($==null?void 0:$.type)==="plate"?"Edit plate":"Edit slide":"Create slide/plate"),i.$$.dirty&8192&&l(12,u=($==null?void 0:$.id)??""),i.$$.dirty&8192&&l(4,a=$!=null&&$.observedOn?Jt(new Date($.observedOn),"yyyy-MM-dd"):new Date().toISOString().split("T")[0]),i.$$.dirty&8192&&l(11,c=($==null?void 0:$.title)??""),i.$$.dirty&8192&&l(3,h=($==null?void 0:$.type)??"slide"),i.$$.dirty&1&&v&&(async()=>l(2,C=await fetch("/api/v1/experiments").then(k=>k.json()).catch(()=>[])))()},[v,_,C,h,a,s,r,f,o,n,t,c,u,$,P,b]}class oo extends K{constructor(e){super(),x(this,e,io,no,J,{op:1,open:0,slide:13})}}function ro(i){let e,l,t,n,o;function f(s){i[3](s)}let r={multiple:!0,name:"files"};return i[2]!==void 0&&(r.value=i[2]),t=new qo({props:r}),G.push(()=>W(t,"value",f)),{c(){e=E("input"),l=V(),S(t.$$.fragment),this.h()},l(s){e=T(s,"INPUT",{type:!0,name:!0}),l=U(s),M(t.$$.fragment,s),this.h()},h(){d(e,"type","hidden"),d(e,"name","coverslipId"),e.value=i[1]},m(s,u){g(s,e,u),g(s,l,u),y(t,s,u),o=!0},p(s,u){(!o||u&2)&&(e.value=s[1]);const a={};!n&&u&4&&(n=!0,a.value=s[2],Q(()=>n=!1)),t.$set(a)},i(s){o||(I(t.$$.fragment,s),o=!0)},o(s){N(t.$$.fragment,s),o=!1},d(s){s&&p(e),s&&p(l),z(t,s)}}}function fo(i){let e,l,t,n;function o(r){i[4](r)}let f={header:"Upload file",action:"/coverslip/"+i[1]+"/files?/new",$$slots:{default:[ro]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.open=i[0]),e=new de({props:f}),G.push(()=>W(e,"open",o)),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(r){l=T(r,"DIV",{style:!0});var s=q(l);M(e.$$.fragment,s),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-block-size","min(90dvb, 100%);")},m(r,s){g(r,l,s),y(e,l,null),n=!0},p(r,[s]){const u={};s&2&&(u.action="/coverslip/"+r[1]+"/files?/new"),s&38&&(u.$$scope={dirty:s,ctx:r}),!t&&s&1&&(t=!0,u.open=r[0],Q(()=>t=!1)),e.$set(u)},i(r){n||(I(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&e&&p(l),z(e,r)}}}function so(i,e,l){let{open:t}=e,{coverslipId:n}=e,o;function f(s){o=s,l(2,o)}function r(s){t=s,l(0,t)}return i.$$set=s=>{"open"in s&&l(0,t=s.open),"coverslipId"in s&&l(1,n=s.coverslipId)},[t,n,o,f,r]}class uo extends K{constructor(e){super(),x(this,e,so,fo,J,{open:0,coverslipId:1})}}const ao=i=>({context:i&1,open:i&2}),ql=i=>({context:i[0],open:i[1]});function po(i){let e,l,t,n,o,f;const r=i[5].default,s=De(r,i,i[4],ql);return{c(){e=E("dialog"),s&&s.c(),this.h()},l(u){e=T(u,"DIALOG",{"aria-hidden":!0,class:!0});var a=q(e);s&&s.l(a),a.forEach(p),this.h()},h(){d(e,"aria-hidden",l=!i[1]),d(e,"class","svelte-1s9jqu8"),Fe(e,"modal",i[1]==="modal"),Fe(e,"non-modal",i[1]==="non-modal")},m(u,a){g(u,e,a),s&&s.m(e,null),n=!0,o||(f=[ue(t=i[3].call(null,e,i[1])),ue(i[2].call(null,e))],o=!0)},p(u,[a]){s&&s.p&&(!n||a&19)&&je(s,r,u,u[4],n?Oe(r,u[4],a,ao):Ce(u[4]),ql),(!n||a&2&&l!==(l=!u[1]))&&d(e,"aria-hidden",l),t&&hn(t.update)&&a&2&&t.update.call(null,u[1]),(!n||a&2)&&Fe(e,"modal",u[1]==="modal"),(!n||a&2)&&Fe(e,"non-modal",u[1]==="non-modal")},i(u){n||(I(s,u),n=!0)},o(u){N(s,u),n=!1},d(u){u&&p(e),s&&s.d(u),o=!1,ze(f)}}}function co(i,e,l){let{$$slots:t={},$$scope:n}=e;const o=nn(),f=ft();let{context:r=void 0}=e,{open:s=!1}=e;function u(a,c){let h=!0;function _($){if(h){h=!1;return}o($)}function v($){var C;if(!$){a.close(),a.setAttribute("inert",""),_("close");return}if($==="modal"||$==="non-modal"){a.removeAttribute("inert");const P=a.querySelector("[autofocus]");P?P.focus():(C=a.querySelector("button"))==null||C.focus(),$==="modal"?a.showModal():a.show(),_("open")}}return v(c),{update:v}}return i.$$set=a=>{"context"in a&&l(0,r=a.context),"open"in a&&l(1,s=a.open),"$$scope"in a&&l(4,n=a.$$scope)},[r,s,f,u,n,t]}class mo extends K{constructor(e){super(),x(this,e,co,po,J,{context:0,open:1})}}function Sl(i,e,l){const t=i.slice();return t[5]=e[l],t}function _o(i){let e=i[0].title+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[0].title+"")&&ce(l,e)},d(t){t&&p(l)}}}function Ml(i){let e,l;return e=new It({props:{$$slots:{default:[$o]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&257&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function yl(i){let e,l;return{c(){e=E("div"),l=F("No slides or plates"),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=q(e);l=H(n,"No slides or plates"),n.forEach(p),this.h()},h(){d(e,"class","missing svelte-1vhz0i7")},m(t,n){g(t,e,n),O(e,l)},p:ee,d(t){t&&p(e)}}}function ho(i){let e;return{c(){e=F("Untitled slide")},l(l){e=H(l,"Untitled slide")},m(l,t){g(l,e,t)},p:ee,d(l){l&&p(e)}}}function go(i){let e=i[5].title+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[5].title+"")&&ce(l,e)},d(t){t&&p(l)}}}function vo(i){let e;function l(o,f){return o[5].title?go:ho}let t=l(i),n=t(i);return{c(){n.c(),e=V()},l(o){n.l(o),e=U(o)},m(o,f){n.m(o,f),g(o,e,f)},p(o,f){t===(t=l(o))&&n?n.p(o,f):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&p(e)}}}function zl(i,e){let l,t,n;return t=new Pn({props:{href:"/slide/"+e[5].id,$$slots:{default:[vo]},$$scope:{ctx:e}}}),{key:i,first:null,c(){l=Y(),S(t.$$.fragment),this.h()},l(o){l=Y(),M(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,f){g(o,l,f),y(t,o,f),n=!0},p(o,f){e=o;const r={};f&1&&(r.href="/slide/"+e[5].id),f&257&&(r.$$scope={dirty:f,ctx:e}),t.$set(r)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){N(t.$$.fragment,o),n=!1},d(o){o&&p(l),z(t,o)}}}function $o(i){let e=[],l=new Map,t,n,o=i[0].slides;const f=s=>s[5].id;for(let s=0;s<o.length;s+=1){let u=Sl(i,o,s),a=f(u);l.set(a,e[s]=zl(a,u))}let r=null;return o.length||(r=yl()),{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Y(),r&&r.c()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);t=Y(),r&&r.l(s)},m(s,u){for(let a=0;a<e.length;a+=1)e[a].m(s,u);g(s,t,u),r&&r.m(s,u),n=!0},p(s,u){u&1&&(o=s[0].slides,ae(),e=He(e,u,f,1,s,o,l,t.parentNode,Tt,zl,t,Sl),pe(),!o.length&&r?r.p(s,u):o.length?r&&(r.d(1),r=null):(r=yl(),r.c(),r.m(t.parentNode,t)))},i(s){if(!n){for(let u=0;u<o.length;u+=1)I(e[u]);n=!0}},o(s){for(let u=0;u<e.length;u+=1)N(e[u]);n=!1},d(s){for(let u=0;u<e.length;u+=1)e[u].d(s);s&&p(t),r&&r.d(s)}}}function bo(i){let e,l,t,n;e=new sn({props:{href:"/experiment/"+i[0].id,open:i[1],active:!1,$$slots:{default:[_o]},$$scope:{ctx:i}}});let o=i[1]&&Ml(i);return{c(){S(e.$$.fragment),l=V(),o&&o.c(),t=Y()},l(f){M(e.$$.fragment,f),l=U(f),o&&o.l(f),t=Y()},m(f,r){y(e,f,r),g(f,l,r),o&&o.m(f,r),g(f,t,r),n=!0},p(f,[r]){const s={};r&1&&(s.href="/experiment/"+f[0].id),r&2&&(s.open=f[1]),r&257&&(s.$$scope={dirty:r,ctx:f}),e.$set(s),f[1]?o?(o.p(f,r),r&2&&I(o,1)):(o=Ml(f),o.c(),I(o,1),o.m(t.parentNode,t)):o&&(ae(),N(o,1,1,()=>{o=null}),pe())},i(f){n||(I(e.$$.fragment,f),I(o),n=!0)},o(f){N(e.$$.fragment,f),N(o),n=!1},d(f){z(e,f),f&&p(l),o&&o.d(f),f&&p(t)}}}function ko(i,e,l){let t,n;Ze(i,xt,s=>l(3,n=s));let{experiment:o}=e,f=!1;function r(s,u){const a=u[2];l(1,f=s.id===(a==null?void 0:a.id))}return i.$$set=s=>{"experiment"in s&&l(0,o=s.experiment)},i.$$.update=()=>{i.$$.dirty&8&&l(2,{breadcrumbs:t}=n.data,t),i.$$.dirty&5&&r(o,t)},[o,f,t,n]}class wo extends K{constructor(e){super(),x(this,e,ko,bo,J,{experiment:0})}}function Bl(i,e,l){const t=i.slice();return t[5]=e[l],t}function Io(i){let e=i[0].title+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[0].title+"")&&ce(l,e)},d(t){t&&p(l)}}}function Rl(i){let e,l;return e=new It({props:{$$slots:{default:[Eo]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n&257&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Al(i){let e,l;return{c(){e=E("div"),l=F("No experiments"),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=q(e);l=H(n,"No experiments"),n.forEach(p),this.h()},h(){d(e,"class","missing svelte-1vhz0i7")},m(t,n){g(t,e,n),O(e,l)},p:ee,d(t){t&&p(e)}}}function Fl(i,e){let l,t,n;return t=new wo({props:{experiment:e[5]}}),{key:i,first:null,c(){l=Y(),S(t.$$.fragment),this.h()},l(o){l=Y(),M(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,f){g(o,l,f),y(t,o,f),n=!0},p(o,f){e=o;const r={};f&1&&(r.experiment=e[5]),t.$set(r)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){N(t.$$.fragment,o),n=!1},d(o){o&&p(l),z(t,o)}}}function Eo(i){let e=[],l=new Map,t,n,o=i[0].experiments;const f=s=>s[5].id;for(let s=0;s<o.length;s+=1){let u=Bl(i,o,s),a=f(u);l.set(a,e[s]=Fl(a,u))}let r=null;return o.length||(r=Al()),{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Y(),r&&r.c()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);t=Y(),r&&r.l(s)},m(s,u){for(let a=0;a<e.length;a+=1)e[a].m(s,u);g(s,t,u),r&&r.m(s,u),n=!0},p(s,u){u&1&&(o=s[0].experiments,ae(),e=He(e,u,f,1,s,o,l,t.parentNode,Tt,Fl,t,Bl),pe(),!o.length&&r?r.p(s,u):o.length?r&&(r.d(1),r=null):(r=Al(),r.c(),r.m(t.parentNode,t)))},i(s){if(!n){for(let u=0;u<o.length;u+=1)I(e[u]);n=!0}},o(s){for(let u=0;u<e.length;u+=1)N(e[u]);n=!1},d(s){for(let u=0;u<e.length;u+=1)e[u].d(s);s&&p(t),r&&r.d(s)}}}function To(i){let e,l,t,n;e=new sn({props:{href:"/project/"+i[0].id,open:i[1],active:!1,$$slots:{default:[Io]},$$scope:{ctx:i}}});let o=i[1]&&Rl(i);return{c(){S(e.$$.fragment),l=V(),o&&o.c(),t=Y()},l(f){M(e.$$.fragment,f),l=U(f),o&&o.l(f),t=Y()},m(f,r){y(e,f,r),g(f,l,r),o&&o.m(f,r),g(f,t,r),n=!0},p(f,[r]){const s={};r&1&&(s.href="/project/"+f[0].id),r&2&&(s.open=f[1]),r&257&&(s.$$scope={dirty:r,ctx:f}),e.$set(s),f[1]?o?(o.p(f,r),r&2&&I(o,1)):(o=Rl(f),o.c(),I(o,1),o.m(t.parentNode,t)):o&&(ae(),N(o,1,1,()=>{o=null}),pe())},i(f){n||(I(e.$$.fragment,f),I(o),n=!0)},o(f){N(e.$$.fragment,f),N(o),n=!1},d(f){z(e,f),f&&p(l),o&&o.d(f),f&&p(t)}}}function No(i,e,l){let t,n;Ze(i,xt,s=>l(3,n=s));let{project:o}=e,f=!1;function r(s,u){const a=u[1];l(1,f=s.id===(a==null?void 0:a.id))}return i.$$set=s=>{"project"in s&&l(0,o=s.project)},i.$$.update=()=>{i.$$.dirty&8&&l(2,{breadcrumbs:t}=n.data,t),i.$$.dirty&5&&r(o,t)},[o,f,t,n]}class Do extends K{constructor(e){super(),x(this,e,No,To,J,{project:0})}}function jo(i){let e,l;return e=new We({props:{d:$n}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p:ee,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Co(i){let e,l;return e=new We({props:{d:bn}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p:ee,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Oo(i){let e,l,t,n,o,f,r;const s=[Co,jo],u=[];function a(_,v){return _[2]?0:1}t=a(i),n=u[t]=s[t](i);const c=i[7].default,h=De(c,i,i[6],null);return{c(){e=E("div"),l=E("button"),n.c(),o=V(),f=E("a"),h&&h.c(),this.h()},l(_){e=T(_,"DIV",{class:!0,"aria-selected":!0});var v=q(e);l=T(v,"BUTTON",{class:!0});var $=q(l);n.l($),$.forEach(p),o=U(v),f=T(v,"A",{href:!0,"aria-current":!0,class:!0});var C=q(f);h&&h.l(C),C.forEach(p),v.forEach(p),this.h()},h(){d(l,"class","br-ignore unbutton svelte-1ms6aao"),d(f,"href",i[1]),d(f,"aria-current",i[3]),d(f,"class","overflow-ellipsis svelte-1ms6aao"),d(e,"class","br-list-item svelte-1ms6aao"),d(e,"aria-selected",i[4]),Fe(e,"active",i[0])},m(_,v){g(_,e,v),O(e,l),u[t].m(l,null),O(e,o),O(e,f),h&&h.m(f,null),r=!0},p(_,[v]){let $=t;t=a(_),t===$?u[t].p(_,v):(ae(),N(u[$],1,1,()=>{u[$]=null}),pe(),n=u[t],n?n.p(_,v):(n=u[t]=s[t](_),n.c()),I(n,1),n.m(l,null)),h&&h.p&&(!r||v&64)&&je(h,c,_,_[6],r?Oe(c,_[6],v,null):Ce(_[6]),null),(!r||v&2)&&d(f,"href",_[1]),(!r||v&8)&&d(f,"aria-current",_[3]),(!r||v&16)&&d(e,"aria-selected",_[4]),(!r||v&1)&&Fe(e,"active",_[0])},i(_){r||(I(n),I(h,_),r=!0)},o(_){N(n),N(h,_),r=!1},d(_){_&&p(e),u[t].d(),h&&h.d(_)}}}function Po(i,e,l){let t,n,o;Ze(i,xt,c=>l(5,o=c));let{$$slots:f={},$$scope:r}=e,{active:s=!1}=e,{href:u}=e,{open:a}=e;return i.$$set=c=>{"active"in c&&l(0,s=c.active),"href"in c&&l(1,u=c.href),"open"in c&&l(2,a=c.open),"$$scope"in c&&l(6,r=c.$$scope)},i.$$.update=()=>{i.$$.dirty&34&&l(3,t=o.url.pathname===u?"page":null),i.$$.dirty&8&&l(4,n=t?"true":null)},[s,u,a,t,n,o,r,f]}class sn extends K{constructor(e){super(),x(this,e,Po,Oo,J,{active:0,href:1,open:2})}}function Vo(i){let e,l,t,n,o,f;const r=i[5].default,s=De(r,i,i[4],null);return{c(){e=E("label"),l=E("input"),t=V(),s&&s.c(),this.h()},l(u){e=T(u,"LABEL",{});var a=q(e);l=T(a,"INPUT",{type:!0,name:!0}),t=U(a),s&&s.l(a),a.forEach(p),this.h()},h(){d(l,"type","file"),l.multiple=i[1],d(l,"name",i[0])},m(u,a){g(u,e,a),O(e,l),O(e,t),s&&s.m(e,null),n=!0,o||(f=ne(l,"change",i[2]),o=!0)},p(u,[a]){(!n||a&2)&&(l.multiple=u[1]),(!n||a&1)&&d(l,"name",u[0]),s&&s.p&&(!n||a&16)&&je(s,r,u,u[4],n?Oe(r,u[4],a,null):Ce(u[4]),null)},i(u){n||(I(s,u),n=!0)},o(u){N(s,u),n=!1},d(u){u&&p(e),s&&s.d(u),o=!1,f()}}}function Uo(i,e,l){let{$$slots:t={},$$scope:n}=e,{name:o}=e,{value:f=void 0}=e,{multiple:r=!1}=e;function s(u){l(3,f=u.currentTarget.files??void 0)}return i.$$set=u=>{"name"in u&&l(0,o=u.name),"value"in u&&l(3,f=u.value),"multiple"in u&&l(1,r=u.multiple),"$$scope"in u&&l(4,n=u.$$scope)},[o,r,s,f,n,t]}class qo extends K{constructor(e){super(),x(this,e,Uo,Vo,J,{name:0,value:3,multiple:1})}}const So=i=>({input:i&1,validationMessage:i&2}),Hl=i=>({hintId:i[2],input:i[0],inputId:i[3],validationMessage:i[1]}),Mo=i=>({input:i&1,validationMessage:i&2}),Ll=i=>({hintId:i[2],input:i[0],inputId:i[3],validationMessage:i[1]}),yo=i=>({input:i&1,validationMessage:i&2}),Yl=i=>({hintId:i[2],input:i[0],inputId:i[3],validationMessage:i[1]});function zo(i){let e,l,t,n,o,f,r;const s=i[8].label,u=De(s,i,i[7],Yl),a=i[8].default,c=De(a,i,i[7],Ll),h=i[8].hint,_=De(h,i,i[7],Hl);return{c(){e=E("div"),u&&u.c(),l=V(),t=E("div"),c&&c.c(),n=V(),_&&_.c(),this.h()},l(v){e=T(v,"DIV",{class:!0});var $=q(e);u&&u.l($),l=U($),t=T($,"DIV",{class:!0});var C=q(t);c&&c.l(C),C.forEach(p),n=U($),_&&_.l($),$.forEach(p),this.h()},h(){d(t,"class","br-container svelte-b2sn8y"),d(e,"class","wrapper svelte-b2sn8y"),Fe(e,"active",i[6].label||i[6].hint)},m(v,$){g(v,e,$),u&&u.m(e,null),O(e,l),O(e,t),c&&c.m(t,null),O(e,n),_&&_.m(e,null),o=!0,f||(r=[ne(t,"validate",i[4]),ue(i[5].call(null,e))],f=!0)},p(v,[$]){u&&u.p&&(!o||$&131)&&je(u,s,v,v[7],o?Oe(s,v[7],$,yo):Ce(v[7]),Yl),c&&c.p&&(!o||$&131)&&je(c,a,v,v[7],o?Oe(a,v[7],$,Mo):Ce(v[7]),Ll),_&&_.p&&(!o||$&131)&&je(_,h,v,v[7],o?Oe(h,v[7],$,So):Ce(v[7]),Hl),(!o||$&64)&&Fe(e,"active",v[6].label||v[6].hint)},i(v){o||(I(u,v),I(c,v),I(_,v),o=!0)},o(v){N(u,v),N(c,v),N(_,v),o=!1},d(v){v&&p(e),u&&u.d(v),c&&c.d(v),_&&_.d(v),f=!1,ze(r)}}}function Bo(i,e,l){let{$$slots:t={},$$scope:n}=e;const o=gn(t),f=kt(),r=kt();let s,u="";function a(h){l(0,s=h==null?void 0:h.target),l(1,u=(s==null?void 0:s.validationMessage)||"")}const c=ft();return i.$$set=h=>{"$$scope"in h&&l(7,n=h.$$scope)},[s,u,f,r,a,c,o,n,t]}class un extends K{constructor(e){super(),x(this,e,Bo,zo,J,{})}}function Ro(i){const[e]=Object.entries(i.validity).find(([l,t])=>l!=="valid"&&t)||[""];return e}function Ao(i,e,l){if(i.disabled)return;i.setCustomValidity("");let t="";if(i.validity.valid){const n=e(i);t=l(n,i),n&&!t&&(t="The value you entered for this field is invalid.")}else{const n=Ro(i);t=l(n,i)}i.setCustomValidity(t)}function Je(i,e={}){const l=()=>"";let{invalid:t=l,error:n=l}=e;const o=[ne(i,"blur",f,{capture:!0}),ne(i,"invalid",s,{capture:!0}),i.form?ne(i.form,"submit",u,{capture:!0}):l];ne(i,"blur",()=>{o.push(ne(i,"input",f,{capture:!0}))},{once:!0});function f(){Ao(i,t,n);const a=new CustomEvent("validate",{bubbles:!0,detail:{validationMessage:i.validationMessage}});i.dispatchEvent(a)}function r(a){a.querySelector(":invalid").focus()}function s(a){f(),a.preventDefault(),i.form?r(i.form):i.focus()}function u(a){f(),i.validationMessage&&(a.preventDefault(),r(i.form))}return{update(a){({invalid:t=l,error:n=l}=a)},destroy(){o.forEach(a=>a())}}}function Xl(i){let e,l;return{c(){e=E("option"),l=F(i[3]),this.h()},l(t){e=T(t,"OPTION",{});var n=q(e);l=H(n,i[3]),n.forEach(p),this.h()},h(){e.__value="",e.value=e.__value,e.disabled=!0,e.selected=!0},m(t,n){g(t,e,n),O(e,l)},p(t,n){n&8&&ce(l,t[3])},d(t){t&&p(e)}}}function Fo(i){let e,l,t,n,o,f,r,s=i[3]&&Xl(i);const u=i[8].default,a=De(u,i,i[9],null);return{c(){e=E("select"),s&&s.c(),l=Y(),a&&a.c(),this.h()},l(c){e=T(c,"SELECT",{id:!0,"aria-describedby":!0,form:!0,name:!0,placeholder:!0});var h=q(e);s&&s.l(h),l=Y(),a&&a.l(h),h.forEach(p),this.h()},h(){d(e,"id",t=i[11]),d(e,"aria-describedby",n=i[12]),d(e,"form",i[0]),d(e,"name",i[2]),e.required=i[4],d(e,"placeholder",i[3])},m(c,h){g(c,e,h),s&&s.m(e,null),O(e,l),a&&a.m(e,null),o=!0,f||(r=[ue(i[6].call(null,e)),ue(Je.call(null,e))],f=!0)},p(c,h){c[3]?s?s.p(c,h):(s=Xl(c),s.c(),s.m(e,l)):s&&(s.d(1),s=null),a&&a.p&&(!o||h&512)&&je(a,u,c,c[9],o?Oe(u,c[9],h,null):Ce(c[9]),null),(!o||h&2048&&t!==(t=c[11]))&&d(e,"id",t),(!o||h&4096&&n!==(n=c[12]))&&d(e,"aria-describedby",n),(!o||h&1)&&d(e,"form",c[0]),(!o||h&4)&&d(e,"name",c[2]),(!o||h&16)&&(e.required=c[4]),(!o||h&8)&&d(e,"placeholder",c[3])},i(c){o||(I(a,c),o=!0)},o(c){N(a,c),o=!1},d(c){c&&p(e),s&&s.d(),a&&a.d(c),f=!1,ze(r)}}}function Ho(i){let e,l,t,n,o,f,r;return o=new We({props:{d:kn}}),{c(){e=E("label"),l=F(i[1]),t=V(),n=E("span"),S(o.$$.fragment),this.h()},l(s){e=T(s,"LABEL",{slot:!0,for:!0,class:!0});var u=q(e);l=H(u,i[1]),t=U(u),n=T(u,"SPAN",{class:!0});var a=q(n);M(o.$$.fragment,a),a.forEach(p),u.forEach(p),this.h()},h(){d(n,"class","required svelte-tx5a19"),d(e,"slot","label"),d(e,"for",f=i[11]),d(e,"class","svelte-tx5a19")},m(s,u){g(s,e,u),O(e,l),O(e,t),O(e,n),y(o,n,null),r=!0},p(s,u){(!r||u&2)&&ce(l,s[1]),(!r||u&2048&&f!==(f=s[11]))&&d(e,"for",f)},i(s){r||(I(o.$$.fragment,s),r=!0)},o(s){N(o.$$.fragment,s),r=!1},d(s){s&&p(e),z(o)}}}function Gl(i){let e,l;return{c(){e=E("div"),l=F(i[5]),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=q(e);l=H(n,i[5]),n.forEach(p),this.h()},h(){d(e,"class","error svelte-tx5a19")},m(t,n){g(t,e,n),O(e,l)},p(t,n){n&32&&ce(l,t[5])},d(t){t&&p(e)}}}function Lo(i){let e,l,t=i[5]&&Gl(i);return{c(){e=E("div"),t&&t.c(),this.h()},l(n){e=T(n,"DIV",{id:!0,slot:!0,class:!0});var o=q(e);t&&t.l(o),o.forEach(p),this.h()},h(){d(e,"id",l=i[12]),d(e,"slot","hint"),d(e,"class","svelte-tx5a19")},m(n,o){g(n,e,o),t&&t.m(e,null)},p(n,o){n[5]?t?t.p(n,o):(t=Gl(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null),o&4096&&l!==(l=n[12])&&d(e,"id",l)},d(n){n&&p(e),t&&t.d()}}}function Yo(i){let e,l;return e=new un({props:{$$slots:{hint:[Lo,({inputId:t,hintId:n})=>({11:t,12:n}),({inputId:t,hintId:n})=>(t?2048:0)|(n?4096:0)],label:[Ho,({inputId:t,hintId:n})=>({11:t,12:n}),({inputId:t,hintId:n})=>(t?2048:0)|(n?4096:0)],default:[Fo,({inputId:t,hintId:n})=>({11:t,12:n}),({inputId:t,hintId:n})=>(t?2048:0)|(n?4096:0)]},$$scope:{ctx:i}}}),e.$on("validate",i[7]),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,[n]){const o={};n&6719&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Xo(i,e,l){let{$$slots:t={},$$scope:n}=e,{form:o=void 0}=e,{label:f}=e,{name:r}=e,{placeholder:s=""}=e,{required:u=!1}=e;const a=ft(),c=ot("field-errors");let h="";Kt(c.subscribe(v=>{var $;l(5,h=(($=v[r])==null?void 0:$[0])||"")}));function _(v){l(5,h=v.detail.validationMessage)}return i.$$set=v=>{"form"in v&&l(0,o=v.form),"label"in v&&l(1,f=v.label),"name"in v&&l(2,r=v.name),"placeholder"in v&&l(3,s=v.placeholder),"required"in v&&l(4,u=v.required),"$$scope"in v&&l(9,n=v.$$scope)},[o,f,r,s,u,h,a,_,t,n]}class Dt extends K{constructor(e){super(),x(this,e,Xo,Yo,J,{form:0,label:1,name:2,placeholder:3,required:4})}}const Go=i=>({}),Wl=i=>({fieldErrors:i[6]}),Wo=i=>({}),Ql=i=>({fieldErrors:i[6]});function Zl(i,e,l){const t=i.slice();return t[12]=e[l],t}function Jl(i){let e,l,t,n,o,f,r,s,u,a,c,h=i[5].length&&Kl(i);const _=i[8].default,v=De(_,i,i[10],Ql),$=i[8].footer,C=De($,i,i[10],Wl),P=C||Qo(i);return{c(){e=E("form"),l=E("header"),t=E("h3"),n=F(i[3]),o=V(),h&&h.c(),f=V(),r=E("section"),v&&v.c(),s=V(),P&&P.c(),this.h()},l(b){e=T(b,"FORM",{action:!0,method:!0,enctype:!0,class:!0});var k=q(e);l=T(k,"HEADER",{class:!0});var D=q(l);t=T(D,"H3",{class:!0});var w=q(t);n=H(w,i[3]),w.forEach(p),D.forEach(p),o=U(k),h&&h.l(k),f=U(k),r=T(k,"SECTION",{class:!0});var j=q(r);v&&v.l(j),j.forEach(p),s=U(k),P&&P.l(k),k.forEach(p),this.h()},h(){d(t,"class","svelte-k4fykn"),d(l,"class","br-dialog-inline-section"),d(r,"class","br-dialog-block-section svelte-k4fykn"),d(e,"action",i[1]),d(e,"method","POST"),d(e,"enctype",i[2]),d(e,"class","svelte-k4fykn")},m(b,k){g(b,e,k),O(e,l),O(l,t),O(t,n),O(e,o),h&&h.m(e,null),O(e,f),O(e,r),v&&v.m(r,null),O(e,s),P&&P.m(e,null),u=!0,a||(c=ue(wn.call(null,e,i[7])),a=!0)},p(b,k){(!u||k&8)&&ce(n,b[3]),b[5].length?h?h.p(b,k):(h=Kl(b),h.c(),h.m(e,f)):h&&(h.d(1),h=null),v&&v.p&&(!u||k&1024)&&je(v,_,b,b[10],u?Oe(_,b[10],k,Wo):Ce(b[10]),Ql),C?C.p&&(!u||k&1024)&&je(C,$,b,b[10],u?Oe($,b[10],k,Go):Ce(b[10]),Wl):P&&P.p&&(!u||k&1)&&P.p(b,u?k:-1),(!u||k&2)&&d(e,"action",b[1]),(!u||k&4)&&d(e,"enctype",b[2])},i(b){u||(I(v,b),I(P,b),u=!0)},o(b){N(v,b),N(P,b),u=!1},d(b){b&&p(e),h&&h.d(),v&&v.d(b),P&&P.d(b),a=!1,c()}}}function Kl(i){let e,l=i[5],t=[];for(let n=0;n<l.length;n+=1)t[n]=xl(Zl(i,l,n));return{c(){e=E("section");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=T(n,"SECTION",{class:!0});var o=q(e);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(p),this.h()},h(){d(e,"class","errors br-dialog-block-section svelte-k4fykn")},m(n,o){g(n,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null)},p(n,o){if(o&32){l=n[5];let f;for(f=0;f<l.length;f+=1){const r=Zl(n,l,f);t[f]?t[f].p(r,o):(t[f]=xl(r),t[f].c(),t[f].m(e,null))}for(;f<t.length;f+=1)t[f].d(1);t.length=l.length}},d(n){n&&p(e),rt(t,n)}}}function xl(i){let e=i[12]+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){g(t,l,n)},p(t,n){n&32&&e!==(e=t[12]+"")&&ce(l,e)},d(t){t&&p(l)}}}function Qo(i){let e,l,t,n,o,f,r,s;return{c(){e=E("footer"),l=E("button"),t=F("Save"),n=V(),o=E("button"),f=F("Cancel"),this.h()},l(u){e=T(u,"FOOTER",{class:!0});var a=q(e);l=T(a,"BUTTON",{class:!0});var c=q(l);t=H(c,"Save"),c.forEach(p),n=U(a),o=T(a,"BUTTON",{type:!0});var h=q(o);f=H(h,"Cancel"),h.forEach(p),a.forEach(p),this.h()},h(){d(l,"class","br-button-primary"),d(o,"type","reset"),d(e,"class","br-dialog-inline-section")},m(u,a){g(u,e,a),O(e,l),O(l,t),O(e,n),O(e,o),O(o,f),r||(s=ne(o,"click",i[9]),r=!0)},p:ee,d(u){u&&p(e),r=!1,s()}}}function Zo(i){let e,l,t=i[0]&&Jl(i);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[0]?t?(t.p(n,o),o&1&&I(t,1)):(t=Jl(n),t.c(),I(t,1),t.m(e.parentNode,e)):t&&(ae(),N(t,1,1,()=>{t=null}),pe())},i(n){l||(I(t),l=!0)},o(n){N(t),l=!1},d(n){t&&t.d(n),n&&p(e)}}}function Jo(i){let e,l,t,n;return e=new mo({props:{open:i[0]?"modal":!1,$$slots:{default:[Zo]},$$scope:{ctx:i}}}),{c(){l=E("div"),S(e.$$.fragment),this.h()},l(o){l=T(o,"DIV",{style:!0});var f=q(l);M(e.$$.fragment,f),this.h()},h(){se(l,"display","contents"),se(l,"--br-dialog-root-max-inline-size",t=i[4]==="wide"?"90vw":"")},m(o,f){g(o,l,f),y(e,l,null),n=!0},p(o,[f]){f&16&&t!==(t=o[4]==="wide"?"90vw":"")&&se(l,"--br-dialog-root-max-inline-size",t);const r={};f&1&&(r.open=o[0]?"modal":!1),f&1071&&(r.$$scope={dirty:f,ctx:o}),e.$set(r)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){N(e.$$.fragment,o),n=!1},d(o){o&&e&&p(l),z(e,o)}}}function Ko(i,e,l){let t,{$$slots:n={},$$scope:o}=e,{action:f}=e,{enctype:r=void 0}=e,{open:s}=e,{header:u}=e,{size:a="wide"}=e,c=[];const h=on({});Ze(i,h,$=>l(11,t=$)),bt("field-errors",h);function _(){return({result:$,update:C})=>{var b,k;let P;$.type==="failure"?(l(0,s=!0),Zt(h,t=((b=$.data)==null?void 0:b.fieldErrors)??{},t),l(5,c=((k=$.data)==null?void 0:k.formErrors)||[]),P={reset:!1}):(l(0,s=!1),Zt(h,t={},t),l(5,c=[])),C(P)}}const v=()=>l(0,s=!1);return i.$$set=$=>{"action"in $&&l(1,f=$.action),"enctype"in $&&l(2,r=$.enctype),"open"in $&&l(0,s=$.open),"header"in $&&l(3,u=$.header),"size"in $&&l(4,a=$.size),"$$scope"in $&&l(10,o=$.$$scope)},[s,f,r,u,a,c,h,_,n,v,o]}class de extends K{constructor(e){super(),x(this,e,Ko,Jo,J,{action:1,enctype:2,open:0,header:3,size:4})}}function xo(i){let e,l,t=i[1]?"required":"optional",n;return{c(){e=E("div"),l=F("This field is "),n=F(t),this.h()},l(o){e=T(o,"DIV",{class:!0});var f=q(e);l=H(f,"This field is "),n=H(f,t),f.forEach(p),this.h()},h(){d(e,"class","required svelte-15t7356")},m(o,f){g(o,e,f),O(e,l),O(e,n)},p(o,f){f&2&&t!==(t=o[1]?"required":"optional")&&ce(n,t)},d(o){o&&p(e)}}}function er(i){let e,l;return{c(){e=E("div"),l=F(i[2]),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=q(e);l=H(n,i[2]),n.forEach(p),this.h()},h(){d(e,"class","error svelte-15t7356")},m(t,n){g(t,e,n),O(e,l)},p(t,n){n&4&&ce(l,t[2])},d(t){t&&p(e)}}}function tr(i){let e,l,t,n,o,f,r,s,u,a;const c=i[10].default,h=De(c,i,i[9],null);function _(C,P){return C[2]?er:xo}let v=_(i),$=v(i);return{c(){e=E("div"),l=E("div"),t=F(i[0]),n=V(),o=E("div"),h&&h.c(),f=V(),r=E("div"),$.c(),this.h()},l(C){e=T(C,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var P=q(e);l=T(P,"DIV",{id:!0});var b=q(l);t=H(b,i[0]),b.forEach(p),n=U(P),o=T(P,"DIV",{class:!0});var k=q(o);h&&h.l(k),k.forEach(p),f=U(P),r=T(P,"DIV",{id:!0,class:!0});var D=q(r);$.l(D),D.forEach(p),P.forEach(p),this.h()},h(){d(l,"id",i[3]),d(o,"class","inputs"),d(r,"id",i[4]),d(r,"class","hint-wrapper svelte-15t7356"),d(e,"class","group svelte-15t7356"),d(e,"role","radiogroup"),d(e,"aria-labelledby",i[3])},m(C,P){g(C,e,P),O(e,l),O(l,t),O(e,n),O(e,o),h&&h.m(o,null),O(e,f),O(e,r),$.m(r,null),s=!0,u||(a=[ne(o,"change",i[7]),ne(e,"validate",i[6])],u=!0)},p(C,[P]){(!s||P&1)&&ce(t,C[0]),h&&h.p&&(!s||P&512)&&je(h,c,C,C[9],s?Oe(c,C[9],P,null):Ce(C[9]),null),v===(v=_(C))&&$?$.p(C,P):($.d(1),$=v(C),$&&($.c(),$.m(r,null)))},i(C){s||(I(h,C),s=!0)},o(C){N(h,C),s=!1},d(C){C&&p(e),h&&h.d(C),$.d(),u=!1,ze(a)}}}function lr(i,e,l){let t,{$$slots:n={},$$scope:o}=e,{label:f}=e,{name:r}=e,{required:s=!1}=e;const u=kt(),a=kt(),c=on(r);Ze(i,c,P=>l(11,t=P));const h=nn();bt("group-hint-id",a),bt("group-name",c);const _=ot("field-errors");let v="";Kt(_.subscribe(P=>{var b;l(2,v=((b=P[r])==null?void 0:b[0])||"")}));function $(P){l(2,v=P.currentTarget.validationMessage)}function C(P){const b=P.target;(b==null?void 0:b.nodeName)==="INPUT"&&h("change",b.value)}return i.$$set=P=>{"label"in P&&l(0,f=P.label),"name"in P&&l(8,r=P.name),"required"in P&&l(1,s=P.required),"$$scope"in P&&l(9,o=P.$$scope)},i.$$.update=()=>{i.$$.dirty&256&&Zt(c,t=r,t)},[f,s,v,u,a,c,$,C,r,o,n]}class el extends K{constructor(e){super(),x(this,e,lr,tr,J,{label:0,name:8,required:1})}}function nr(i,e=166){let l;function t(...n){const o=()=>{i.apply(this,n)};clearTimeout(l),l=setTimeout(o,e)}return t.clear=()=>{clearTimeout(l)},t}function $t(i,e){return parseInt(i.getPropertyValue(e))||0}function ir(i){return(i==null?void 0:i.ownerDocument)||document}function or(i){return ir(i).defaultView||window}function rr(i,e={}){const l=or(i),{minrows:t=2,maxrows:n=10}=e,o=E("textarea");o.style.cssText=["visibility: hidden;","position: absolute;","overflow: hidden;","height: 0;","top: 0;","left: 0;","transform: translateZ(0);"].join(""),vn(i.parentNode,o);let f,r;function s(){const _=l.getComputedStyle(i);if(_.width==="0px")return;o.style.width=_.width,o.value=i.value||i.placeholder||"x",o.value.slice(-1)===`
`&&(o.value+=" ");const v=_.getPropertyValue("box-sizing"),$=$t(_,"padding-bottom")+$t(_,"padding-top"),C=$t(_,"border-bottom-width")+$t(_,"border-top-width"),P=o.scrollHeight;o.value="x";const b=o.scrollHeight;let k=P;t&&(k=Math.max(Number(t)*b,k)),n&&(k=Math.min(Number(n)*b,k)),k=Math.max(k,b);const D=k+(v==="border-box"?$+C:0),w=Math.abs(k-P)<=1;(D>0&&Math.abs((f||0)-D)>1||r!==w)&&(r=w,f=D,i.style.setProperty("height",`${D}px`))}const u=nr(s),a=ne(l,"resize",u);let c;typeof ResizeObserver<"u"&&(c=new ResizeObserver(u),c.observe(i));const h=ne(i,"input",s);return s(),{destroy(){h(),a(),u.clear(),c==null||c.disconnect(),o.remove()}}}function fr(i){let e,l,t,n,o;return{c(){e=E("input"),this.h()},l(f){e=T(f,"INPUT",{id:!0,"aria-describedby":!0,form:!0,max:!0,min:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){d(e,"id",l=i[13]),d(e,"aria-describedby",t=i[14]),d(e,"form",i[0]),d(e,"max",i[2]),d(e,"min",i[3]),d(e,"name",i[4]),d(e,"placeholder",i[5]),e.required=i[6],e.value=i[8],d(e,"type","date")},m(f,r){g(f,e,r),n||(o=[ue(i[10].call(null,e)),ue(Je.call(null,e))],n=!0)},p(f,r){r&8192&&l!==(l=f[13])&&d(e,"id",l),r&16384&&t!==(t=f[14])&&d(e,"aria-describedby",t),r&1&&d(e,"form",f[0]),r&4&&d(e,"max",f[2]),r&8&&d(e,"min",f[3]),r&16&&d(e,"name",f[4]),r&32&&d(e,"placeholder",f[5]),r&64&&(e.required=f[6]),r&256&&(e.value=f[8])},d(f){f&&p(e),n=!1,ze(o)}}}function sr(i){let e,l,t,n,o;return{c(){e=E("input"),this.h()},l(f){e=T(f,"INPUT",{id:!0,"aria-describedby":!0,form:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){d(e,"id",l=i[13]),d(e,"aria-describedby",t=i[14]),d(e,"form",i[0]),d(e,"name",i[4]),d(e,"placeholder",i[5]),e.required=i[6],e.value=i[8],d(e,"type","number")},m(f,r){g(f,e,r),n||(o=[ue(i[10].call(null,e)),ue(Je.call(null,e))],n=!0)},p(f,r){r&8192&&l!==(l=f[13])&&d(e,"id",l),r&16384&&t!==(t=f[14])&&d(e,"aria-describedby",t),r&1&&d(e,"form",f[0]),r&16&&d(e,"name",f[4]),r&32&&d(e,"placeholder",f[5]),r&64&&(e.required=f[6]),r&256&&e.value!==f[8]&&(e.value=f[8])},d(f){f&&p(e),n=!1,ze(o)}}}function ur(i){let e,l,t,n,o;return{c(){e=E("textarea"),this.h()},l(f){e=T(f,"TEXTAREA",{id:!0,"aria-describedby":!0,form:!0,name:!0,placeholder:!0,rows:!0}),q(e).forEach(p),this.h()},h(){d(e,"id",l=i[13]),d(e,"aria-describedby",t=i[14]),d(e,"form",i[0]),d(e,"name",i[4]),d(e,"placeholder",i[5]),e.required=i[6],e.value=i[8],d(e,"rows","1")},m(f,r){g(f,e,r),n||(o=[ue(rr.call(null,e,{minrows:2})),ue(i[10].call(null,e)),ue(Je.call(null,e))],n=!0)},p(f,r){r&8192&&l!==(l=f[13])&&d(e,"id",l),r&16384&&t!==(t=f[14])&&d(e,"aria-describedby",t),r&1&&d(e,"form",f[0]),r&16&&d(e,"name",f[4]),r&32&&d(e,"placeholder",f[5]),r&64&&(e.required=f[6]),r&256&&(e.value=f[8])},d(f){f&&p(e),n=!1,ze(o)}}}function ar(i){let e,l,t,n,o;return{c(){e=E("input"),this.h()},l(f){e=T(f,"INPUT",{id:!0,"aria-describedby":!0,form:!0,name:!0,placeholder:!0}),this.h()},h(){d(e,"id",l=i[13]),d(e,"aria-describedby",t=i[14]),d(e,"form",i[0]),d(e,"name",i[4]),d(e,"placeholder",i[5]),e.required=i[6],e.value=i[8]},m(f,r){g(f,e,r),n||(o=[ue(i[10].call(null,e)),ue(Je.call(null,e))],n=!0)},p(f,r){r&8192&&l!==(l=f[13])&&d(e,"id",l),r&16384&&t!==(t=f[14])&&d(e,"aria-describedby",t),r&1&&d(e,"form",f[0]),r&16&&d(e,"name",f[4]),r&32&&d(e,"placeholder",f[5]),r&64&&(e.required=f[6]),r&256&&e.value!==f[8]&&(e.value=f[8])},d(f){f&&p(e),n=!1,ze(o)}}}function pr(i){let e;function l(o,f){if(o[7]==="text")return ar;if(o[7]==="textarea")return ur;if(o[7]==="number")return sr;if(o[7]==="date")return fr}let t=l(i),n=t&&t(i);return{c(){n&&n.c(),e=Y()},l(o){n&&n.l(o),e=Y()},m(o,f){n&&n.m(o,f),g(o,e,f)},p(o,f){t===(t=l(o))&&n?n.p(o,f):(n&&n.d(1),n=t&&t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n&&n.d(o),o&&p(e)}}}function cr(i){let e,l,t;return{c(){e=E("label"),l=F(i[1]),this.h()},l(n){e=T(n,"LABEL",{slot:!0,for:!0,class:!0});var o=q(e);l=H(o,i[1]),o.forEach(p),this.h()},h(){d(e,"slot","label"),d(e,"for",t=i[13]),d(e,"class","svelte-1py7ytf")},m(n,o){g(n,e,o),O(e,l)},p(n,o){o&2&&ce(l,n[1]),o&8192&&t!==(t=n[13])&&d(e,"for",t)},d(n){n&&p(e)}}}function dr(i){let e,l,t=i[6]?"required":"optional",n;return{c(){e=E("div"),l=F("This field is "),n=F(t),this.h()},l(o){e=T(o,"DIV",{class:!0});var f=q(e);l=H(f,"This field is "),n=H(f,t),f.forEach(p),this.h()},h(){d(e,"class","required svelte-1py7ytf")},m(o,f){g(o,e,f),O(e,l),O(e,n)},p(o,f){f&64&&t!==(t=o[6]?"required":"optional")&&ce(n,t)},d(o){o&&p(e)}}}function mr(i){let e,l;return{c(){e=E("div"),l=F(i[9]),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=q(e);l=H(n,i[9]),n.forEach(p),this.h()},h(){d(e,"class","error svelte-1py7ytf")},m(t,n){g(t,e,n),O(e,l)},p(t,n){n&512&&ce(l,t[9])},d(t){t&&p(e)}}}function _r(i){let e,l;function t(f,r){return f[9]?mr:dr}let n=t(i),o=n(i);return{c(){e=E("div"),o.c(),this.h()},l(f){e=T(f,"DIV",{id:!0,slot:!0,class:!0});var r=q(e);o.l(r),r.forEach(p),this.h()},h(){d(e,"id",l=i[14]),d(e,"slot","hint"),d(e,"class","svelte-1py7ytf")},m(f,r){g(f,e,r),o.m(e,null)},p(f,r){n===(n=t(f))&&o?o.p(f,r):(o.d(1),o=n(f),o&&(o.c(),o.m(e,null))),r&16384&&l!==(l=f[14])&&d(e,"id",l)},d(f){f&&p(e),o.d()}}}function hr(i){let e,l;return e=new un({props:{$$slots:{hint:[_r,({inputId:t,hintId:n})=>({13:t,14:n}),({inputId:t,hintId:n})=>(t?8192:0)|(n?16384:0)],label:[cr,({inputId:t,hintId:n})=>({13:t,14:n}),({inputId:t,hintId:n})=>(t?8192:0)|(n?16384:0)],default:[pr,({inputId:t,hintId:n})=>({13:t,14:n}),({inputId:t,hintId:n})=>(t?8192:0)|(n?16384:0)]},$$scope:{ctx:i}}}),e.$on("validate",i[11]),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,[n]){const o={};n&58367&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function gr(i,e,l){let{form:t=void 0}=e,{label:n}=e,{max:o=void 0}=e,{min:f=void 0}=e,{name:r}=e,{placeholder:s=""}=e,{required:u=!1}=e,{type:a="text"}=e,{value:c=""}=e;const h=ft(),_=ot("field-errors");let v="";Kt(_.subscribe(C=>{var P;l(9,v=((P=C[r])==null?void 0:P[0])||"")}));function $(C){l(9,v=C.detail.validationMessage)}return i.$$set=C=>{"form"in C&&l(0,t=C.form),"label"in C&&l(1,n=C.label),"max"in C&&l(2,o=C.max),"min"in C&&l(3,f=C.min),"name"in C&&l(4,r=C.name),"placeholder"in C&&l(5,s=C.placeholder),"required"in C&&l(6,u=C.required),"type"in C&&l(7,a=C.type),"value"in C&&l(8,c=C.value)},[t,n,o,f,r,s,u,a,c,v,h,$]}class fe extends K{constructor(e){super(),x(this,e,gr,hr,J,{form:0,label:1,max:2,min:3,name:4,placeholder:5,required:6,type:7,value:8})}}function vr(i){let e,l,t,n,o,f;return{c(){e=E("label"),l=E("input"),t=V(),n=F(i[2]),this.h()},l(r){e=T(r,"LABEL",{});var s=q(e);l=T(s,"INPUT",{"aria-describedby":!0,form:!0,name:!0,type:!0}),t=U(s),n=H(s,i[2]),s.forEach(p),this.h()},h(){d(l,"aria-describedby",i[7]),l.checked=i[1],d(l,"form",i[0]),d(l,"name",i[5]),l.required=i[3],l.value=i[4],d(l,"type","radio")},m(r,s){g(r,e,s),O(e,l),O(e,t),O(e,n),o||(f=[ue(i[6].call(null,l)),ue(Je.call(null,l))],o=!0)},p(r,[s]){s&2&&(l.checked=r[1]),s&1&&d(l,"form",r[0]),s&32&&d(l,"name",r[5]),s&8&&(l.required=r[3]),s&16&&(l.value=r[4]),s&4&&ce(n,r[2])},i:ee,o:ee,d(r){r&&p(e),o=!1,ze(f)}}}function $r(i,e,l){let t,{form:n=void 0}=e,{checked:o=!1}=e,{label:f}=e,{required:r=!1}=e,{value:s}=e;const u=ft(),a=ot("group-hint-id")||"",c=ot("group-name");return Ze(i,c,h=>l(5,t=h)),i.$$set=h=>{"form"in h&&l(0,n=h.form),"checked"in h&&l(1,o=h.checked),"label"in h&&l(2,f=h.label),"required"in h&&l(3,r=h.required),"value"in h&&l(4,s=h.value)},[n,o,f,r,s,t,u,a,c]}class Qe extends K{constructor(e){super(),x(this,e,$r,vr,J,{form:0,checked:1,label:2,required:3,value:4})}}function en(i,e,l){const t=i.slice();return t[37]=e[l],t}function br(i){let e,l,t;return e=new We({props:{d:En}}),{c(){S(e.$$.fragment),l=F(`
							Project`)},l(n){M(e.$$.fragment,n),l=H(n,`
							Project`)},m(n,o){y(e,n,o),g(n,l,o),t=!0},p:ee,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){z(e,n),n&&p(l)}}}function kr(i){let e,l,t;return e=new We({props:{d:Tn}}),{c(){S(e.$$.fragment),l=F(`
							Experiment`)},l(n){M(e.$$.fragment,n),l=H(n,`
							Experiment`)},m(n,o){y(e,n,o),g(n,l,o),t=!0},p:ee,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){z(e,n),n&&p(l)}}}function wr(i){let e,l,t;return e=new We({props:{d:Nn}}),{c(){S(e.$$.fragment),l=F(`
							Slide`)},l(n){M(e.$$.fragment,n),l=H(n,`
							Slide`)},m(n,o){y(e,n,o),g(n,l,o),t=!0},p:ee,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){z(e,n),n&&p(l)}}}function Ir(i){let e,l,t,n,o,f,r,s;return e=new Cn({}),t=new Qt({props:{$$slots:{default:[br]},$$scope:{ctx:i}}}),t.$on("click",i[42]),o=new Qt({props:{disabledHint:i[36],$$slots:{default:[kr]},$$scope:{ctx:i}}}),o.$on("click",i[43]),r=new Qt({props:{disabledHint:i[35],$$slots:{default:[wr]},$$scope:{ctx:i}}}),r.$on("click",i[44]),{c(){S(e.$$.fragment),l=V(),S(t.$$.fragment),n=V(),S(o.$$.fragment),f=V(),S(r.$$.fragment)},l(u){M(e.$$.fragment,u),l=U(u),M(t.$$.fragment,u),n=U(u),M(o.$$.fragment,u),f=U(u),M(r.$$.fragment,u)},m(u,a){y(e,u,a),g(u,l,a),y(t,u,a),g(u,n,a),y(o,u,a),g(u,f,a),y(r,u,a),s=!0},p(u,a){const c={};a[1]&1073741824&&(c.$$scope={dirty:a,ctx:u}),t.$set(c);const h={};a[1]&32&&(h.disabledHint=u[36]),a[1]&1073741824&&(h.$$scope={dirty:a,ctx:u}),o.$set(h);const _={};a[1]&16&&(_.disabledHint=u[35]),a[1]&1073741824&&(_.$$scope={dirty:a,ctx:u}),r.$set(_)},i(u){s||(I(e.$$.fragment,u),I(t.$$.fragment,u),I(o.$$.fragment,u),I(r.$$.fragment,u),s=!0)},o(u){N(e.$$.fragment,u),N(t.$$.fragment,u),N(o.$$.fragment,u),N(r.$$.fragment,u),s=!1},d(u){z(e,u),u&&p(l),z(t,u),u&&p(n),z(o,u),u&&p(f),z(r,u)}}}function Er(i){let e,l;return e=new jn({props:{$$slots:{default:[Ir]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n[1]&1073741872&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Tr(i){let e,l,t,n;return l=new We({props:{d:In}}),{c(){e=E("button"),S(l.$$.fragment),t=F("Create New"),this.h()},l(o){e=T(o,"BUTTON",{slot:!0});var f=q(e);M(l.$$.fragment,f),t=H(f,"Create New"),f.forEach(p),this.h()},h(){d(e,"slot","trigger")},m(o,f){g(o,e,f),y(l,e,null),O(e,t),n=!0},p:ee,i(o){n||(I(l.$$.fragment,o),n=!0)},o(o){N(l.$$.fragment,o),n=!1},d(o){o&&p(e),z(l)}}}function Nr(i){let e,l;return e=new Dn({props:{$$slots:{trigger:[Tr],default:[Er]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n[1]&1073741872&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Dr(i){let e,l;return e=new fn({props:{$$slots:{default:[Cr]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n[1]&1073741824&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function jr(i){let e=[],l=new Map,t,n,o=i[0].projects;const f=s=>s[37].id;for(let s=0;s<o.length;s+=1){let u=en(i,o,s),a=f(u);l.set(a,e[s]=ln(a,u))}let r=null;return o.length||(r=tn(i)),{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Y(),r&&r.c()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);t=Y(),r&&r.l(s)},m(s,u){for(let a=0;a<e.length;a+=1)e[a].m(s,u);g(s,t,u),r&&r.m(s,u),n=!0},p(s,u){u[0]&1&&(o=s[0].projects,ae(),e=He(e,u,f,1,s,o,l,t.parentNode,Tt,ln,t,en),pe(),!o.length&&r?r.p(s,u):o.length?r&&(ae(),N(r,1,1,()=>{r=null}),pe()):(r=tn(s),r.c(),I(r,1),r.m(t.parentNode,t)))},i(s){if(!n){for(let u=0;u<o.length;u+=1)I(e[u]);n=!0}},o(s){for(let u=0;u<e.length;u+=1)N(e[u]);n=!1},d(s){for(let u=0;u<e.length;u+=1)e[u].d(s);s&&p(t),r&&r.d(s)}}}function Cr(i){let e;return{c(){e=F("Your projects will appear here when you sign in")},l(l){e=H(l,"Your projects will appear here when you sign in")},m(l,t){g(l,e,t)},d(l){l&&p(e)}}}function tn(i){let e,l;return e=new fn({props:{$$slots:{default:[Or]},$$scope:{ctx:i}}}),{c(){S(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};n[1]&1073741824&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Or(i){let e;return{c(){e=F(`Your projects will appear here when you add them
						`)},l(l){e=H(l,`Your projects will appear here when you add them
						`)},m(l,t){g(l,e,t)},d(l){l&&p(e)}}}function ln(i,e){let l,t,n;return t=new Do({props:{project:e[37]}}),{key:i,first:null,c(){l=Y(),S(t.$$.fragment),this.h()},l(o){l=Y(),M(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,f){g(o,l,f),y(t,o,f),n=!0},p(o,f){e=o;const r={};f[0]&1&&(r.project=e[37]),t.$set(r)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){N(t.$$.fragment,o),n=!1},d(o){o&&p(l),z(t,o)}}}function Pr(i){let e,l,t,n;const o=[jr,Dr],f=[];function r(s,u){return s[0].user?0:1}return e=r(i),l=f[e]=o[e](i),{c(){l.c(),t=Y()},l(s){l.l(s),t=Y()},m(s,u){f[e].m(s,u),g(s,t,u),n=!0},p(s,u){let a=e;e=r(s),e===a?f[e].p(s,u):(ae(),N(f[a],1,1,()=>{f[a]=null}),pe(),l=f[e],l?l.p(s,u):(l=f[e]=o[e](s),l.c()),I(l,1),l.m(t.parentNode,t))},i(s){n||(I(l),n=!0)},o(s){N(l),n=!1},d(s){f[e].d(s),s&&p(t)}}}function Vr(i){let e,l,t,n,o,f,r,s,u,a,c,h,_,v,$,C,P,b,k,D,w,j,B,Z,oe,ie,le,L,X,te,me,ve,re,Be,$e,_e,Re,be,he,Ae,Pe,ke,Ke,Ve,we,xe,Ue,Ie,et,qe,Ee,tt,Se,Te,lt,Me,Ne,nt,Le;l=new On({}),f=new It({props:{$$slots:{default:[Nr]},$$scope:{ctx:i}}}),s=new It({props:{title:"My projects",$$slots:{default:[Pr]},$$scope:{ctx:i}}});const it=i[41].default,ge=De(it,i,i[61],null);function jt(m){i[45](m)}let st={op:i[2],project:i[37]};i[1]!==void 0&&(st.open=i[1]),h=new xi({props:st}),G.push(()=>W(h,"open",jt));function Ct(m){i[46](m)}let ut={op:i[5],experiment:i[4]};i[3]!==void 0&&(ut.open=i[3]),$=new Qi({props:ut}),G.push(()=>W($,"open",Ct));function Ot(m){i[47](m)}let at={op:i[8],slide:i[7]};i[6]!==void 0&&(at.open=i[6]),b=new oo({props:at}),G.push(()=>W(b,"open",Ot));function Pt(m){i[48](m)}let pt={coverslip:i[14]};i[13]!==void 0&&(pt.open=i[13]),w=new xn({props:pt}),G.push(()=>W(w,"open",Pt));function Vt(m){i[49](m)}let ct={coverslip:i[14]};i[18]!==void 0&&(ct.open=i[18]),Z=new ni({props:ct}),G.push(()=>W(Z,"open",Vt));function Ut(m){i[50](m)}let dt={coverslipids:i[16],slideid:i[17]};i[15]!==void 0&&(dt.open=i[15]),le=new fi({props:dt}),G.push(()=>W(le,"open",Ut));function qt(m){i[51](m)}let mt={staining:i[20]};i[19]!==void 0&&(mt.open=i[19]),te=new mi({props:mt}),G.push(()=>W(te,"open",qt));function St(m){i[52](m)}let _t={slideId:i[10]};i[9]!==void 0&&(_t.open=i[9]),re=new zn({props:_t}),G.push(()=>W(re,"open",St));function Mt(m){i[53](m)}let A={coverslipId:i[12]};i[11]!==void 0&&(A.open=i[11]),_e=new Hn({props:A}),G.push(()=>W(_e,"open",Mt));function ye(m){i[54](m)}let tl={experiment:i[22]};i[21]!==void 0&&(tl.open=i[21]),he=new Ei({props:tl}),G.push(()=>W(he,"open",ye));function an(m){i[55](m)}let ll={project:i[24]};i[23]!==void 0&&(ll.open=i[23]),ke=new qi({props:ll}),G.push(()=>W(ke,"open",an));function pn(m){i[56](m)}let nl={slide:i[26]};i[25]!==void 0&&(nl.open=i[25]),we=new Bi({props:nl}),G.push(()=>W(we,"open",pn));function cn(m){i[57](m)}let il={coverslip:i[28]};i[27]!==void 0&&(il.open=i[27]),Ie=new $i({props:il}),G.push(()=>W(Ie,"open",cn));function dn(m){i[58](m)}let ol={staining:i[30]};i[29]!==void 0&&(ol.open=i[29]),Ee=new Li({props:ol}),G.push(()=>W(Ee,"open",dn));function mn(m){i[59](m)}let rl={file:i[32]};i[31]!==void 0&&(rl.open=i[31]),Te=new Ci({props:rl}),G.push(()=>W(Te,"open",mn));function _n(m){i[60](m)}let fl={coverslipId:i[34]};return i[33]!==void 0&&(fl.open=i[33]),Ne=new uo({props:fl}),G.push(()=>W(Ne,"open",_n)),{c(){e=E("div"),S(l.$$.fragment),t=V(),n=E("div"),o=E("div"),S(f.$$.fragment),r=V(),S(s.$$.fragment),u=V(),a=E("main"),ge&&ge.c(),c=V(),S(h.$$.fragment),v=V(),S($.$$.fragment),P=V(),S(b.$$.fragment),D=V(),S(w.$$.fragment),B=V(),S(Z.$$.fragment),ie=V(),S(le.$$.fragment),X=V(),S(te.$$.fragment),ve=V(),S(re.$$.fragment),$e=V(),S(_e.$$.fragment),be=V(),S(he.$$.fragment),Pe=V(),S(ke.$$.fragment),Ve=V(),S(we.$$.fragment),Ue=V(),S(Ie.$$.fragment),qe=V(),S(Ee.$$.fragment),Se=V(),S(Te.$$.fragment),Me=V(),S(Ne.$$.fragment),this.h()},l(m){e=T(m,"DIV",{class:!0});var R=q(e);M(l.$$.fragment,R),t=U(R),n=T(R,"DIV",{class:!0});var Ye=q(n);o=T(Ye,"DIV",{class:!0});var Xe=q(o);M(f.$$.fragment,Xe),r=U(Xe),M(s.$$.fragment,Xe),Xe.forEach(p),u=U(Ye),a=T(Ye,"MAIN",{class:!0});var Ge=q(a);ge&&ge.l(Ge),Ge.forEach(p),Ye.forEach(p),R.forEach(p),c=U(m),M(h.$$.fragment,m),v=U(m),M($.$$.fragment,m),P=U(m),M(b.$$.fragment,m),D=U(m),M(w.$$.fragment,m),B=U(m),M(Z.$$.fragment,m),ie=U(m),M(le.$$.fragment,m),X=U(m),M(te.$$.fragment,m),ve=U(m),M(re.$$.fragment,m),$e=U(m),M(_e.$$.fragment,m),be=U(m),M(he.$$.fragment,m),Pe=U(m),M(ke.$$.fragment,m),Ve=U(m),M(we.$$.fragment,m),Ue=U(m),M(Ie.$$.fragment,m),qe=U(m),M(Ee.$$.fragment,m),Se=U(m),M(Te.$$.fragment,m),Me=U(m),M(Ne.$$.fragment,m),this.h()},h(){d(o,"class","br-sidebar svelte-164iaxe"),d(a,"class","svelte-164iaxe"),d(n,"class","content svelte-164iaxe"),d(e,"class","layout svelte-164iaxe")},m(m,R){g(m,e,R),y(l,e,null),O(e,t),O(e,n),O(n,o),y(f,o,null),O(o,r),y(s,o,null),O(n,u),O(n,a),ge&&ge.m(a,null),g(m,c,R),y(h,m,R),g(m,v,R),y($,m,R),g(m,P,R),y(b,m,R),g(m,D,R),y(w,m,R),g(m,B,R),y(Z,m,R),g(m,ie,R),y(le,m,R),g(m,X,R),y(te,m,R),g(m,ve,R),y(re,m,R),g(m,$e,R),y(_e,m,R),g(m,be,R),y(he,m,R),g(m,Pe,R),y(ke,m,R),g(m,Ve,R),y(we,m,R),g(m,Ue,R),y(Ie,m,R),g(m,qe,R),y(Ee,m,R),g(m,Se,R),y(Te,m,R),g(m,Me,R),y(Ne,m,R),Le=!0},p(m,R){const Ye={};R[1]&1073741872&&(Ye.$$scope={dirty:R,ctx:m}),f.$set(Ye);const Xe={};R[0]&1|R[1]&1073741824&&(Xe.$$scope={dirty:R,ctx:m}),s.$set(Xe),ge&&ge.p&&(!Le||R[1]&1073741824)&&je(ge,it,m,m[61],Le?Oe(it,m[61],R,null):Ce(m[61]),null);const Ge={};R[0]&4&&(Ge.op=m[2]),R[1]&64&&(Ge.project=m[37]),!_&&R[0]&2&&(_=!0,Ge.open=m[1],Q(()=>_=!1)),h.$set(Ge);const ht={};R[0]&32&&(ht.op=m[5]),R[0]&16&&(ht.experiment=m[4]),!C&&R[0]&8&&(C=!0,ht.open=m[3],Q(()=>C=!1)),$.$set(ht);const gt={};R[0]&256&&(gt.op=m[8]),R[0]&128&&(gt.slide=m[7]),!k&&R[0]&64&&(k=!0,gt.open=m[6],Q(()=>k=!1)),b.$set(gt);const yt={};R[0]&16384&&(yt.coverslip=m[14]),!j&&R[0]&8192&&(j=!0,yt.open=m[13],Q(()=>j=!1)),w.$set(yt);const zt={};R[0]&16384&&(zt.coverslip=m[14]),!oe&&R[0]&262144&&(oe=!0,zt.open=m[18],Q(()=>oe=!1)),Z.$set(zt);const vt={};R[0]&65536&&(vt.coverslipids=m[16]),R[0]&131072&&(vt.slideid=m[17]),!L&&R[0]&32768&&(L=!0,vt.open=m[15],Q(()=>L=!1)),le.$set(vt);const Bt={};R[0]&1048576&&(Bt.staining=m[20]),!me&&R[0]&524288&&(me=!0,Bt.open=m[19],Q(()=>me=!1)),te.$set(Bt);const Rt={};R[0]&1024&&(Rt.slideId=m[10]),!Be&&R[0]&512&&(Be=!0,Rt.open=m[9],Q(()=>Be=!1)),re.$set(Rt);const At={};R[0]&4096&&(At.coverslipId=m[12]),!Re&&R[0]&2048&&(Re=!0,At.open=m[11],Q(()=>Re=!1)),_e.$set(At);const Ft={};R[0]&4194304&&(Ft.experiment=m[22]),!Ae&&R[0]&2097152&&(Ae=!0,Ft.open=m[21],Q(()=>Ae=!1)),he.$set(Ft);const Ht={};R[0]&16777216&&(Ht.project=m[24]),!Ke&&R[0]&8388608&&(Ke=!0,Ht.open=m[23],Q(()=>Ke=!1)),ke.$set(Ht);const Lt={};R[0]&67108864&&(Lt.slide=m[26]),!xe&&R[0]&33554432&&(xe=!0,Lt.open=m[25],Q(()=>xe=!1)),we.$set(Lt);const Yt={};R[0]&268435456&&(Yt.coverslip=m[28]),!et&&R[0]&134217728&&(et=!0,Yt.open=m[27],Q(()=>et=!1)),Ie.$set(Yt);const Xt={};R[0]&1073741824&&(Xt.staining=m[30]),!tt&&R[0]&536870912&&(tt=!0,Xt.open=m[29],Q(()=>tt=!1)),Ee.$set(Xt);const Gt={};R[1]&2&&(Gt.file=m[32]),!lt&&R[1]&1&&(lt=!0,Gt.open=m[31],Q(()=>lt=!1)),Te.$set(Gt);const Wt={};R[1]&8&&(Wt.coverslipId=m[34]),!nt&&R[1]&4&&(nt=!0,Wt.open=m[33],Q(()=>nt=!1)),Ne.$set(Wt)},i(m){Le||(I(l.$$.fragment,m),I(f.$$.fragment,m),I(s.$$.fragment,m),I(ge,m),I(h.$$.fragment,m),I($.$$.fragment,m),I(b.$$.fragment,m),I(w.$$.fragment,m),I(Z.$$.fragment,m),I(le.$$.fragment,m),I(te.$$.fragment,m),I(re.$$.fragment,m),I(_e.$$.fragment,m),I(he.$$.fragment,m),I(ke.$$.fragment,m),I(we.$$.fragment,m),I(Ie.$$.fragment,m),I(Ee.$$.fragment,m),I(Te.$$.fragment,m),I(Ne.$$.fragment,m),Le=!0)},o(m){N(l.$$.fragment,m),N(f.$$.fragment,m),N(s.$$.fragment,m),N(ge,m),N(h.$$.fragment,m),N($.$$.fragment,m),N(b.$$.fragment,m),N(w.$$.fragment,m),N(Z.$$.fragment,m),N(le.$$.fragment,m),N(te.$$.fragment,m),N(re.$$.fragment,m),N(_e.$$.fragment,m),N(he.$$.fragment,m),N(ke.$$.fragment,m),N(we.$$.fragment,m),N(Ie.$$.fragment,m),N(Ee.$$.fragment,m),N(Te.$$.fragment,m),N(Ne.$$.fragment,m),Le=!1},d(m){m&&p(e),z(l),z(f),z(s),ge&&ge.d(m),m&&p(c),z(h,m),m&&p(v),z($,m),m&&p(P),z(b,m),m&&p(D),z(w,m),m&&p(B),z(Z,m),m&&p(ie),z(le,m),m&&p(X),z(te,m),m&&p(ve),z(re,m),m&&p($e),z(_e,m),m&&p(be),z(he,m),m&&p(Pe),z(ke,m),m&&p(Ve),z(we,m),m&&p(Ue),z(Ie,m),m&&p(qe),z(Ee,m),m&&p(Se),z(Te,m),m&&p(Me),z(Ne,m)}}}function Ur(i,e,l){let t,n,{$$slots:o={},$$scope:f}=e,{data:r}=e,s,u,a;function c(A,ye){l(2,a=A),l(37,u=ye),l(1,s=!0)}let h,_,v;function $(A,ye){l(5,v=A),l(4,_=ye),l(3,h=!0)}let C,P,b;function k(A,ye){l(8,b=A),l(7,P=ye),l(6,C=!0)}let D,w;function j(A){l(9,D=!0),l(10,w=A)}let B,Z;function oe(A){l(11,B=!0),l(12,Z=A)}let ie,le;function L(A){l(13,ie=!0),l(14,le=A)}let X,te,me;function ve(A,ye){l(15,X=!0),l(16,te=A),l(17,me=ye)}let re;function Be(A){l(18,re=!0),l(14,le=A)}let $e,_e;function Re(A){l(19,$e=!0),l(20,_e=A)}let be,he;function Ae(A){l(22,he=A),l(21,be=!0)}let Pe,ke;function Ke(A){l(24,ke=A),l(23,Pe=!0)}let Ve,we;function xe(A){l(26,we=A),l(25,Ve=!0)}let Ue,Ie;function et(A){l(28,Ie=A),l(27,Ue=!0)}let qe,Ee;function tt(A){l(30,Ee=A),l(29,qe=!0)}let Se,Te;function lt(A){l(32,Te=A),l(31,Se=!0)}let Me,Ne;function nt(A){l(33,Me=!0),l(34,Ne=A)}bt("prompt",{createCoverslip:j,createStaining:oe,deleteExperiment:Ae,deleteFile:lt,deleteProject:Ke,deleteSlide:xe,deleteCoverslip:et,deleteStaining:tt,editCoverslip:L,editCoverslips:ve,editCoverslip2:Be,editStaining:Re,experiment:$,project:c,slide:k,uploadCoverslipFiles:nt});const it=()=>c("create"),ge=()=>$("create"),jt=()=>k("create");function st(A){s=A,l(1,s)}function Ct(A){h=A,l(3,h)}function ut(A){C=A,l(6,C)}function Ot(A){ie=A,l(13,ie)}function at(A){re=A,l(18,re)}function Pt(A){X=A,l(15,X)}function pt(A){$e=A,l(19,$e)}function Vt(A){D=A,l(9,D)}function ct(A){B=A,l(11,B)}function Ut(A){be=A,l(21,be)}function dt(A){Pe=A,l(23,Pe)}function qt(A){Ve=A,l(25,Ve)}function mt(A){Ue=A,l(27,Ue)}function St(A){qe=A,l(29,qe)}function _t(A){Se=A,l(31,Se)}function Mt(A){Me=A,l(33,Me)}return i.$$set=A=>{"data"in A&&l(0,r=A.data),"$$scope"in A&&l(61,f=A.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&1&&l(36,t=r.projectCount?"":"Create at least one project first."),i.$$.dirty[0]&1&&l(35,n=r.experimentCount?"":"Create at least one experiment first.")},[r,s,a,h,_,v,C,P,b,D,w,B,Z,ie,le,X,te,me,re,$e,_e,be,he,Pe,ke,Ve,we,Ue,Ie,qe,Ee,Se,Te,Me,Ne,n,t,u,c,$,k,o,it,ge,jt,st,Ct,ut,Ot,at,Pt,pt,Vt,ct,Ut,dt,qt,mt,St,_t,Mt,f]}class Xr extends K{constructor(e){super(),x(this,e,Ur,Vr,J,{data:0},null,[-1,-1,-1])}}export{Xr as default};
