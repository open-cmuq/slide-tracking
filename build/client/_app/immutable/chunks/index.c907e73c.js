var qr=(c,p,i)=>{if(!p.has(c))throw TypeError("Cannot "+i)},Vr=(c,p,i)=>(qr(c,p,"read from private field"),i?i.call(c):p.get(c)),Aa=(c,p,i)=>{if(p.has(c))throw TypeError("Cannot add the same private member more than once");p instanceof WeakSet?p.add(c):p.set(c,i)},Oa=(c,p,i,y)=>(qr(c,p,"write to private field"),y?y.call(c,i):p.set(c,i),i);const Br=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function Da(c){if(Jr(c))return{width:c.naturalWidth,height:c.naturalHeight};if(Xr(c))return{width:c.width.baseVal.value,height:c.height.baseVal.value};if(Qr(c))return{width:c.videoWidth,height:c.videoHeight};if(Kr(c))return{width:c.width,height:c.height};if(re(c))return{width:c.displayWidth,height:c.displayHeight};if(Zr(c))return{width:c.width,height:c.height};if(te(c))return{width:c.width,height:c.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Jr(c){try{return c instanceof HTMLImageElement}catch{return!1}}function Xr(c){try{return c instanceof SVGImageElement}catch{return!1}}function Qr(c){try{return c instanceof HTMLVideoElement}catch{return!1}}function Zr(c){try{return c instanceof HTMLCanvasElement}catch{return!1}}function Kr(c){try{return c instanceof ImageBitmap}catch{return!1}}function te(c){try{return c instanceof OffscreenCanvas}catch{return!1}}function re(c){try{return c instanceof VideoFrame}catch{return!1}}function ee(c){try{return c instanceof Blob}catch{return!1}}function Fa(c){try{return c instanceof ImageData}catch{return!1}}function Ma(c,p){try{const i=new OffscreenCanvas(c,p);if(i.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return i;throw void 0}catch{const i=document.createElement("canvas");return i.width=c,i.height=p,i}}async function ne(c){if(Jr(c)&&!await Wa(c))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Xr(c)&&!await Ra(c))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(re(c)&&ka(c))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Qr(c)&&(c.readyState===0||c.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Kr(c)&&Ua(c))throw new DOMException("The image source is detached.","InvalidStateError");const{width:p,height:i}=Da(c);if(p===0||i===0)return null;const y=Ma(p,i).getContext("2d");y.drawImage(c,0,0);try{return y.getImageData(0,0,p,i)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ja(c){let p;try{if(createImageBitmap)p=await createImageBitmap(c);else if(Image){p=new Image;let i="";try{i=URL.createObjectURL(c),p.src=i,await p.decode()}finally{URL.revokeObjectURL(i)}}else return c}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await ne(p)}function Ha(c){const{width:p,height:i}=c;if(p===0||i===0)return null;const y=c.getContext("2d");try{return y.getImageData(0,0,p,i)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Ia(c){if(ee(c))return await ja(c);if(Fa(c)){if(za(c))throw new DOMException("The image data has been detached.","InvalidStateError");return c}return Zr(c)||te(c)?Ha(c):await ne(c)}async function Wa(c){try{return await c.decode(),!0}catch{return!1}}async function Ra(c){var p;try{return await((p=c.decode)==null?void 0:p.call(c)),!0}catch{return!1}}function ka(c){return c.format===null}function za(c){return c.data.buffer.byteLength===0}function Ua(c){return c.width===0&&c.height===0}function Lr(c,p){return c instanceof DOMException?new DOMException(`${p}: ${c.message}`,c.name):c instanceof Error?new c.constructor(`${p}: ${c.message}`):new Error(`${p}: ${c}`)}const Yr=c=>{let p;const i=new Set,y=(D,Y)=>{const j=typeof D=="function"?D(p):D;if(!Object.is(j,p)){const F=p;p=Y??typeof j!="object"?j:Object.assign({},p,j),i.forEach(V=>V(p,F))}},w=()=>p,O={setState:y,getState:w,subscribe:D=>(i.add(D),()=>i.delete(D)),destroy:()=>{i.clear()}};return p=c(y,w,O),O},Va=c=>c?Yr(c):Yr,Ba={locateFile:(c,p)=>{var i;const y=(i=c.match(/_(.+?)\.wasm$/))==null?void 0:i[1];return y?`https://fastly.jsdelivr.net/npm/@sec-ant/zxing-wasm@2.1.5/dist/${y}/${c}`:p+c}},st=Va()(()=>({zxingModuleWeakMap:new WeakMap,zxingModuleOverrides:Ba}));function Qa(c){st.setState({zxingModuleOverrides:c})}function Xt(c,p=st.getState().zxingModuleOverrides){const{zxingModuleWeakMap:i}=st.getState(),y=i.get(c);if(y&&Object.is(p,st.getState().zxingModuleOverrides))return y;{st.setState({zxingModuleOverrides:p});const w=c(p);return i.set(c,w),w}}const Nr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"],z={tryHarder:!0,formats:[],maxSymbols:255};async function La(c,{tryHarder:p=z.tryHarder,formats:i=z.formats,maxSymbols:y=z.maxSymbols}=z,w){const O=await Xt(w,st.getState().zxingModuleOverrides),{size:D}=c,Y=new Uint8Array(await c.arrayBuffer()),j=O._malloc(D);O.HEAP8.set(Y,j);const F=O.readBarcodesFromImage(j,D,p,ae(i),y);O._free(j);const V=[];for(let B=0;B<F.size();++B){const U=F.get(B);V.push({...U,format:oe(U.format)})}return V}async function Ya(c,{tryHarder:p=z.tryHarder,formats:i=z.formats,maxSymbols:y=z.maxSymbols}=z,w){const O=await Xt(w,st.getState().zxingModuleOverrides),{data:D,width:Y,height:j,data:{byteLength:F}}=c,V=O._malloc(F);O.HEAP8.set(D,V);const B=O.readBarcodesFromPixmap(V,Y,j,p,ae(i),y);O._free(V);const U=[];for(let N=0;N<B.size();++N){const X=B.get(N);U.push({...X,format:oe(X.format)})}return U}function ae(c){return c.join("|")}function oe(c){const p=Gr(c);let i=0,y=Nr.length-1;for(;i<=y;){const w=Math.floor((i+y)/2),O=Nr[w],D=Gr(O);if(D===p)return O;D<p?i=w+1:y=w-1}return"None"}function Gr(c){return c.toLowerCase().replace(/_-\[\]/g,"")}var Qt=(()=>{var c=import.meta.url;return function(p={}){var i=p,y,w;i.ready=new Promise((t,r)=>{y=t,w=r});var O=Object.assign({},i),D="./this.program",Y=typeof window=="object",j=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var F="";function V(t){return i.locateFile?i.locateFile(t,F):F+t}var B;(Y||j)&&(j?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),c&&(F=c),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",j&&(B=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)})),i.print||console.log.bind(console);var U=i.printErr||console.error.bind(console);Object.assign(i,O),O=null,i.arguments&&i.arguments,i.thisProgram&&(D=i.thisProgram),i.quit&&i.quit;var N;i.wasmBinary&&(N=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&bt("no native wasm support detected");var X,wt=!1,G,L,lt,$t,R,x,Zt,Kt;function tr(){var t=X.buffer;i.HEAP8=G=new Int8Array(t),i.HEAP16=lt=new Int16Array(t),i.HEAPU8=L=new Uint8Array(t),i.HEAPU16=$t=new Uint16Array(t),i.HEAP32=R=new Int32Array(t),i.HEAPU32=x=new Uint32Array(t),i.HEAPF32=Zt=new Float32Array(t),i.HEAPF64=Kt=new Float64Array(t)}var rr=[],er=[],nr=[];function ie(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce(i.preRun.shift());It(rr)}function se(){It(er)}function ue(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)de(i.postRun.shift());It(nr)}function ce(t){rr.unshift(t)}function le(t){er.unshift(t)}function de(t){nr.unshift(t)}var et=0,dt=null;function fe(t){et++,i.monitorRunDependencies&&i.monitorRunDependencies(et)}function he(t){if(et--,i.monitorRunDependencies&&i.monitorRunDependencies(et),et==0&&dt){var r=dt;dt=null,r()}}function bt(t){i.onAbort&&i.onAbort(t),t="Aborted("+t+")",U(t),wt=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw w(r),r}var pe="data:application/octet-stream;base64,";function ar(t){return t.startsWith(pe)}var nt;i.locateFile?(nt="zxing_reader.wasm",ar(nt)||(nt=V(nt))):nt=new URL("/reader/zxing_reader.wasm",self.location).href;function or(t){if(t==nt&&N)return new Uint8Array(N);if(B)return B(t);throw"both async and sync fetching of the wasm failed"}function me(t){return!N&&(Y||j)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+t+"'";return r.arrayBuffer()}).catch(()=>or(t)):Promise.resolve().then(()=>or(t))}function ir(t,r,e){return me(t).then(n=>WebAssembly.instantiate(n,r)).then(n=>n).then(e,n=>{U(`failed to asynchronously prepare wasm: ${n}`),bt(n)})}function ve(t,r,e,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!ar(r)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(a=>{var o=WebAssembly.instantiateStreaming(a,e);return o.then(n,function(s){return U(`wasm streaming compile failed: ${s}`),U("falling back to ArrayBuffer instantiation"),ir(r,e,n)})}):ir(r,e,n)}function ye(){var t={a:Xn};function r(n,a){return A=n.exports,X=A.qa,tr(),$r=A.ua,le(A.ra),he(),A}fe();function e(n){r(n.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(t,r)}catch(n){U(`Module.instantiateWasm callback failed with error: ${n}`),w(n)}return ve(N,nt,t,e).catch(w),{}}var It=t=>{for(;t.length>0;)t.shift()(i)},_t=[],Ct=0,ge=t=>{var r=new Tt(t);return r.get_caught()||(r.set_caught(!0),Ct--),r.set_rethrown(!1),_t.push(r),Ir(r.excPtr),r.get_exception_ptr()},Q=0,we=()=>{$(0,0);var t=_t.pop();Hr(t.excPtr),Q=0};function Tt(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(r){x[this.ptr+4>>2]=r},this.get_type=function(){return x[this.ptr+4>>2]},this.set_destructor=function(r){x[this.ptr+8>>2]=r},this.get_destructor=function(){return x[this.ptr+8>>2]},this.set_caught=function(r){r=r?1:0,G[this.ptr+12>>0]=r},this.get_caught=function(){return G[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,G[this.ptr+13>>0]=r},this.get_rethrown=function(){return G[this.ptr+13>>0]!=0},this.init=function(r,e){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(e)},this.set_adjusted_ptr=function(r){x[this.ptr+16>>2]=r},this.get_adjusted_ptr=function(){return x[this.ptr+16>>2]},this.get_exception_ptr=function(){var r=Rr(this.get_type());if(r)return x[this.excPtr>>2];var e=this.get_adjusted_ptr();return e!==0?e:this.excPtr}}var $e=t=>{throw Q||(Q=t),Q},Wt=t=>{var r=Q;if(!r)return yt(0),0;var e=new Tt(r);e.set_adjusted_ptr(r);var n=e.get_type();if(!n)return yt(0),r;for(var a in t){var o=t[a];if(o===0||o===n)break;var s=e.ptr+16;if(Wr(o,n,s))return yt(o),r}return yt(n),r},be=()=>Wt([]),_e=t=>Wt([t]),Ce=(t,r)=>Wt([t,r]),Te=t=>{var r=new Tt(t).get_exception_ptr();return r},Pe=()=>{var t=_t.pop();t||bt("no exception to throw");var r=t.excPtr;throw t.get_rethrown()||(_t.push(t),t.set_rethrown(!0),t.set_caught(!1),Ct++),Q=r,Q},Ee=(t,r,e)=>{var n=new Tt(t);throw n.init(r,e),Q=t,Ct++,Q},Se=()=>Ct,Pt={},sr=t=>{for(;t.length;){var r=t.pop(),e=t.pop();e(r)}};function Rt(t){return this.fromWireType(R[t>>2])}var ut={},at={},Et={},ur,St=t=>{throw new ur(t)},ot=(t,r,e)=>{t.forEach(function(u){Et[u]=r});function n(u){var l=e(u);l.length!==t.length&&St("Mismatched type converter count");for(var d=0;d<t.length;++d)Z(t[d],l[d])}var a=new Array(r.length),o=[],s=0;r.forEach((u,l)=>{at.hasOwnProperty(u)?a[l]=at[u]:(o.push(u),ut.hasOwnProperty(u)||(ut[u]=[]),ut[u].push(()=>{a[l]=at[u],++s,s===o.length&&n(a)}))}),o.length===0&&n(a)},xe=t=>{var r=Pt[t];delete Pt[t];var e=r.rawConstructor,n=r.rawDestructor,a=r.fields,o=a.map(s=>s.getterReturnType).concat(a.map(s=>s.setterArgumentType));ot([t],o,s=>{var u={};return a.forEach((l,d)=>{var h=l.fieldName,v=s[d],g=l.getter,C=l.getterContext,E=s[d+a.length],I=l.setter,S=l.setterContext;u[h]={read:W=>v.fromWireType(g(C,W)),write:(W,f)=>{var m=[];I(S,W,E.toWireType(m,f)),sr(m)}}}),[{name:r.name,fromWireType:l=>{var d={};for(var h in u)d[h]=u[h].read(l);return n(l),d},toWireType:(l,d)=>{for(var h in u)if(!(h in d))throw new TypeError(`Missing field: "${h}"`);var v=e();for(h in u)u[h].write(v,d[h]);return l!==null&&l.push(n,v),v},argPackAdvance:K,readValueFromPointer:Rt,destructorFunction:n}]})},Ae=(t,r,e,n,a)=>{},Oe=()=>{for(var t=new Array(256),r=0;r<256;++r)t[r]=String.fromCharCode(r);cr=t},cr,k=t=>{for(var r="",e=t;L[e];)r+=cr[L[e++]];return r},ct,T=t=>{throw new ct(t)};function De(t,r,e={}){var n=r.name;if(t||T(`type "${n}" must have a positive integer typeid pointer`),at.hasOwnProperty(t)){if(e.ignoreDuplicateRegistrations)return;T(`Cannot register type '${n}' twice`)}if(at[t]=r,delete Et[t],ut.hasOwnProperty(t)){var a=ut[t];delete ut[t],a.forEach(o=>o())}}function Z(t,r,e={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return De(t,r,e)}var K=8,Fe=(t,r,e,n)=>{r=k(r),Z(t,{name:r,fromWireType:function(a){return!!a},toWireType:function(a,o){return o?e:n},argPackAdvance:K,readValueFromPointer:function(a){return this.fromWireType(L[a])},destructorFunction:null})},Me=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),kt=t=>{function r(e){return e.$$.ptrType.registeredClass.name}T(r(t)+" instance already deleted")},zt=!1,lr=t=>{},je=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},dr=t=>{t.count.value-=1;var r=t.count.value===0;r&&je(t)},fr=(t,r,e)=>{if(r===e)return t;if(e.baseClass===void 0)return null;var n=fr(t,r,e.baseClass);return n===null?null:e.downcast(n)},hr={},He=()=>Object.keys(pt).length,Ie=()=>{var t=[];for(var r in pt)pt.hasOwnProperty(r)&&t.push(pt[r]);return t},ft=[],Ut=()=>{for(;ft.length;){var t=ft.pop();t.$$.deleteScheduled=!1,t.delete()}},ht,We=t=>{ht=t,ft.length&&ht&&ht(Ut)},Re=()=>{i.getInheritedInstanceCount=He,i.getLiveInheritedInstances=Ie,i.flushPendingDeletes=Ut,i.setDelayFunction=We},pt={},ke=(t,r)=>{for(r===void 0&&T("ptr should not be undefined");t.baseClass;)r=t.upcast(r),t=t.baseClass;return r},ze=(t,r)=>(r=ke(t,r),pt[r]),xt=(t,r)=>{(!r.ptrType||!r.ptr)&&St("makeClassHandle requires ptr and ptrType");var e=!!r.smartPtrType,n=!!r.smartPtr;return e!==n&&St("Both smartPtrType and smartPtr must be specified"),r.count={value:1},mt(Object.create(t,{$$:{value:r}}))};function Ue(t){var r=this.getPointee(t);if(!r)return this.destructor(t),null;var e=ze(this.registeredClass,r);if(e!==void 0){if(e.$$.count.value===0)return e.$$.ptr=r,e.$$.smartPtr=t,e.clone();var n=e.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?xt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:t}):xt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o=this.registeredClass.getActualType(r),s=hr[o];if(!s)return a.call(this);var u;this.isConst?u=s.constPointerType:u=s.pointerType;var l=fr(r,this.registeredClass,u.registeredClass);return l===null?a.call(this):this.isSmartPointer?xt(u.registeredClass.instancePrototype,{ptrType:u,ptr:l,smartPtrType:this,smartPtr:t}):xt(u.registeredClass.instancePrototype,{ptrType:u,ptr:l})}var mt=t=>typeof FinalizationRegistry>"u"?(mt=r=>r,t):(zt=new FinalizationRegistry(r=>{dr(r.$$)}),mt=r=>{var e=r.$$,n=!!e.smartPtr;if(n){var a={$$:e};zt.register(r,a,r)}return r},lr=r=>zt.unregister(r),mt(t)),Ve=()=>{Object.assign(At.prototype,{isAliasOf(t){if(!(this instanceof At)||!(t instanceof At))return!1;var r=this.$$.ptrType.registeredClass,e=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;r.baseClass;)e=r.upcast(e),r=r.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return r===n&&e===a},clone(){if(this.$$.ptr||kt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=mt(Object.create(Object.getPrototypeOf(this),{$$:{value:Me(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||kt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&T("Object already scheduled for deletion"),lr(this),dr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||kt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&T("Object already scheduled for deletion"),ft.push(this),ft.length===1&&ht&&ht(Ut),this.$$.deleteScheduled=!0,this}})};function At(){}var Be=48,Le=57,pr=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return r>=Be&&r<=Le?`_${t}`:t};function mr(t,r){return t=pr(t),{[t]:function(){return r.apply(this,arguments)}}[t]}var vr=(t,r,e)=>{if(t[r].overloadTable===void 0){var n=t[r];t[r]=function(){return t[r].overloadTable.hasOwnProperty(arguments.length)||T(`Function '${e}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[r].overloadTable})!`),t[r].overloadTable[arguments.length].apply(this,arguments)},t[r].overloadTable=[],t[r].overloadTable[n.argCount]=n}},yr=(t,r,e)=>{i.hasOwnProperty(t)?((e===void 0||i[t].overloadTable!==void 0&&i[t].overloadTable[e]!==void 0)&&T(`Cannot register public name '${t}' twice`),vr(i,t,t),i.hasOwnProperty(e)&&T(`Cannot register multiple overloads of a function with the same number of arguments (${e})!`),i[t].overloadTable[e]=r):(i[t]=r,e!==void 0&&(i[t].numArguments=e))};function Ye(t,r,e,n,a,o,s,u){this.name=t,this.constructor=r,this.instancePrototype=e,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=s,this.downcast=u,this.pureVirtualFunctions=[]}var Vt=(t,r,e)=>{for(;r!==e;)r.upcast||T(`Expected null or instance of ${e.name}, got an instance of ${r.name}`),t=r.upcast(t),r=r.baseClass;return t};function Ne(t,r){if(r===null)return this.isReference&&T(`null is not a valid ${this.name}`),0;r.$$||T(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||T(`Cannot pass deleted object as a pointer of type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=Vt(r.$$.ptr,e,this.registeredClass);return n}function Ge(t,r){var e;if(r===null)return this.isReference&&T(`null is not a valid ${this.name}`),this.isSmartPointer?(e=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,e),e):0;r.$$||T(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||T(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&T(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(e=Vt(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&T("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?e=r.$$.smartPtr:T(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:e=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)e=r.$$.smartPtr;else{var a=r.clone();e=this.rawShare(e,rt.toHandle(()=>a.delete())),t!==null&&t.push(this.rawDestructor,e)}break;default:T("Unsupporting sharing policy")}return e}function qe(t,r){if(r===null)return this.isReference&&T(`null is not a valid ${this.name}`),0;r.$$||T(`Cannot pass "${Yt(r)}" as a ${this.name}`),r.$$.ptr||T(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&T(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=Vt(r.$$.ptr,e,this.registeredClass);return n}function gr(t){return this.fromWireType(x[t>>2])}var Je=()=>{Object.assign(Ot.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor&&this.rawDestructor(t)},argPackAdvance:K,readValueFromPointer:gr,deleteObject(t){t!==null&&t.delete()},fromWireType:Ue})};function Ot(t,r,e,n,a,o,s,u,l,d,h){this.name=t,this.registeredClass=r,this.isReference=e,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=s,this.rawGetPointee=u,this.rawConstructor=l,this.rawShare=d,this.rawDestructor=h,!a&&r.baseClass===void 0?n?(this.toWireType=Ne,this.destructorFunction=null):(this.toWireType=qe,this.destructorFunction=null):this.toWireType=Ge}var wr=(t,r,e)=>{i.hasOwnProperty(t)||St("Replacing nonexistant public symbol"),i[t].overloadTable!==void 0&&e!==void 0?i[t].overloadTable[e]=r:(i[t]=r,i[t].argCount=e)},Xe=(t,r,e)=>{var n=i["dynCall_"+t];return e&&e.length?n.apply(null,[r].concat(e)):n.call(null,r)},Dt=[],$r,P=t=>{var r=Dt[t];return r||(t>=Dt.length&&(Dt.length=t+1),Dt[t]=r=$r.get(t)),r},Qe=(t,r,e)=>{if(t.includes("j"))return Xe(t,r,e);var n=P(r).apply(null,e);return n},Ze=(t,r)=>{var e=[];return function(){return e.length=0,Object.assign(e,arguments),Qe(t,r,e)}},J=(t,r)=>{t=k(t);function e(){return t.includes("j")?Ze(t,r):P(r)}var n=e();return typeof n!="function"&&T(`unknown function pointer with signature ${t}: ${r}`),n},Ke=(t,r)=>{var e=mr(r,function(n){this.name=r,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},e},br,_r=t=>{var r=jr(t),e=k(r);return tt(r),e},Ft=(t,r)=>{var e=[],n={};function a(o){if(!n[o]&&!at[o]){if(Et[o]){Et[o].forEach(a);return}e.push(o),n[o]=!0}}throw r.forEach(a),new br(`${t}: `+e.map(_r).join([", "]))},tn=(t,r,e,n,a,o,s,u,l,d,h,v,g)=>{h=k(h),o=J(a,o),u&&(u=J(s,u)),d&&(d=J(l,d)),g=J(v,g);var C=pr(h);yr(C,function(){Ft(`Cannot construct ${h} due to unbound types`,[n])}),ot([t,r,e],n?[n]:[],function(E){E=E[0];var I,S;n?(I=E.registeredClass,S=I.instancePrototype):S=At.prototype;var W=mr(C,function(){if(Object.getPrototypeOf(this)!==f)throw new ct("Use 'new' to construct "+h);if(m.constructor_body===void 0)throw new ct(h+" has no accessible constructor");var Ht=m.constructor_body[arguments.length];if(Ht===void 0)throw new ct(`Tried to invoke ctor of ${h} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(m.constructor_body).toString()}) parameters instead!`);return Ht.apply(this,arguments)}),f=Object.create(S,{constructor:{value:W}});W.prototype=f;var m=new Ye(h,W,f,g,I,o,u,d);m.baseClass&&(m.baseClass.__derivedClasses===void 0&&(m.baseClass.__derivedClasses=[]),m.baseClass.__derivedClasses.push(m));var M=new Ot(h,m,!0,!1,!1),H=new Ot(h+"*",m,!1,!1,!1),it=new Ot(h+" const*",m,!1,!0,!1);return hr[t]={pointerType:H,constPointerType:it},wr(C,W),[M,H,it]})},Bt=(t,r)=>{for(var e=[],n=0;n<t;n++)e.push(x[r+n*4>>2]);return e};function Lt(t,r,e,n,a,o){var s=r.length;s<2&&T("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=r[1]!==null&&e!==null,l=!1,d=1;d<r.length;++d)if(r[d]!==null&&r[d].destructorFunction===void 0){l=!0;break}var h=r[0].name!=="void",v=s-2,g=new Array(v),C=[],E=[];return function(){arguments.length!==v&&T(`function ${t} called with ${arguments.length} arguments, expected ${v}`),E.length=0;var I;C.length=u?2:1,C[0]=a,u&&(I=r[1].toWireType(E,this),C[1]=I);for(var S=0;S<v;++S)g[S]=r[S+2].toWireType(E,arguments[S]),C.push(g[S]);var W=n.apply(null,C);function f(m){if(l)sr(E);else for(var M=u?1:2;M<r.length;M++){var H=M===1?I:g[M-2];r[M].destructorFunction!==null&&r[M].destructorFunction(H)}if(h)return r[0].fromWireType(m)}return f(W)}}var rn=(t,r,e,n,a,o)=>{var s=Bt(r,e);a=J(n,a),ot([],[t],function(u){u=u[0];var l=`constructor ${u.name}`;if(u.registeredClass.constructor_body===void 0&&(u.registeredClass.constructor_body=[]),u.registeredClass.constructor_body[r-1]!==void 0)throw new ct(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${u.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return u.registeredClass.constructor_body[r-1]=()=>{Ft(`Cannot construct ${u.name} due to unbound types`,s)},ot([],s,d=>(d.splice(1,0,null),u.registeredClass.constructor_body[r-1]=Lt(l,d,null,a,o),[])),[]})},en=(t,r,e,n,a,o,s,u,l)=>{var d=Bt(e,n);r=k(r),o=J(a,o),ot([],[t],function(h){h=h[0];var v=`${h.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),u&&h.registeredClass.pureVirtualFunctions.push(r);function g(){Ft(`Cannot call ${v} due to unbound types`,d)}var C=h.registeredClass.instancePrototype,E=C[r];return E===void 0||E.overloadTable===void 0&&E.className!==h.name&&E.argCount===e-2?(g.argCount=e-2,g.className=h.name,C[r]=g):(vr(C,r,v),C[r].overloadTable[e-2]=g),ot([],d,function(I){var S=Lt(v,I,h,o,s);return C[r].overloadTable===void 0?(S.argCount=e-2,C[r]=S):C[r].overloadTable[e-2]=S,[]}),[]})};function nn(){Object.assign(Cr.prototype,{get(t){return this.allocated[t]},has(t){return this.allocated[t]!==void 0},allocate(t){var r=this.freelist.pop()||this.allocated.length;return this.allocated[r]=t,r},free(t){this.allocated[t]=void 0,this.freelist.push(t)}})}function Cr(){this.allocated=[void 0],this.freelist=[]}var q=new Cr,Tr=t=>{t>=q.reserved&&--q.get(t).refcount===0&&q.free(t)},an=()=>{for(var t=0,r=q.reserved;r<q.allocated.length;++r)q.allocated[r]!==void 0&&++t;return t},on=()=>{q.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),q.reserved=q.allocated.length,i.count_emval_handles=an},rt={toValue:t=>(t||T("Cannot use deleted val. handle = "+t),q.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return q.allocate({refcount:1,value:t})}}},sn=(t,r)=>{r=k(r),Z(t,{name:r,fromWireType:e=>{var n=rt.toValue(e);return Tr(e),n},toWireType:(e,n)=>rt.toHandle(n),argPackAdvance:K,readValueFromPointer:Rt,destructorFunction:null})},Yt=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},un=(t,r)=>{switch(r){case 4:return function(e){return this.fromWireType(Zt[e>>2])};case 8:return function(e){return this.fromWireType(Kt[e>>3])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}},cn=(t,r,e)=>{r=k(r),Z(t,{name:r,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:K,readValueFromPointer:un(r,e),destructorFunction:null})},ln=(t,r,e,n,a,o,s)=>{var u=Bt(r,e);t=k(t),a=J(n,a),yr(t,function(){Ft(`Cannot call ${t} due to unbound types`,u)},r-1),ot([],u,function(l){var d=[l[0],null].concat(l.slice(1));return wr(t,Lt(t,d,null,a,o),r-1),[]})},dn=(t,r,e)=>{switch(r){case 1:return e?n=>G[n>>0]:n=>L[n>>0];case 2:return e?n=>lt[n>>1]:n=>$t[n>>1];case 4:return e?n=>R[n>>2]:n=>x[n>>2];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},fn=(t,r,e,n,a)=>{r=k(r);var o=h=>h;if(n===0){var s=32-8*e;o=h=>h<<s>>>s}var u=r.includes("unsigned"),l=(h,v)=>{},d;u?d=function(h,v){return l(v,this.name),v>>>0}:d=function(h,v){return l(v,this.name),v},Z(t,{name:r,fromWireType:o,toWireType:d,argPackAdvance:K,readValueFromPointer:dn(r,e,n!==0),destructorFunction:null})},hn=(t,r,e)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[r];function o(s){var u=x[s>>2],l=x[s+4>>2];return new a(G.buffer,l,u)}e=k(e),Z(t,{name:e,fromWireType:o,argPackAdvance:K,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},Pr=(t,r,e,n)=>{if(!(n>0))return 0;for(var a=e,o=e+n-1,s=0;s<t.length;++s){var u=t.charCodeAt(s);if(u>=55296&&u<=57343){var l=t.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(u<=127){if(e>=o)break;r[e++]=u}else if(u<=2047){if(e+1>=o)break;r[e++]=192|u>>6,r[e++]=128|u&63}else if(u<=65535){if(e+2>=o)break;r[e++]=224|u>>12,r[e++]=128|u>>6&63,r[e++]=128|u&63}else{if(e+3>=o)break;r[e++]=240|u>>18,r[e++]=128|u>>12&63,r[e++]=128|u>>6&63,r[e++]=128|u&63}}return r[e]=0,e-a},pn=(t,r,e)=>Pr(t,L,r,e),Er=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++e):r+=3}return r},Sr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mn=(t,r,e)=>{for(var n=r+e,a=r;t[a]&&!(a>=n);)++a;if(a-r>16&&t.buffer&&Sr)return Sr.decode(t.subarray(r,a));for(var o="";r<a;){var s=t[r++];if(!(s&128)){o+=String.fromCharCode(s);continue}var u=t[r++]&63;if((s&224)==192){o+=String.fromCharCode((s&31)<<6|u);continue}var l=t[r++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|l:s=(s&7)<<18|u<<12|l<<6|t[r++]&63,s<65536)o+=String.fromCharCode(s);else{var d=s-65536;o+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return o},Nt=(t,r)=>t?mn(L,t,r):"",vn=(t,r)=>{r=k(r);var e=r==="std::string";Z(t,{name:r,fromWireType(n){var a=x[n>>2],o=n+4,s;if(e)for(var u=o,l=0;l<=a;++l){var d=o+l;if(l==a||L[d]==0){var h=d-u,v=Nt(u,h);s===void 0?s=v:(s+=String.fromCharCode(0),s+=v),u=d+1}}else{for(var g=new Array(a),l=0;l<a;++l)g[l]=String.fromCharCode(L[o+l]);s=g.join("")}return tt(n),s},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var o,s=typeof a=="string";s||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||T("Cannot pass non-string to std::string"),e&&s?o=Er(a):o=a.length;var u=qt(4+o+1),l=u+4;if(x[u>>2]=o,e&&s)pn(a,l,o+1);else if(s)for(var d=0;d<o;++d){var h=a.charCodeAt(d);h>255&&(tt(l),T("String has UTF-16 code units that do not fit in 8 bits")),L[l+d]=h}else for(var d=0;d<o;++d)L[l+d]=a[d];return n!==null&&n.push(tt,u),u},argPackAdvance:K,readValueFromPointer:gr,destructorFunction(n){tt(n)}})},xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,yn=(t,r)=>{for(var e=t,n=e>>1,a=n+r/2;!(n>=a)&&$t[n];)++n;if(e=n<<1,e-t>32&&xr)return xr.decode(L.subarray(t,e));for(var o="",s=0;!(s>=r/2);++s){var u=lt[t+s*2>>1];if(u==0)break;o+=String.fromCharCode(u)}return o},gn=(t,r,e)=>{if(e===void 0&&(e=2147483647),e<2)return 0;e-=2;for(var n=r,a=e<t.length*2?e/2:t.length,o=0;o<a;++o){var s=t.charCodeAt(o);lt[r>>1]=s,r+=2}return lt[r>>1]=0,r-n},wn=t=>t.length*2,$n=(t,r)=>{for(var e=0,n="";!(e>=r/4);){var a=R[t+e*4>>2];if(a==0)break;if(++e,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(a)}return n},bn=(t,r,e)=>{if(e===void 0&&(e=2147483647),e<4)return 0;for(var n=r,a=n+e-4,o=0;o<t.length;++o){var s=t.charCodeAt(o);if(s>=55296&&s<=57343){var u=t.charCodeAt(++o);s=65536+((s&1023)<<10)|u&1023}if(R[r>>2]=s,r+=4,r+4>a)break}return R[r>>2]=0,r-n},_n=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n>=55296&&n<=57343&&++e,r+=4}return r},Cn=(t,r,e)=>{e=k(e);var n,a,o,s,u;r===2?(n=yn,a=gn,s=wn,o=()=>$t,u=1):r===4&&(n=$n,a=bn,s=_n,o=()=>x,u=2),Z(t,{name:e,fromWireType:l=>{for(var d=x[l>>2],h=o(),v,g=l+4,C=0;C<=d;++C){var E=l+4+C*r;if(C==d||h[E>>u]==0){var I=E-g,S=n(g,I);v===void 0?v=S:(v+=String.fromCharCode(0),v+=S),g=E+r}}return tt(l),v},toWireType:(l,d)=>{typeof d!="string"&&T(`Cannot pass non-string to C++ string type ${e}`);var h=s(d),v=qt(4+h+r);return x[v>>2]=h>>u,a(d,v+4,h+r),l!==null&&l.push(tt,v),v},argPackAdvance:K,readValueFromPointer:Rt,destructorFunction(l){tt(l)}})},Tn=(t,r,e,n,a,o)=>{Pt[t]={name:k(r),rawConstructor:J(e,n),rawDestructor:J(a,o),fields:[]}},Pn=(t,r,e,n,a,o,s,u,l,d)=>{Pt[t].fields.push({fieldName:k(r),getterReturnType:e,getter:J(n,a),getterContext:o,setterArgumentType:s,setter:J(u,l),setterContext:d})},En=(t,r)=>{r=k(r),Z(t,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,n)=>{}})},Sn={},xn=t=>{var r=Sn[t];return r===void 0?k(t):r},Ar=()=>{if(typeof globalThis=="object")return globalThis;function t(r){r.$$$embind_global$$$=r;var e=typeof $$$embind_global$$$=="object"&&r.$$$embind_global$$$==r;return e||delete r.$$$embind_global$$$,e}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},An=t=>t===0?rt.toHandle(Ar()):(t=xn(t),rt.toHandle(Ar()[t])),On=t=>{t>4&&(q.get(t).refcount+=1)},Or=(t,r)=>{var e=at[t];return e===void 0&&T(r+" has unknown type "+_r(t)),e},Dn=t=>{var r=new Array(t+1);return function(e,n,a){r[0]=e;for(var o=0;o<t;++o){var s=Or(x[n+o*4>>2],"parameter "+o);r[o+1]=s.readValueFromPointer(a),a+=s.argPackAdvance}var u=new(e.bind.apply(e,r));return rt.toHandle(u)}},Dr={},Fn=(t,r,e,n)=>{t=rt.toValue(t);var a=Dr[r];return a||(a=Dn(r),Dr[r]=a),a(t,e,n)},Mn=(t,r)=>{t=Or(t,"_emval_take_value");var e=t.readValueFromPointer(r);return rt.toHandle(e)},jn=()=>{bt("")},Hn=(t,r,e)=>L.copyWithin(t,r,r+e),In=()=>2147483648,Wn=t=>{var r=X.buffer,e=(t-r.byteLength+65535)/65536;try{return X.grow(e),tr(),1}catch{}},Rn=t=>{var r=L.length;t>>>=0;var e=In();if(t>e)return!1;for(var n=(l,d)=>l+(d-l%d)%d,a=1;a<=4;a*=2){var o=r*(1+.2/a);o=Math.min(o,t+100663296);var s=Math.min(e,n(Math.max(t,o),65536)),u=Wn(s);if(u)return!0}return!1},Gt={},kn=()=>D||"./this.program",vt=()=>{if(!vt.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:kn()};for(var e in Gt)Gt[e]===void 0?delete r[e]:r[e]=Gt[e];var n=[];for(var e in r)n.push(`${e}=${r[e]}`);vt.strings=n}return vt.strings},zn=(t,r)=>{for(var e=0;e<t.length;++e)G[r++>>0]=t.charCodeAt(e);G[r>>0]=0},Un=(t,r)=>{var e=0;return vt().forEach((n,a)=>{var o=r+e;x[t+a*4>>2]=o,zn(n,o),e+=n.length+1}),0},Vn=(t,r)=>{var e=vt();x[t>>2]=e.length;var n=0;return e.forEach(a=>n+=a.length+1),x[r>>2]=n,0},Bn=t=>t,Mt=t=>t%4===0&&(t%100!==0||t%400===0),Ln=(t,r)=>{for(var e=0,n=0;n<=r;e+=t[n++]);return e},Fr=[31,29,31,30,31,30,31,31,30,31,30,31],Mr=[31,28,31,30,31,30,31,31,30,31,30,31],Yn=(t,r)=>{for(var e=new Date(t.getTime());r>0;){var n=Mt(e.getFullYear()),a=e.getMonth(),o=(n?Fr:Mr)[a];if(r>o-e.getDate())r-=o-e.getDate()+1,e.setDate(1),a<11?e.setMonth(a+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else return e.setDate(e.getDate()+r),e}return e};function Nn(t,r,e){var n=e>0?e:Er(t)+1,a=new Array(n),o=Pr(t,a,0,a.length);return r&&(a.length=o),a}var Gn=(t,r)=>{G.set(t,r)},qn=(t,r,e,n)=>{var a=x[n+40>>2],o={tm_sec:R[n>>2],tm_min:R[n+4>>2],tm_hour:R[n+8>>2],tm_mday:R[n+12>>2],tm_mon:R[n+16>>2],tm_year:R[n+20>>2],tm_wday:R[n+24>>2],tm_yday:R[n+28>>2],tm_isdst:R[n+32>>2],tm_gmtoff:R[n+36>>2],tm_zone:a?Nt(a):""},s=Nt(e),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in u)s=s.replace(new RegExp(l,"g"),u[l]);var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function v(f,m,M){for(var H=typeof f=="number"?f.toString():f||"";H.length<m;)H=M[0]+H;return H}function g(f,m){return v(f,m,"0")}function C(f,m){function M(it){return it<0?-1:it>0?1:0}var H;return(H=M(f.getFullYear()-m.getFullYear()))===0&&(H=M(f.getMonth()-m.getMonth()))===0&&(H=M(f.getDate()-m.getDate())),H}function E(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function I(f){var m=Yn(new Date(f.tm_year+1900,0,1),f.tm_yday),M=new Date(m.getFullYear(),0,4),H=new Date(m.getFullYear()+1,0,4),it=E(M),Ht=E(H);return C(it,m)<=0?C(Ht,m)<=0?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}var S={"%a":f=>d[f.tm_wday].substring(0,3),"%A":f=>d[f.tm_wday],"%b":f=>h[f.tm_mon].substring(0,3),"%B":f=>h[f.tm_mon],"%C":f=>{var m=f.tm_year+1900;return g(m/100|0,2)},"%d":f=>g(f.tm_mday,2),"%e":f=>v(f.tm_mday,2," "),"%g":f=>I(f).toString().substring(2),"%G":f=>I(f),"%H":f=>g(f.tm_hour,2),"%I":f=>{var m=f.tm_hour;return m==0?m=12:m>12&&(m-=12),g(m,2)},"%j":f=>g(f.tm_mday+Ln(Mt(f.tm_year+1900)?Fr:Mr,f.tm_mon-1),3),"%m":f=>g(f.tm_mon+1,2),"%M":f=>g(f.tm_min,2),"%n":()=>`
`,"%p":f=>f.tm_hour>=0&&f.tm_hour<12?"AM":"PM","%S":f=>g(f.tm_sec,2),"%t":()=>"	","%u":f=>f.tm_wday||7,"%U":f=>{var m=f.tm_yday+7-f.tm_wday;return g(Math.floor(m/7),2)},"%V":f=>{var m=Math.floor((f.tm_yday+7-(f.tm_wday+6)%7)/7);if((f.tm_wday+371-f.tm_yday-2)%7<=2&&m++,m){if(m==53){var M=(f.tm_wday+371-f.tm_yday)%7;M!=4&&(M!=3||!Mt(f.tm_year))&&(m=1)}}else{m=52;var H=(f.tm_wday+7-f.tm_yday-1)%7;(H==4||H==5&&Mt(f.tm_year%400-1))&&m++}return g(m,2)},"%w":f=>f.tm_wday,"%W":f=>{var m=f.tm_yday+7-(f.tm_wday+6)%7;return g(Math.floor(m/7),2)},"%y":f=>(f.tm_year+1900).toString().substring(2),"%Y":f=>f.tm_year+1900,"%z":f=>{var m=f.tm_gmtoff,M=m>=0;return m=Math.abs(m)/60,m=m/60*100+m%60,(M?"+":"-")+("0000"+m).slice(-4)},"%Z":f=>f.tm_zone,"%%":()=>"%"};s=s.replace(/%%/g,"\0\0");for(var l in S)s.includes(l)&&(s=s.replace(new RegExp(l,"g"),S[l](o)));s=s.replace(/\0\0/g,"%");var W=Nn(s,!1);return W.length>r?0:(Gn(W,t),W.length-1)},Jn=(t,r,e,n,a)=>qn(t,r,e,n);ur=i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Oe(),ct=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Ve(),Re(),Je(),br=i.UnboundTypeError=Ke(Error,"UnboundTypeError"),nn(),on();var Xn={q:ge,u:we,a:be,h:_e,l:Ce,I:Te,P:Pe,n:Ee,ba:Se,d:$e,oa:xe,Y:Ae,fa:Fe,na:tn,ma:rn,D:en,ea:sn,W:cn,J:ln,w:fn,s:hn,V:vn,L:Cn,Q:Tn,pa:Pn,ga:En,U:Tr,la:An,R:On,ia:Fn,ka:Mn,K:jn,da:Hn,ca:Rn,$:Un,aa:Vn,H:ma,T:Ta,B:ya,p:fa,b:Qn,C:pa,ha:wa,c:ea,j:aa,i:ta,x:va,O:ha,v:la,G:ba,N:_a,A:ga,F:Pa,Z:Sa,X:xa,k:na,f:ra,e:Kn,g:Zn,M:Ca,m:ca,o:oa,S:ia,t:ua,ja:da,y:$a,r:sa,E:Ea,z:Bn,_:Jn},A=ye(),tt=i._free=t=>(tt=i._free=A.sa)(t),qt=i._malloc=t=>(qt=i._malloc=A.ta)(t),jr=t=>(jr=A.va)(t);i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=A.wa)();var $=(t,r)=>($=A.xa)(t,r),yt=t=>(yt=A.ya)(t),b=()=>(b=A.za)(),_=t=>(_=A.Aa)(t),Hr=t=>(Hr=A.Ba)(t),Ir=t=>(Ir=A.Ca)(t),Wr=(t,r,e)=>(Wr=A.Da)(t,r,e),Rr=t=>(Rr=A.Ea)(t);i.dynCall_viijii=(t,r,e,n,a,o,s)=>(i.dynCall_viijii=A.Fa)(t,r,e,n,a,o,s);var kr=i.dynCall_jiii=(t,r,e,n)=>(kr=i.dynCall_jiii=A.Ga)(t,r,e,n),zr=i.dynCall_jiiii=(t,r,e,n,a)=>(zr=i.dynCall_jiiii=A.Ha)(t,r,e,n,a);i.dynCall_iiiiij=(t,r,e,n,a,o,s)=>(i.dynCall_iiiiij=A.Ia)(t,r,e,n,a,o,s),i.dynCall_iiiiijj=(t,r,e,n,a,o,s,u,l)=>(i.dynCall_iiiiijj=A.Ja)(t,r,e,n,a,o,s,u,l),i.dynCall_iiiiiijj=(t,r,e,n,a,o,s,u,l,d)=>(i.dynCall_iiiiiijj=A.Ka)(t,r,e,n,a,o,s,u,l,d);function Qn(t,r){var e=b();try{return P(t)(r)}catch(n){if(_(e),n!==n+0)throw n;$(1,0)}}function Zn(t,r,e,n){var a=b();try{P(t)(r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function Kn(t,r,e){var n=b();try{P(t)(r,e)}catch(a){if(_(n),a!==a+0)throw a;$(1,0)}}function ta(t,r,e,n,a){var o=b();try{return P(t)(r,e,n,a)}catch(s){if(_(o),s!==s+0)throw s;$(1,0)}}function ra(t,r){var e=b();try{P(t)(r)}catch(n){if(_(e),n!==n+0)throw n;$(1,0)}}function ea(t,r,e){var n=b();try{return P(t)(r,e)}catch(a){if(_(n),a!==a+0)throw a;$(1,0)}}function na(t){var r=b();try{P(t)()}catch(e){if(_(r),e!==e+0)throw e;$(1,0)}}function aa(t,r,e,n){var a=b();try{return P(t)(r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function oa(t,r,e,n,a,o){var s=b();try{P(t)(r,e,n,a,o)}catch(u){if(_(s),u!==u+0)throw u;$(1,0)}}function ia(t,r,e,n,a,o,s){var u=b();try{P(t)(r,e,n,a,o,s)}catch(l){if(_(u),l!==l+0)throw l;$(1,0)}}function sa(t,r,e,n,a,o,s,u,l,d,h){var v=b();try{P(t)(r,e,n,a,o,s,u,l,d,h)}catch(g){if(_(v),g!==g+0)throw g;$(1,0)}}function ua(t,r,e,n,a,o,s,u){var l=b();try{P(t)(r,e,n,a,o,s,u)}catch(d){if(_(l),d!==d+0)throw d;$(1,0)}}function ca(t,r,e,n,a){var o=b();try{P(t)(r,e,n,a)}catch(s){if(_(o),s!==s+0)throw s;$(1,0)}}function la(t,r,e,n,a,o,s){var u=b();try{return P(t)(r,e,n,a,o,s)}catch(l){if(_(u),l!==l+0)throw l;$(1,0)}}function da(t,r,e,n,a,o,s,u,l){var d=b();try{P(t)(r,e,n,a,o,s,u,l)}catch(h){if(_(d),h!==h+0)throw h;$(1,0)}}function fa(t){var r=b();try{return P(t)()}catch(e){if(_(r),e!==e+0)throw e;$(1,0)}}function ha(t,r,e,n,a,o,s){var u=b();try{return P(t)(r,e,n,a,o,s)}catch(l){if(_(u),l!==l+0)throw l;$(1,0)}}function pa(t,r,e,n){var a=b();try{return P(t)(r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function ma(t,r,e,n){var a=b();try{return P(t)(r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function va(t,r,e,n,a,o){var s=b();try{return P(t)(r,e,n,a,o)}catch(u){if(_(s),u!==u+0)throw u;$(1,0)}}function ya(t,r,e,n,a,o){var s=b();try{return P(t)(r,e,n,a,o)}catch(u){if(_(s),u!==u+0)throw u;$(1,0)}}function ga(t,r,e,n,a,o,s,u,l,d){var h=b();try{return P(t)(r,e,n,a,o,s,u,l,d)}catch(v){if(_(h),v!==v+0)throw v;$(1,0)}}function wa(t,r,e){var n=b();try{return P(t)(r,e)}catch(a){if(_(n),a!==a+0)throw a;$(1,0)}}function $a(t,r,e,n,a,o,s,u,l,d){var h=b();try{P(t)(r,e,n,a,o,s,u,l,d)}catch(v){if(_(h),v!==v+0)throw v;$(1,0)}}function ba(t,r,e,n,a,o,s,u){var l=b();try{return P(t)(r,e,n,a,o,s,u)}catch(d){if(_(l),d!==d+0)throw d;$(1,0)}}function _a(t,r,e,n,a,o,s,u,l){var d=b();try{return P(t)(r,e,n,a,o,s,u,l)}catch(h){if(_(d),h!==h+0)throw h;$(1,0)}}function Ca(t,r,e,n,a,o,s){var u=b();try{P(t)(r,e,n,a,o,s)}catch(l){if(_(u),l!==l+0)throw l;$(1,0)}}function Ta(t,r,e,n){var a=b();try{return P(t)(r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function Pa(t,r,e,n,a,o,s,u,l,d,h,v){var g=b();try{return P(t)(r,e,n,a,o,s,u,l,d,h,v)}catch(C){if(_(g),C!==C+0)throw C;$(1,0)}}function Ea(t,r,e,n,a,o,s,u,l,d,h,v,g,C,E,I){var S=b();try{P(t)(r,e,n,a,o,s,u,l,d,h,v,g,C,E,I)}catch(W){if(_(S),W!==W+0)throw W;$(1,0)}}function Sa(t,r,e,n){var a=b();try{return kr(t,r,e,n)}catch(o){if(_(a),o!==o+0)throw o;$(1,0)}}function xa(t,r,e,n,a){var o=b();try{return zr(t,r,e,n,a)}catch(s){if(_(o),s!==s+0)throw s;$(1,0)}}var jt;dt=function t(){jt||Ur(),jt||(dt=t)};function Ur(){if(et>0||(ie(),et>0))return;function t(){jt||(jt=!0,i.calledRun=!0,!wt&&(se(),y(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),ue()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),t()},1)):t()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Ur(),p.ready}})();function Na(c){return Xt(Qt,c)}async function Ga(c,{tryHarder:p=z.tryHarder,formats:i=z.formats,maxSymbols:y=z.maxSymbols}=z){return La(c,{tryHarder:p,formats:i,maxSymbols:y},Qt)}async function qa(c,{tryHarder:p=z.tryHarder,formats:i=z.formats,maxSymbols:y=z.maxSymbols}=z){return Ya(c,{tryHarder:p,formats:i,maxSymbols:y},Qt)}const Jt=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Ja(c){for(const[p,i]of Jt)if(c===i)return p;return"unknown"}var gt;class Xa extends EventTarget{constructor(p={}){var i;super(),Aa(this,gt,void 0);try{const y=(i=p==null?void 0:p.formats)==null?void 0:i.filter(w=>w!=="unknown");if((y==null?void 0:y.length)===0)throw new TypeError("Hint option provided, but is empty.");y==null||y.forEach(w=>{if(!Br.includes(w))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${w}' is not a valid enum value of type BarcodeFormat.`)}),Oa(this,gt,y??[]),Na().then(w=>{this.dispatchEvent(new CustomEvent("load",{detail:w}))}).catch(w=>{this.dispatchEvent(new CustomEvent("error",{detail:w}))})}catch(y){throw Lr(y,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Br.filter(p=>p!=="unknown")}async detect(p){try{const i=await Ia(p);if(i===null)return[];let y;try{ee(i)?y=await Ga(i,{tryHarder:!0,formats:Vr(this,gt).map(w=>Jt.get(w))}):y=await qa(i,{tryHarder:!0,formats:Vr(this,gt).map(w=>Jt.get(w))})}catch(w){throw console.error(w),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return y.map(w=>{const{topLeft:{x:O,y:D},topRight:{x:Y,y:j},bottomLeft:{x:F,y:V},bottomRight:{x:B,y:U}}=w.position,N=Math.min(O,Y,F,B),X=Math.min(D,j,V,U),wt=Math.max(O,Y,F,B),G=Math.max(D,j,V,U);return{boundingBox:new DOMRectReadOnly(N,X,wt-N,G-X),rawValue:new TextDecoder().decode(w.bytes),format:Ja(w.format),cornerPoints:[{x:O,y:D},{x:Y,y:j},{x:B,y:U},{x:F,y:V}]}})}catch(i){throw Lr(i,"Failed to execute 'detect' on 'BarcodeDetector'")}}}gt=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=Xa);export{Xa as BarcodeDetector,Qa as setZXingModuleOverrides};
