import{S as T,i as q,s as J,a as D,z as g,e as j,E as P,h as u,c as v,A as k,b as _,B as w,d,f as R,g as b,C as E,J as U,Y,w as F,r as B,u as S,U as C,v as M}from"../chunks/index.79e82b19.js";import{B as G}from"../chunks/breadcrumb-bar.af299c11.js";import{B as H}from"../chunks/breadcrumb-link.baa4a678.js";import{B as K}from"../chunks/breadcrumb-list.469cd59f.js";import{M as A,m as N}from"../chunks/coverslipTable.svelte_svelte_type_style_lang.6429d3c8.js";import{B as y}from"../chunks/button-item.6bf52554.js";import{D as O}from"../chunks/dropdown-item.72bb262e.js";import{p as Q}from"../chunks/stores.2aba5b55.js";import{E as L}from"../chunks/empty-list.ac357487.js";import{I as V}from"../chunks/item-list.b5e17376.js";import{I as W}from"../chunks/item-list-divider.506d6f65.js";function z(r){const t=r[9];r[10]=t}function X(r){let t;return{c(){t=B("My projects")},l(n){t=S(n,"My projects")},m(n,e){_(n,t,e)},d(n){n&&u(t)}}}function Z(r){let t;return{c(){t=B("Edit experiment")},l(n){t=S(n,"Edit experiment")},m(n,e){_(n,t,e)},d(n){n&&u(t)}}}function x(r){let t;return{c(){t=B("Delete experiment")},l(n){t=S(n,"Delete experiment")},m(n,e){_(n,t,e)},d(n){n&&u(t)}}}function ee(r){let t;return{c(){t=B("Add slide/plate")},l(n){t=S(n,"Add slide/plate")},m(n,e){_(n,t,e)},d(n){n&&u(t)}}}function te(r){let t,n,e,$,l,o,f,a;return t=new y({props:{$$slots:{default:[Z]},$$scope:{ctx:r}}}),t.$on("click",function(){C(r[2].experiment.bind(null,"edit",r[0].experiment))&&r[2].experiment.bind(null,"edit",r[0].experiment).apply(this,arguments)}),e=new y({props:{$$slots:{default:[x]},$$scope:{ctx:r}}}),e.$on("click",function(){C(r[2].deleteExperiment.bind(null,r[0].experiment))&&r[2].deleteExperiment.bind(null,r[0].experiment).apply(this,arguments)}),l=new W({}),f=new y({props:{$$slots:{default:[ee]},$$scope:{ctx:r}}}),f.$on("click",function(){C(r[2].slide.bind(null,"create",{experimentId:r[1]}))&&r[2].slide.bind(null,"create",{experimentId:r[1]}).apply(this,arguments)}),{c(){g(t.$$.fragment),n=D(),g(e.$$.fragment),$=D(),g(l.$$.fragment),o=D(),g(f.$$.fragment)},l(m){k(t.$$.fragment,m),n=v(m),k(e.$$.fragment,m),$=v(m),k(l.$$.fragment,m),o=v(m),k(f.$$.fragment,m)},m(m,p){w(t,m,p),_(m,n,p),w(e,m,p),_(m,$,p),w(l,m,p),_(m,o,p),w(f,m,p),a=!0},p(m,p){r=m;const s={};p&2048&&(s.$$scope={dirty:p,ctx:r}),t.$set(s);const i={};p&2048&&(i.$$scope={dirty:p,ctx:r}),e.$set(i);const c={};p&2048&&(c.$$scope={dirty:p,ctx:r}),f.$set(c)},i(m){a||(b(t.$$.fragment,m),b(e.$$.fragment,m),b(l.$$.fragment,m),b(f.$$.fragment,m),a=!0)},o(m){d(t.$$.fragment,m),d(e.$$.fragment,m),d(l.$$.fragment,m),d(f.$$.fragment,m),a=!1},d(m){E(t,m),m&&u(n),E(e,m),m&&u($),E(l,m),m&&u(o),E(f,m)}}}function ne(r){let t,n,e,$,l,o,f,a,m,p;return t=new H({props:{href:"/projects",$$slots:{default:[X]},$$scope:{ctx:r}}}),e=new A({props:{d:N}}),l=new K({}),f=new A({props:{d:N}}),m=new O({props:{title:r[0].experiment.title,$$slots:{default:[te]},$$scope:{ctx:r}}}),{c(){g(t.$$.fragment),n=D(),g(e.$$.fragment),$=D(),g(l.$$.fragment),o=D(),g(f.$$.fragment),a=D(),g(m.$$.fragment)},l(s){k(t.$$.fragment,s),n=v(s),k(e.$$.fragment,s),$=v(s),k(l.$$.fragment,s),o=v(s),k(f.$$.fragment,s),a=v(s),k(m.$$.fragment,s)},m(s,i){w(t,s,i),_(s,n,i),w(e,s,i),_(s,$,i),w(l,s,i),_(s,o,i),w(f,s,i),_(s,a,i),w(m,s,i),p=!0},p(s,i){const c={};i&2048&&(c.$$scope={dirty:i,ctx:s}),t.$set(c);const I={};i&1&&(I.title=s[0].experiment.title),i&2051&&(I.$$scope={dirty:i,ctx:s}),m.$set(I)},i(s){p||(b(t.$$.fragment,s),b(e.$$.fragment,s),b(l.$$.fragment,s),b(f.$$.fragment,s),b(m.$$.fragment,s),p=!0)},o(s){d(t.$$.fragment,s),d(e.$$.fragment,s),d(l.$$.fragment,s),d(f.$$.fragment,s),d(m.$$.fragment,s),p=!1},d(s){E(t,s),s&&u(n),E(e,s),s&&u($),E(l,s),s&&u(o),E(f,s),s&&u(a),E(m,s)}}}function re(r){let t,n;return t=new L({props:{$$slots:{default:[se]},$$scope:{ctx:r}}}),{c(){g(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,$){w(t,e,$),n=!0},p(e,$){const l={};$&2048&&(l.$$scope={dirty:$,ctx:e}),t.$set(l)},i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function ie(r){let t,n;return t=new L({props:{$$slots:{default:[$e]},$$scope:{ctx:r}}}),{c(){g(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,$){w(t,e,$),n=!0},p(e,$){const l={};$&2049&&(l.$$scope={dirty:$,ctx:e}),t.$set(l)},i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function le(r){let t,n;return t=new V({props:{items:r[0].experiment.slides,toDate:r[3],toName:r[5],toLink:r[4],$$slots:{"drop-menu":[oe,({item:e})=>({9:e}),({item:e})=>e?512:0]},$$scope:{ctx:r}}}),{c(){g(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,$){w(t,e,$),n=!0},p(e,$){const l={};$&1&&(l.items=e[0].experiment.slides),$&2560&&(l.$$scope={dirty:$,ctx:e}),t.$set(l)},i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function se(r){let t;return{c(){t=B("Slides for this experiment will appear here when you sign in")},l(n){t=S(n,"Slides for this experiment will appear here when you sign in")},m(n,e){_(n,t,e)},d(n){n&&u(t)}}}function $e(r){let t,n=r[0].experiment.title+"",e,$;return{c(){t=B("Slides for '"),e=B(n),$=B("' will appear here when you add them")},l(l){t=S(l,"Slides for '"),e=S(l,n),$=S(l,"' will appear here when you add them")},m(l,o){_(l,t,o),_(l,e,o),_(l,$,o)},p(l,o){o&1&&n!==(n=l[0].experiment.title+"")&&M(e,n)},d(l){l&&u(t),l&&u(e),l&&u($)}}}function me(r){let t=r[10].type==="plate"?"Edit plate":"Edit slide",n;return{c(){n=B(t)},l(e){n=S(e,t)},m(e,$){_(e,n,$)},p(e,$){$&512&&t!==(t=e[10].type==="plate"?"Edit plate":"Edit slide")&&M(n,t)},d(e){e&&u(n)}}}function fe(r){let t=r[10].type==="plate"?"Delete plate":"Delete slide",n;return{c(){n=B(t)},l(e){n=S(e,t)},m(e,$){_(e,n,$)},p(e,$){$&512&&t!==(t=e[10].type==="plate"?"Delete plate":"Delete slide")&&M(n,t)},d(e){e&&u(n)}}}function oe(r){z(r);let t,n,e,$;function l(){return r[7](r[10])}t=new y({props:{$$slots:{default:[me]},$$scope:{ctx:r}}}),t.$on("click",l);function o(){return r[8](r[10])}return e=new y({props:{$$slots:{default:[fe]},$$scope:{ctx:r}}}),e.$on("click",o),{c(){g(t.$$.fragment),n=D(),g(e.$$.fragment)},l(f){k(t.$$.fragment,f),n=v(f),k(e.$$.fragment,f)},m(f,a){w(t,f,a),_(f,n,a),w(e,f,a),$=!0},p(f,a){r=f,z(r);const m={};a&2560&&(m.$$scope={dirty:a,ctx:r}),t.$set(m);const p={};a&2560&&(p.$$scope={dirty:a,ctx:r}),e.$set(p)},i(f){$||(b(t.$$.fragment,f),b(e.$$.fragment,f),$=!0)},o(f){d(t.$$.fragment,f),d(e.$$.fragment,f),$=!1},d(f){E(t,f),f&&u(n),E(e,f)}}}function pe(r){let t,n,e,$,l,o,f,a;document.title=t=r[0].experiment.title+" | Slide Tracking",e=new G({props:{$$slots:{default:[ne]},$$scope:{ctx:r}}});const m=[le,ie,re],p=[];function s(i,c){return i[0].experiment.slides.length?0:i[0].experiment?1:2}return l=s(r),o=p[l]=m[l](r),{c(){n=D(),g(e.$$.fragment),$=D(),o.c(),f=j()},l(i){P("svelte-1hhcbz5",document.head).forEach(u),n=v(i),k(e.$$.fragment,i),$=v(i),o.l(i),f=j()},m(i,c){_(i,n,c),w(e,i,c),_(i,$,c),p[l].m(i,c),_(i,f,c),a=!0},p(i,[c]){(!a||c&1)&&t!==(t=i[0].experiment.title+" | Slide Tracking")&&(document.title=t);const I={};c&2051&&(I.$$scope={dirty:c,ctx:i}),e.$set(I);let h=l;l=s(i),l===h?p[l].p(i,c):(F(),d(p[h],1,1,()=>{p[h]=null}),R(),o=p[l],o?o.p(i,c):(o=p[l]=m[l](i),o.c()),b(o,1),o.m(f.parentNode,f))},i(i){a||(b(e.$$.fragment,i),b(o),a=!0)},o(i){d(e.$$.fragment,i),d(o),a=!1},d(i){i&&u(n),E(e,i),i&&u($),p[l].d(i),i&&u(f)}}}function ae(r,t,n){let e,$;U(r,Q,i=>n(6,$=i));const l=Y("prompt");let{data:o}=t;const f=({createdAt:i})=>i,a=({id:i})=>({href:`/slide/${i}`}),m=({title:i})=>i,p=i=>l.slide("edit",i),s=i=>l.deleteSlide(i);return r.$$set=i=>{"data"in i&&n(0,o=i.data)},r.$$.update=()=>{r.$$.dirty&64&&n(1,{experimentId:e}=$.params,e)},[o,e,l,f,a,m,$,p,s]}class Be extends T{constructor(t){super(),q(this,t,ae,pe,J,{data:0})}}export{Be as default};
