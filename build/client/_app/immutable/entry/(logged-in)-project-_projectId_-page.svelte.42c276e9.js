import{S as N,i as P,s as L,a as D,z as b,e as h,E as T,h as a,c as v,A as g,b as u,B as j,d as _,f as q,g as d,C as k,J as z,Y as J,w as R,r as w,u as E,U as M,v as U}from"../chunks/index.79e82b19.js";import{B as Y}from"../chunks/breadcrumb-bar.af299c11.js";import{B as F}from"../chunks/breadcrumb-link.baa4a678.js";import{p as G}from"../chunks/stores.2aba5b55.js";import{M as H,m as K}from"../chunks/coverslipTable.svelte_svelte_type_style_lang.6429d3c8.js";import{B as I}from"../chunks/button-item.6bf52554.js";import{D as O}from"../chunks/dropdown-item.72bb262e.js";import{E as Q}from"../chunks/empty-list.ac357487.js";import{I as V}from"../chunks/item-list.b5e17376.js";import{I as W}from"../chunks/item-list-divider.506d6f65.js";function A(o){const e=o[9];o[10]=e}function X(o){let e;return{c(){e=w("My projects")},l(r){e=E(r,"My projects")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function Z(o){let e;return{c(){e=w("Edit project")},l(r){e=E(r,"Edit project")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function y(o){let e;return{c(){e=w("Delete project")},l(r){e=E(r,"Delete project")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function x(o){let e;return{c(){e=w("Add experiment")},l(r){e=E(r,"Add experiment")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function ee(o){let e,r,t,l,s,f,n,m;return e=new I({props:{$$slots:{default:[Z]},$$scope:{ctx:o}}}),e.$on("click",function(){M(o[2].project.bind(null,"edit",o[0].project))&&o[2].project.bind(null,"edit",o[0].project).apply(this,arguments)}),t=new I({props:{$$slots:{default:[y]},$$scope:{ctx:o}}}),t.$on("click",function(){M(o[2].deleteProject.bind(null,o[0].project))&&o[2].deleteProject.bind(null,o[0].project).apply(this,arguments)}),s=new W({}),n=new I({props:{$$slots:{default:[x]},$$scope:{ctx:o}}}),n.$on("click",function(){M(o[2].experiment.bind(null,"create",{projectId:o[1]}))&&o[2].experiment.bind(null,"create",{projectId:o[1]}).apply(this,arguments)}),{c(){b(e.$$.fragment),r=D(),b(t.$$.fragment),l=D(),b(s.$$.fragment),f=D(),b(n.$$.fragment)},l($){g(e.$$.fragment,$),r=v($),g(t.$$.fragment,$),l=v($),g(s.$$.fragment,$),f=v($),g(n.$$.fragment,$)},m($,p){j(e,$,p),u($,r,p),j(t,$,p),u($,l,p),j(s,$,p),u($,f,p),j(n,$,p),m=!0},p($,p){o=$;const B={};p&2048&&(B.$$scope={dirty:p,ctx:o}),e.$set(B);const i={};p&2048&&(i.$$scope={dirty:p,ctx:o}),t.$set(i);const c={};p&2048&&(c.$$scope={dirty:p,ctx:o}),n.$set(c)},i($){m||(d(e.$$.fragment,$),d(t.$$.fragment,$),d(s.$$.fragment,$),d(n.$$.fragment,$),m=!0)},o($){_(e.$$.fragment,$),_(t.$$.fragment,$),_(s.$$.fragment,$),_(n.$$.fragment,$),m=!1},d($){k(e,$),$&&a(r),k(t,$),$&&a(l),k(s,$),$&&a(f),k(n,$)}}}function te(o){let e,r,t,l,s,f;return e=new F({props:{href:"/projects",$$slots:{default:[X]},$$scope:{ctx:o}}}),t=new H({props:{d:K}}),s=new O({props:{title:o[0].project.title,$$slots:{default:[ee]},$$scope:{ctx:o}}}),{c(){b(e.$$.fragment),r=D(),b(t.$$.fragment),l=D(),b(s.$$.fragment)},l(n){g(e.$$.fragment,n),r=v(n),g(t.$$.fragment,n),l=v(n),g(s.$$.fragment,n)},m(n,m){j(e,n,m),u(n,r,m),j(t,n,m),u(n,l,m),j(s,n,m),f=!0},p(n,m){const $={};m&2048&&($.$$scope={dirty:m,ctx:n}),e.$set($);const p={};m&1&&(p.title=n[0].project.title),m&2051&&(p.$$scope={dirty:m,ctx:n}),s.$set(p)},i(n){f||(d(e.$$.fragment,n),d(t.$$.fragment,n),d(s.$$.fragment,n),f=!0)},o(n){_(e.$$.fragment,n),_(t.$$.fragment,n),_(s.$$.fragment,n),f=!1},d(n){k(e,n),n&&a(r),k(t,n),n&&a(l),k(s,n)}}}function re(o){let e,r;return e=new Q({props:{$$slots:{default:[oe]},$$scope:{ctx:o}}}),{c(){b(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,l){j(e,t,l),r=!0},p(t,l){const s={};l&2049&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function ne(o){let e,r;return e=new V({props:{items:o[0].project.experiments,toDate:o[3],toLink:o[4],toName:o[5],$$slots:{"drop-menu":[$e,({item:t})=>({9:t}),({item:t})=>t?512:0]},$$scope:{ctx:o}}}),{c(){b(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,l){j(e,t,l),r=!0},p(t,l){const s={};l&1&&(s.items=t[0].project.experiments),l&2560&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(d(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function oe(o){let e,r=o[0].project.title+"",t,l;return{c(){e=w("Experiments for '"),t=w(r),l=w("' will appear here when you add them")},l(s){e=E(s,"Experiments for '"),t=E(s,r),l=E(s,"' will appear here when you add them")},m(s,f){u(s,e,f),u(s,t,f),u(s,l,f)},p(s,f){f&1&&r!==(r=s[0].project.title+"")&&U(t,r)},d(s){s&&a(e),s&&a(t),s&&a(l)}}}function se(o){let e;return{c(){e=w("Edit experiment")},l(r){e=E(r,"Edit experiment")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function ie(o){let e;return{c(){e=w("Delete experiment")},l(r){e=E(r,"Delete experiment")},m(r,t){u(r,e,t)},d(r){r&&a(e)}}}function $e(o){A(o);let e,r,t,l;function s(){return o[7](o[10])}e=new I({props:{$$slots:{default:[se]},$$scope:{ctx:o}}}),e.$on("click",s);function f(){return o[8](o[10])}return t=new I({props:{$$slots:{default:[ie]},$$scope:{ctx:o}}}),t.$on("click",f),{c(){b(e.$$.fragment),r=D(),b(t.$$.fragment)},l(n){g(e.$$.fragment,n),r=v(n),g(t.$$.fragment,n)},m(n,m){j(e,n,m),u(n,r,m),j(t,n,m),l=!0},p(n,m){o=n,A(o);const $={};m&2048&&($.$$scope={dirty:m,ctx:o}),e.$set($);const p={};m&2048&&(p.$$scope={dirty:m,ctx:o}),t.$set(p)},i(n){l||(d(e.$$.fragment,n),d(t.$$.fragment,n),l=!0)},o(n){_(e.$$.fragment,n),_(t.$$.fragment,n),l=!1},d(n){k(e,n),n&&a(r),k(t,n)}}}function le(o){let e,r,t,l,s,f,n,m;document.title=e=o[0].project.title+" | Slide Tracking",t=new Y({props:{$$slots:{default:[te]},$$scope:{ctx:o}}});const $=[ne,re],p=[];function B(i,c){return i[0].project.experiments.length?0:1}return s=B(o),f=p[s]=$[s](o),{c(){r=D(),b(t.$$.fragment),l=D(),f.c(),n=h()},l(i){T("svelte-iyf2g7",document.head).forEach(a),r=v(i),g(t.$$.fragment,i),l=v(i),f.l(i),n=h()},m(i,c){u(i,r,c),j(t,i,c),u(i,l,c),p[s].m(i,c),u(i,n,c),m=!0},p(i,[c]){(!m||c&1)&&e!==(e=i[0].project.title+" | Slide Tracking")&&(document.title=e);const S={};c&2051&&(S.$$scope={dirty:c,ctx:i}),t.$set(S);let C=s;s=B(i),s===C?p[s].p(i,c):(R(),_(p[C],1,1,()=>{p[C]=null}),q(),f=p[s],f?f.p(i,c):(f=p[s]=$[s](i),f.c()),d(f,1),f.m(n.parentNode,n))},i(i){m||(d(t.$$.fragment,i),d(f),m=!0)},o(i){_(t.$$.fragment,i),_(f),m=!1},d(i){i&&a(r),k(t,i),i&&a(l),p[s].d(i),i&&a(n)}}}function fe(o,e,r){let t,l;z(o,G,i=>r(6,l=i));const s=J("prompt");let{data:f}=e;const n=({createdAt:i})=>i,m=({id:i})=>({href:`/experiment/${i}`}),$=({title:i})=>i,p=i=>s.experiment("edit",i),B=i=>s.deleteExperiment(i);return o.$$set=i=>{"data"in i&&r(0,f=i.data)},o.$$.update=()=>{o.$$.dirty&64&&r(1,{projectId:t}=l.params,t)},[f,t,s,n,m,$,l,p,B]}class ke extends N{constructor(e){super(),P(this,e,fe,le,L,{data:0})}}export{ke as default};
