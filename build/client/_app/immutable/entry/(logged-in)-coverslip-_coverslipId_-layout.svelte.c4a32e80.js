import{S as re,i as ie,s as ne,D as fe,a as E,z as h,k as N,E as oe,h as _,c as B,A as w,l as z,m as P,p as L,b as m,B as C,I as F,d as g,f as U,g as d,F as $e,G as ue,H as ae,C as I,J as _e,Y as me,w as W,r as D,u as V,U as G,M as le,e as q,n as J}from"../chunks/index.79e82b19.js";import{B as pe}from"../chunks/breadcrumb-bar.af299c11.js";import{B as ce}from"../chunks/breadcrumb-link.baa4a678.js";import{B as de}from"../chunks/breadcrumb-list.469cd59f.js";import{M as O,m as Q}from"../chunks/coverslipTable.svelte_svelte_type_style_lang.6429d3c8.js";import{B as H}from"../chunks/button-item.6bf52554.js";import{D as ve}from"../chunks/dropdown-item.72bb262e.js";import{L as X}from"../chunks/link-item.06f44794.js";import{p as be}from"../chunks/stores.2aba5b55.js";import{S as ge,C as se}from"../chunks/slide.c2dc0211.js";import{I as Z}from"../chunks/item-list-divider.506d6f65.js";import{P as ke}from"../chunks/plate.ec2c03ed.js";function y(i,e,l){const t=i.slice();return t[10]=e[l],t[12]=l,t}function x(i,e,l){const t=i.slice();return t[10]=e[l],t[12]=l,t}function he(i){let e;return{c(){e=D("My projects")},l(l){e=V(l,"My projects")},m(l,t){m(l,e,t)},d(l){l&&_(e)}}}function we(i){let e,l;return{c(){e=D("Edit "),l=D(i[4])},l(t){e=V(t,"Edit "),l=V(t,i[4])},m(t,s){m(t,e,s),m(t,l,s)},p:J,d(t){t&&_(e),t&&_(l)}}}function Ce(i){let e,l;return{c(){e=D("Delete "),l=D(i[4])},l(t){e=V(t,"Delete "),l=V(t,i[4])},m(t,s){m(t,e,s),m(t,l,s)},p:J,d(t){t&&_(e),t&&_(l)}}}function Ie(i){let e;return{c(){e=D("View stainings")},l(l){e=V(l,"View stainings")},m(l,t){m(l,e,t)},d(l){l&&_(e)}}}function Ee(i){let e;return{c(){e=D("View files")},l(l){e=V(l,"View files")},m(l,t){m(l,e,t)},d(l){l&&_(e)}}}function Be(i){let e;return{c(){e=D("Add staining")},l(l){e=V(l,"Add staining")},m(l,t){m(l,e,t)},d(l){l&&_(e)}}}function De(i){let e;return{c(){e=D("Add file")},l(l){e=V(l,"Add file")},m(l,t){m(l,e,t)},d(l){l&&_(e)}}}function Ve(i){let e,l,t,s,r,f,o,$,p,v,u,b,c,j,S,k;return e=new H({props:{$$slots:{default:[we]},$$scope:{ctx:i}}}),e.$on("click",function(){G(i[4]=="Coverslip"?i[5].editCoverslip.bind(null,i[0].current):i[5].editCoverslip2.bind(null,i[0].current))&&(i[4]=="Coverslip"?i[5].editCoverslip.bind(null,i[0].current):i[5].editCoverslip2.bind(null,i[0].current)).apply(this,arguments)}),t=new H({props:{$$slots:{default:[Ce]},$$scope:{ctx:i}}}),t.$on("click",function(){G(i[5].deleteCoverslip.bind(null,i[0].current))&&i[5].deleteCoverslip.bind(null,i[0].current).apply(this,arguments)}),r=new Z({}),o=new X({props:{href:"/coverslip/"+i[1]+"/staining",$$slots:{default:[Ie]},$$scope:{ctx:i}}}),p=new X({props:{href:"/coverslip/"+i[1]+"/files",$$slots:{default:[Ee]},$$scope:{ctx:i}}}),u=new Z({}),c=new H({props:{$$slots:{default:[Be]},$$scope:{ctx:i}}}),c.$on("click",function(){G(i[5].createStaining.bind(null,i[1]))&&i[5].createStaining.bind(null,i[1]).apply(this,arguments)}),S=new H({props:{$$slots:{default:[De]},$$scope:{ctx:i}}}),S.$on("click",function(){G(i[5].uploadCoverslipFiles.bind(null,i[1]))&&i[5].uploadCoverslipFiles.bind(null,i[1]).apply(this,arguments)}),{c(){h(e.$$.fragment),l=E(),h(t.$$.fragment),s=E(),h(r.$$.fragment),f=E(),h(o.$$.fragment),$=E(),h(p.$$.fragment),v=E(),h(u.$$.fragment),b=E(),h(c.$$.fragment),j=E(),h(S.$$.fragment)},l(n){w(e.$$.fragment,n),l=B(n),w(t.$$.fragment,n),s=B(n),w(r.$$.fragment,n),f=B(n),w(o.$$.fragment,n),$=B(n),w(p.$$.fragment,n),v=B(n),w(u.$$.fragment,n),b=B(n),w(c.$$.fragment,n),j=B(n),w(S.$$.fragment,n)},m(n,a){C(e,n,a),m(n,l,a),C(t,n,a),m(n,s,a),C(r,n,a),m(n,f,a),C(o,n,a),m(n,$,a),C(p,n,a),m(n,v,a),C(u,n,a),m(n,b,a),C(c,n,a),m(n,j,a),C(S,n,a),k=!0},p(n,a){i=n;const A={};a&512&&(A.$$scope={dirty:a,ctx:i}),e.$set(A);const M={};a&512&&(M.$$scope={dirty:a,ctx:i}),t.$set(M);const T={};a&2&&(T.href="/coverslip/"+i[1]+"/staining"),a&512&&(T.$$scope={dirty:a,ctx:i}),o.$set(T);const R={};a&2&&(R.href="/coverslip/"+i[1]+"/files"),a&512&&(R.$$scope={dirty:a,ctx:i}),p.$set(R);const Y={};a&512&&(Y.$$scope={dirty:a,ctx:i}),c.$set(Y);const K={};a&512&&(K.$$scope={dirty:a,ctx:i}),S.$set(K)},i(n){k||(d(e.$$.fragment,n),d(t.$$.fragment,n),d(r.$$.fragment,n),d(o.$$.fragment,n),d(p.$$.fragment,n),d(u.$$.fragment,n),d(c.$$.fragment,n),d(S.$$.fragment,n),k=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),g(r.$$.fragment,n),g(o.$$.fragment,n),g(p.$$.fragment,n),g(u.$$.fragment,n),g(c.$$.fragment,n),g(S.$$.fragment,n),k=!1},d(n){I(e,n),n&&_(l),I(t,n),n&&_(s),I(r,n),n&&_(f),I(o,n),n&&_($),I(p,n),n&&_(v),I(u,n),n&&_(b),I(c,n),n&&_(j),I(S,n)}}}function Se(i){let e,l,t,s,r,f,o,$,p,v;return e=new ce({props:{href:"/projects",$$slots:{default:[he]},$$scope:{ctx:i}}}),t=new O({props:{d:Q}}),r=new de({}),o=new O({props:{d:Q}}),p=new ve({props:{title:i[2],$$slots:{default:[Ve]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment),l=E(),h(t.$$.fragment),s=E(),h(r.$$.fragment),f=E(),h(o.$$.fragment),$=E(),h(p.$$.fragment)},l(u){w(e.$$.fragment,u),l=B(u),w(t.$$.fragment,u),s=B(u),w(r.$$.fragment,u),f=B(u),w(o.$$.fragment,u),$=B(u),w(p.$$.fragment,u)},m(u,b){C(e,u,b),m(u,l,b),C(t,u,b),m(u,s,b),C(r,u,b),m(u,f,b),C(o,u,b),m(u,$,b),C(p,u,b),v=!0},p(u,b){const c={};b&512&&(c.$$scope={dirty:b,ctx:u}),e.$set(c);const j={};b&4&&(j.title=u[2]),b&515&&(j.$$scope={dirty:b,ctx:u}),p.$set(j)},i(u){v||(d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(o.$$.fragment,u),d(p.$$.fragment,u),v=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(r.$$.fragment,u),g(o.$$.fragment,u),g(p.$$.fragment,u),v=!1},d(u){I(e,u),u&&_(l),I(t,u),u&&_(s),I(r,u),u&&_(f),I(o,u),u&&_($),I(p,u)}}}function Ae(i){let e,l;return e=new ke({props:{slideId:i[3],$$slots:{default:[Le]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){C(e,t,s),l=!0},p(t,s){const r={};s&8&&(r.slideId=t[3]),s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Me(i){let e,l;return e=new ge({props:{slideId:i[3],$$slots:{default:[qe]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){C(e,t,s),l=!0},p(t,s){const r={};s&8&&(r.slideId=t[3]),s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function je(i){let e,l=i[12]+1+"",t,s;return{c(){e=N("a"),t=D(l),s=E(),this.h()},l(r){e=z(r,"A",{class:!0,href:!0});var f=P(e);t=V(f,l),s=B(f),f.forEach(_),this.h()},h(){L(e,"class","empty-coverslip svelte-ciobte"),L(e,"href",null)},m(r,f){m(r,e,f),F(e,t),F(e,s)},d(r){r&&_(e)}}}function Fe(i){let e,l=i[12]+1+"",t,s;return{c(){e=N("a"),t=D(l),s=E(),this.h()},l(r){e=z(r,"A",{class:!0,href:!0});var f=P(e);t=V(f,l),s=B(f),f.forEach(_),this.h()},h(){L(e,"class","empty-coverslip active svelte-ciobte"),L(e,"href",null)},m(r,f){m(r,e,f),F(e,t),F(e,s)},d(r){r&&_(e)}}}function ee(i){let e;function l(r,f){return r[10].id===r[1]?Fe:je}let t=l(i),s=t(i);return{c(){s.c(),e=q()},l(r){s.l(r),e=q()},m(r,f){s.m(r,f),m(r,e,f)},p(r,f){t!==(t=l(r))&&(s.d(1),s=t(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&_(e)}}}function Le(i){let e,l,t=i[0].coverslips,s=[];for(let r=0;r<t.length;r+=1)s[r]=ee(y(i,t,r));return{c(){e=N("div"),l=N("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=z(r,"DIV",{class:!0});var f=P(e);l=z(f,"DIV",{class:!0});var o=P(l);for(let $=0;$<s.length;$+=1)s[$].l(o);o.forEach(_),f.forEach(_),this.h()},h(){L(l,"class","plate-grid svelte-ciobte"),L(e,"class","platediv svelte-ciobte")},m(r,f){m(r,e,f),F(e,l);for(let o=0;o<s.length;o+=1)s[o].m(l,null)},p(r,f){if(f&3){t=r[0].coverslips;let o;for(o=0;o<t.length;o+=1){const $=y(r,t,o);s[o]?s[o].p($,f):(s[o]=ee($),s[o].c(),s[o].m(l,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},d(r){r&&_(e),le(s,r)}}}function Ne(i){let e,l;return e=new se({props:{coverslip:i[10],href:"/coverslip/"+i[10].id,$$slots:{default:[Pe]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){C(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.coverslip=t[10]),s&1&&(r.href="/coverslip/"+t[10].id),s&512&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function ze(i){let e,l;return e=new se({props:{coverslip:i[10],active:!0,href:"/coverslip/"+i[1],$$slots:{default:[Te]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){C(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.coverslip=t[10]),s&2&&(r.href="/coverslip/"+t[1]),s&512&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Pe(i){let e,l=i[12]+1+"",t,s;return{c(){e=D("#"),t=D(l),s=E()},l(r){e=V(r,"#"),t=V(r,l),s=B(r)},m(r,f){m(r,e,f),m(r,t,f),m(r,s,f)},p:J,d(r){r&&_(e),r&&_(t),r&&_(s)}}}function Te(i){let e,l=i[12]+1+"",t,s;return{c(){e=D("#"),t=D(l),s=E()},l(r){e=V(r,"#"),t=V(r,l),s=B(r)},m(r,f){m(r,e,f),m(r,t,f),m(r,s,f)},p:J,d(r){r&&_(e),r&&_(t),r&&_(s)}}}function te(i){let e,l,t,s;const r=[ze,Ne],f=[];function o($,p){return $[10].id===$[1]?0:1}return e=o(i),l=f[e]=r[e](i),{c(){l.c(),t=q()},l($){l.l($),t=q()},m($,p){f[e].m($,p),m($,t,p),s=!0},p($,p){let v=e;e=o($),e===v?f[e].p($,p):(W(),g(f[v],1,1,()=>{f[v]=null}),U(),l=f[e],l?l.p($,p):(l=f[e]=r[e]($),l.c()),d(l,1),l.m(t.parentNode,t))},i($){s||(d(l),s=!0)},o($){g(l),s=!1},d($){f[e].d($),$&&_(t)}}}function qe(i){let e,l,t=i[0].coverslips,s=[];for(let f=0;f<t.length;f+=1)s[f]=te(x(i,t,f));const r=f=>g(s[f],1,1,()=>{s[f]=null});return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=q()},l(f){for(let o=0;o<s.length;o+=1)s[o].l(f);e=q()},m(f,o){for(let $=0;$<s.length;$+=1)s[$].m(f,o);m(f,e,o),l=!0},p(f,o){if(o&3){t=f[0].coverslips;let $;for($=0;$<t.length;$+=1){const p=x(f,t,$);s[$]?(s[$].p(p,o),d(s[$],1)):(s[$]=te(p),s[$].c(),d(s[$],1),s[$].m(e.parentNode,e))}for(W(),$=t.length;$<s.length;$+=1)r($);U()}},i(f){if(!l){for(let o=0;o<t.length;o+=1)d(s[o]);l=!0}},o(f){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)g(s[o]);l=!1},d(f){le(s,f),f&&_(e)}}}function Ge(i){let e,l,t,s,r,f,o,$,p,v,u;document.title=e=i[2]+" | Slide Tracking",t=new pe({props:{$$slots:{default:[Se]},$$scope:{ctx:i}}});const b=[Me,Ae],c=[];function j(n,a){var A,M;return n[0].coverslips!=null&&((M=(A=n[0])==null?void 0:A.coverslips[0])==null?void 0:M.plateIdx)===-1?0:1}o=j(i),$=c[o]=b[o](i);const S=i[8].default,k=fe(S,i,i[9],null);return{c(){l=E(),h(t.$$.fragment),s=E(),r=N("div"),f=N("div"),$.c(),p=E(),v=N("div"),k&&k.c(),this.h()},l(n){oe("svelte-bz965u",document.head).forEach(_),l=B(n),w(t.$$.fragment,n),s=B(n),r=z(n,"DIV",{class:!0});var A=P(r);f=z(A,"DIV",{class:!0});var M=P(f);$.l(M),M.forEach(_),p=B(A),v=z(A,"DIV",{});var T=P(v);k&&k.l(T),T.forEach(_),A.forEach(_),this.h()},h(){L(f,"class","slide svelte-ciobte"),L(r,"class","wrapper svelte-ciobte")},m(n,a){m(n,l,a),C(t,n,a),m(n,s,a),m(n,r,a),F(r,f),c[o].m(f,null),F(r,p),F(r,v),k&&k.m(v,null),u=!0},p(n,[a]){(!u||a&4)&&e!==(e=n[2]+" | Slide Tracking")&&(document.title=e);const A={};a&519&&(A.$$scope={dirty:a,ctx:n}),t.$set(A);let M=o;o=j(n),o===M?c[o].p(n,a):(W(),g(c[M],1,1,()=>{c[M]=null}),U(),$=c[o],$?$.p(n,a):($=c[o]=b[o](n),$.c()),d($,1),$.m(f,null)),k&&k.p&&(!u||a&512)&&$e(k,S,n,n[9],u?ae(S,n[9],a,null):ue(n[9]),null)},i(n){u||(d(t.$$.fragment,n),d($),d(k,n),u=!0)},o(n){g(t.$$.fragment,n),g($),g(k,n),u=!1},d(n){n&&_(l),I(t,n),n&&_(s),n&&_(r),c[o].d(),k&&k.d(n)}}}function He(i,e,l){let t,s,r,f,o;_e(i,be,c=>l(7,o=c));let{$$slots:$={},$$scope:p}=e,{data:v}=e;const u=v.current.slide.type=="plate"?"Well":"Coverslip",b=me("prompt");return i.$$set=c=>{"data"in c&&l(0,v=c.data),"$$scope"in c&&l(9,p=c.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&l(1,{coverslipId:t}=o.params,t),i.$$.dirty&3&&l(6,s=v.coverslips.findIndex(c=>c.id===t)),i.$$.dirty&65&&l(3,{slideId:r}=v.coverslips[s],r),i.$$.dirty&64&&l(2,f=`${u} #${s+1}`)},[v,t,f,r,u,b,s,o,$,p]}class et extends re{constructor(e){super(),ie(this,e,He,Ge,ne,{data:0})}}export{et as default};
